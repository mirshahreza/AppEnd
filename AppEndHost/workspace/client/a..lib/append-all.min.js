/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
function factory(n){"use strict";function t(t,i){var r=this,f=n(t),u=f[0].nodeName,e=u=="OL"||u=="UL"?"LI":"DIV",o={handle:!1,container:u,container_type:u,same_depth:!1,make_unselectable:!1,nodes:e,nodes_type:e,placeholder_class:null,auto_container_class:"sortable_container",autocreate:!1,group:!1,scroll:!1,update:null};r.$sortable=f.data("sortable",r);r.options=n.extend({},o,i);r.init()}function i(t,i){var r=this;r.$draggable=n(t).data("draggable",r);r.options=n.extend({},{handle:!1,delegate:!1,revert:!1,placeholder:!1,droptarget:!1,container:!1,scroll:!1,update:null,drop:null},i);r.init()}function r(t,i){var r=this;r.$droppable=n(t).data("droppable",r);r.options=n.extend({},{accept:!1,drop:null},i);r.init()}function f(t,i){function s(n){return n=window.hasOwnProperty("event")?window.event:n,n.type.substr(0,5)==="touch"&&(n=n.hasOwnProperty("originalEvent")?n.originalEvent:n,n=n.touches[0]),{pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,dX:f?n.pageX-f.pageX:0,dY:f?n.pageY-f.pageY:0}}function h(n){var t=e.scrollParent(),r={x:n.pageX,y:n.pageY},u=t.offset(),f=t.scrollLeft(),s=t.scrollTop(),c=t.width(),l=t.height();if(window.clearTimeout(o),f>0&&r.x<u.left)t.scrollLeft(f-i.scrollspeed);else if(f<t.prop("scrollWidth")-c&&r.x>u.left+c)t.scrollLeft(f+i.scrollspeed);else if(s>0&&r.y<u.top)t.scrollTop(s-i.scrollspeed);else if(s<t.prop("scrollHeight")-l&&r.y>u.top+l)t.scrollTop(s+i.scrollspeed);else return;o=window.setTimeout(function(){h(n)},i.scrolltimeout)}function c(t){var o=n(t.target);if(r=i.delegate?o.closest(i.delegate):e,o.closest(i.handle||"*").length&&(t.type=="touchstart"||t.button==0)){f=u=s(t);i.dragstart&&i.dragstart.call(r,t,u);r.addClass("dragging");r.trigger("dragstart");n(document).on("touchend.dragaware mouseup.dragaware click.dragaware",a).on("touchmove.dragaware mousemove.dragaware",l);return!1}}function l(n){return u=s(n),i.scroll&&h(u),r.trigger("dragging"),i.drag?(i.drag.call(r,n,u),!1):void 0}function a(t){return window.clearTimeout(o),i.dragstop&&i.dragstop.call(r,t,u),r.removeClass("dragging"),r.trigger("dragstop"),f=!1,u=!1,r=!1,n(document).off(".dragaware"),!1}var e=n(t),r=null,f=null,u=null,o;i=n.extend({},{handle:null,delegate:null,scroll:!1,scrollspeed:15,scrolltimeout:50,dragstart:null,drag:null,dragstop:null},i);e.addClass("dragaware").on("touchstart.dragaware mousedown.dragaware",i.delegate,c);e.on("destroy.dragaware",function(){e.removeClass("dragaware").off(".dragaware")})}function u(n){this.origin=n}return t.prototype.invoke=function(n){var t=this;return n==="destroy"?t.destroy():n==="serialize"?t.serialize(t.$sortable):void 0},t.prototype.init=function(){function e(u,f){var e,o,s;if(f)return e=t.$sortable.add(t.$sortable.find(t.options.container)).not(u.find(t.options.container)).not(i.find(t.options.container)).not(t.find_nodes()),t.options.same_depth&&(s=u.parent().nestingDepth("ul"),e=e.filter(function(){return n(this).nestingDepth("ul")==s})),r.hide(),e.each(function(i,r){for(var c=n(t.create_placeholder()).appendTo(r),h=n(r).children(t.options.nodes).not(".sortable_clone"),e,s,u=0;u<h.length;u++)e=h.eq(u),s=t.square_dist(e.offset(),f),(!o||o.dist>s)&&(o={container:r,before:e[0],dist:s});c.remove()}),r.show(),o}function o(t,i){var r=n(i.container);i.before&&i.before.closest("html")?t.insertBefore(i.before):t.appendTo(r)}var t=this,i,r,f;t.options.make_unselectable&&n("html").unselectable();t.$sortable.addClass("sortable").on("destroy.sortable",function(){t.destroy()});t.$sortable.dragaware(n.extend({},t.options,{delegate:t.options.nodes,dragstart:function(){var e=n(this);i=e.clone().removeAttr("id").addClass("sortable_clone").css({position:"absolute"}).insertAfter(e).offset(e.offset());r=t.create_placeholder().css({height:e.outerHeight(),width:e.outerWidth()}).insertAfter(e);e.hide();f=new u(i.offset());t.options.autocreate&&t.find_nodes().filter(function(i,r){return n(r).find(t.options.container).length==0}).append("<"+t.options.container_type+' class="'+t.options.auto_container_class+'"/>')},drag:function(t,u){var h=n(this),s=f.absolutize(u),c=e(h,s);i.offset(s);o(r,c)},dragstop:function(u,s){var h=n(this),l=f.absolutize(s),c=e(h,l);c&&o(h,c);h.show();i&&i.remove();r&&r.remove();i=null;r=null;c&&t.options.update&&t.options.update.call(t.$sortable,u,t);t.$sortable.trigger("update")}}))},t.prototype.destroy=function(){var t=this;t.options.make_unselectable&&n("html").unselectable("destroy");t.$sortable.removeClass("sortable").off(".sortable").dragaware("destroy")},t.prototype.serialize=function(t){var i=this;return t.children(i.options.nodes).not(i.options.container).map(function(t,r){var u=n(r),e=u.clone().children().remove().end().text().trim(),o=u.attr("id"),f={id:o||e};return u.find(i.options.nodes).length&&(f.children=i.serialize(u.children(i.options.container))),f}).get()},t.prototype.find_nodes=function(){var n=this;return n.$sortable.find(n.options.nodes).not(n.options.container)},t.prototype.create_placeholder=function(){var t=this;return n("<"+t.options.nodes_type+"/>").addClass("sortable_placeholder").addClass(t.options.placeholder_class)},t.prototype.square_dist=function(n,t){return Math.pow(t.left-n.left,2)+Math.pow(t.top-n.top,2)},i.prototype.init=function(){function f(r){var u;return n(".hovering").removeClass("hovering"),i.hide(),u=n(document.elementFromPoint(r.clientX,r.clientY)).closest(t.options.droptarget),i.show(),u.length?(u.addClass("hovering"),u):void 0}var t=this,i,r;t.$draggable.addClass("draggable").on("destroy.draggable",function(){t.destroy()});t.$draggable.dragaware(n.extend({},t.options,{dragstart:function(){var f=n(this);t.options.placeholder||t.options.revert?(i=f.clone().removeAttr("id").addClass("draggable_clone").css({position:"absolute"}).appendTo(t.options.container||f.parent()).offset(f.offset()),t.options.placeholder||n(this).invisible()):i=f;r=new u(i.offset())},drag:function(n,t){var u=f(t);i.offset(r.absolutize(t))},dragstop:function(u,e){var o=n(this),s=f(e);(t.options.revert||t.options.placeholder)&&(o.visible(),t.options.revert||o.offset(r.absolutize(e)),i.remove());i=null;t.options.update&&t.options.update.call(o,u,t);o.trigger("update");s?(t.options.drop&&t.options.drop.call(o,u,s[0]),s.trigger("drop",[o]),s.removeClass("hovering")):t.options.onrevert&&t.options.onrevert.call(o,u)}}))},i.prototype.destroy=function(){var n=this;n.$draggable.dragaware("destroy").removeClass("draggable").off(".draggable")},r.prototype.init=function(){var n=this;n.$droppable.addClass("droppable").on("drop",function(t,i){(!n.options.accept||i.is(n.options.accept))&&n.options.drop&&n.options.drop.call(n.$droppable,t,i)}).on("destroy.droppable",function(){n.destroy()})},r.prototype.destroy=function(){var n=this;n.$droppable.removeClass("droppable").off(".droppable")},u.prototype.absolutize=function(n){return n?{top:this.origin.top+n.dY,left:this.origin.left+n.dX}:this.origin},n.fn.sortable=function(i){var r=this.not(function(){return n(this).is(".sortable")||n(this).closest(".sortable").length});return this.data("sortable")&&typeof i=="string"?this.data("sortable").invoke(i):(r.length&&i&&i.group?new t(r,i):r.each(function(n,r){new t(r,i)}),this)},n.fn.draggable=function(n){return n==="destroy"?this.trigger("destroy.draggable"):this.not(".draggable").each(function(t,r){new i(r,n)}),this},n.fn.droppable=function(n){return n==="destroy"?this.trigger("destroy.droppable"):this.not(".droppable").each(function(t,i){new r(i,n)}),this},n.fn.dragaware=function(n){return n==="destroy"?this.trigger("destroy.dragaware"):this.not(".dragaware").each(function(t,i){new f(i,n)}),this},n.fn.unselectable=function(n){function t(){return!1}return n=="destroy"?this.removeClass("unselectable").removeAttr("unselectable").off("selectstart.unselectable"):this.addClass("unselectable").attr("unselectable","on").on("selectstart.unselectable",t)},n.fn.invisible=function(){return this.css({visibility:"hidden"})},n.fn.visible=function(){return this.css({visibility:"visible"})},n.fn.scrollParent=function(){return this.parents().addBack().filter(function(){var t=n(this);return/(scroll|auto)/.test(t.css("overflow-x")+t.css("overflow-y")+t.css("overflow"))})},n.fn.nestingDepth=function(n){var t=this.parent().closest(n||"*");return t.length?t.nestingDepth(n)+1:0},{Sortable:t,Draggable:i,Droppable:r,Dragaware:f,PositionHelper:u}}!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).bootstrap=t()}(this,function(){"use strict";function oe(n,t){return t&&`${t}::${fe++}`||n.uidEvent||fe++}function se(n){const t=oe(n);return n.uidEvent=t,iu[t]=iu[t]||{},iu[t]}function he(n,t,i=null){return Object.values(n).find(n=>n.callable===t&&n.delegationSelector===i)}function ce(n,t,i){const u="string"==typeof t,f=u?i:t||i;let r=ae(n);return cc.has(r)||(r=n),[u,f,r]}function le(t,i,r,u,f){if("string"==typeof i&&t){let[s,e,h]=ce(i,r,u);if(i in ee){const n=n=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return n.call(this,t)};e=n(e)}const l=se(t),a=l[h]||(l[h]={}),c=he(a,e,s?r:null);if(c)return void(c.oneOff=c.oneOff&&f);const v=oe(e,i.replace(oc,"")),o=s?function(t,i,r){return function u(f){const e=t.querySelectorAll(i);for(let{target:o}=f;o&&o!==this;o=o.parentNode)for(const s of e)if(s===o)return uu(f,{delegateTarget:o}),u.oneOff&&n.off(t,f.type,i,r),r.apply(o,[f])}}(t,r,e):function(t,i){return function r(u){return uu(u,{delegateTarget:t}),r.oneOff&&n.off(t,u.type,i),i.apply(t,[u])}}(t,e);o.delegationSelector=s?r:null;o.callable=e;o.oneOff=f;o.uidEvent=v;a[v]=o;t.addEventListener(h,o,s)}}function ru(n,t,i,r,u){const f=he(t[i],r,u);f&&(n.removeEventListener(i,f,Boolean(u)),delete t[i][f.uidEvent])}function lc(n,t,i,r){const u=t[i]||{};for(const[e,f]of Object.entries(u))e.includes(r)&&ru(n,t,i,f.callable,f.delegationSelector)}function ae(n){return n=n.replace(sc,""),ee[n]||n}function uu(n,t={}){for(const[i,r]of Object.entries(t))try{n[i]=r}catch(t){Object.defineProperty(n,i,{configurable:!0,get:()=>r})}return n}function ve(n){if("true"===n)return!0;if("false"===n)return!1;if(n===Number(n).toString())return Number(n);if(""===n||"null"===n)return null;if("string"!=typeof n)return n;try{return JSON.parse(decodeURIComponent(n))}catch(t){return n}}function fu(n){return n.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}function v(n){return n?(n.nodeName||"").toLowerCase():null}function o(n){if(null==n)return window;if("[object Window]"!==n.toString()){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function ot(n){return n instanceof o(n).Element||n instanceof Element}function c(n){return n instanceof o(n).HTMLElement||n instanceof HTMLElement}function yu(n){return"undefined"!=typeof ShadowRoot&&(n instanceof o(n).ShadowRoot||n instanceof ShadowRoot)}function y(n){return n.split("-")[0]}function wu(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function lo(){return!/^((?!chrome|android).)*safari/i.test(wu())}function ti(n,t,i){void 0===t&&(t=!1);void 0===i&&(i=!1);var r=n.getBoundingClientRect(),f=1,e=1;t&&c(n)&&(f=n.offsetWidth>0&&ni(r.width)/n.offsetWidth||1,e=n.offsetHeight>0&&ni(r.height)/n.offsetHeight||1);var u=(ot(n)?o(n):window).visualViewport,l=!lo()&&i,s=(r.left+(l&&u?u.offsetLeft:0))/f,h=(r.top+(l&&u?u.offsetTop:0))/e,a=r.width/f,v=r.height/e;return{width:a,height:v,top:h,right:s+a,bottom:h+v,left:s,x:s,y:h}}function bu(n){var t=ti(n),i=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:i,height:r}}function ao(n,t){var r=t.getRootNode&&t.getRootNode(),i;if(n.contains(t))return!0;if(r&&yu(r)){i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function k(n){return o(n).getComputedStyle(n)}function dl(n){return["table","td","th"].indexOf(v(n))>=0}function rt(n){return((ot(n)?n.ownerDocument:n.document)||window.document).documentElement}function sr(n){return"html"===v(n)?n:n.assignedSlot||n.parentNode||(yu(n)?n.host:null)||rt(n)}function vo(n){return c(n)&&"fixed"!==k(n).position?n.offsetParent:null}function pi(n){for(var i=o(n),t=vo(n);t&&dl(t)&&"static"===k(t).position;)t=vo(t);return t&&("html"===v(t)||"body"===v(t)&&"static"===k(t).position)?i:t||function(n){var r=/firefox/i.test(wu()),t,i;if(/Trident/i.test(wu())&&c(n)&&"fixed"===k(n).position)return null;for(t=sr(n),yu(t)&&(t=t.host);c(t)&&["html","body"].indexOf(v(t))<0;){if(i=k(t),"none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||r&&"filter"===i.willChange||r&&i.filter&&"none"!==i.filter)return t;t=t.parentNode}return null}(n)||i}function ku(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function wi(n,t,i){return st(n,or(t,i))}function yo(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function po(n,t){return t.reduce(function(t,i){return t[i]=n,t},{})}function ii(n){return n.split("-")[1]}function ko(n){var l,a=n.popper,tt=n.popperRect,h=n.placement,it=n.variation,v=n.offsets,ut=n.position,p=n.gpuAcceleration,ft=n.adaptive,w=n.roundOffsets,et=n.isFixed,ot=v.x,t=void 0===ot?0:ot,st=v.y,u=void 0===st?0:st,ht="function"==typeof w?w({x:t,y:u}):{x:t,y:u},y,g,nt;t=ht.x;u=ht.y;var ct=v.hasOwnProperty("x"),lt=v.hasOwnProperty("y"),b=r,d=i,s=window;if(ft){var c=pi(a),at="clientHeight",vt="clientWidth";c===o(a)&&"static"!==k(c=rt(a)).position&&"absolute"===ut&&(at="scrollHeight",vt="scrollWidth");(h===i||(h===r||h===e)&&it===dt)&&(d=f,u-=(et&&c===s&&s.visualViewport?s.visualViewport.height:c[at])-tt.height,u*=p?1:-1);h!==r&&(h!==i&&h!==f||it!==dt)||(b=e,t-=(et&&c===s&&s.visualViewport?s.visualViewport.width:c[vt])-tt.width,t*=p?1:-1)}return g=Object.assign({position:ut},ft&&bo),nt=!0===w?function(n,t){var r=n.x,u=n.y,i=t.devicePixelRatio||1;return{x:ni(r*i)/i||0,y:ni(u*i)/i||0}}({x:t,y:u},o(a)):{x:t,y:u},t=nt.x,u=nt.y,p?Object.assign({},g,((y={})[d]=lt?"0":"",y[b]=ct?"0":"",y.transform=(s.devicePixelRatio||1)<=1?"translate("+t+"px, "+u+"px)":"translate3d("+t+"px, "+u+"px, 0)",y)):Object.assign({},g,((l={})[d]=lt?u+"px":"",l[b]=ct?t+"px":"",l.transform="",l))}function hr(n){return n.replace(/left|right|bottom|top/g,function(n){return go[n]})}function ts(n){return n.replace(/start|end/g,function(n){return ns[n]})}function nf(n){var t=o(n);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tf(n){return ti(rt(n)).left+nf(n).scrollLeft}function rf(n){var t=k(n),i=t.overflow,r=t.overflowX,u=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+u+r)}function is(n){return["html","body","#document"].indexOf(v(n))>=0?n.ownerDocument.body:c(n)&&rf(n)?n:is(sr(n))}function ki(n,t){var r;void 0===t&&(t=[]);var i=is(n),u=i===(null==(r=n.ownerDocument)?void 0:r.body),f=o(i),e=u?[f].concat(f.visualViewport||[],rf(i)?i:[]):i,s=t.concat(e);return u?s:s.concat(ki(sr(e)))}function uf(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function rs(n,t,i){return t===lu?uf(function(n,t){var c=o(n),u=rt(n),i=c.visualViewport,f=u.clientWidth,e=u.clientHeight,s=0,h=0,r;return i&&(f=i.width,e=i.height,r=lo(),(r||!r&&"fixed"===t)&&(s=i.offsetLeft,h=i.offsetTop)),{width:f,height:e,x:s+tf(n),y:h}}(n,i)):ot(t)?function(n,t){var i=ti(n,!1,"fixed"===t);return i.top=i.top+n.clientTop,i.left=i.left+n.clientLeft,i.bottom=i.top+n.clientHeight,i.right=i.left+n.clientWidth,i.width=n.clientWidth,i.height=n.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):uf(function(n){var r,i=rt(n),u=nf(n),t=null==(r=n.ownerDocument)?void 0:r.body,f=st(i.scrollWidth,i.clientWidth,t?t.scrollWidth:0,t?t.clientWidth:0),o=st(i.scrollHeight,i.clientHeight,t?t.scrollHeight:0,t?t.clientHeight:0),e=-u.scrollLeft+tf(n),s=-u.scrollTop;return"rtl"===k(t||i).direction&&(e+=st(i.clientWidth,t?t.clientWidth:0)-f),{width:f,height:o,x:e,y:s}}(rt(n)))}function us(n){var u,t=n.reference,s=n.element,c=n.placement,l=c?y(c):null,p=c?ii(c):null,a=t.x+t.width/2-s.width/2,v=t.y+t.height/2-s.height/2,o,h;switch(l){case i:u={x:a,y:t.y-s.height};break;case f:u={x:a,y:t.y+t.height};break;case e:u={x:t.x+t.width,y:v};break;case r:u={x:t.x-s.width,y:v};break;default:u={x:t.x,y:t.y}}if(o=l?ku(l):null,null!=o){h="y"===o?"height":"width";switch(p){case et:u[o]=u[o]-(t[h]/2-s[h]/2);break;case dt:u[o]=u[o]+(t[h]/2-s[h]/2)}}return u}function ri(n,t){var ht;void 0===t&&(t={});var r=t,p=r.placement,w=void 0===p?n.placement:p,b=r.strategy,ct=void 0===b?n.strategy:b,d=r.boundary,lt=void 0===d?ge:d,g=r.rootBoundary,at=void 0===g?lu:g,nt=r.elementContext,u=void 0===nt?gt:nt,tt=r.altBoundary,vt=void 0!==tt&&tt,it=r.padding,l=void 0===it?0:it,o=yo("number"!=typeof l?l:po(l,kt)),yt=u===gt?no:gt,ut=n.rects.popper,a=n.elements[vt?yt:u],s=function(n,t,i,r){var e="clippingParents"===t?function(n){var i=ki(sr(n)),t=["absolute","fixed"].indexOf(k(n).position)>=0&&c(n)?pi(n):n;return ot(t)?i.filter(function(n){return ot(n)&&ao(n,t)&&"body"!==v(n)}):[]}(n):[].concat(t),f=[].concat(e,[i]),o=f[0],u=f.reduce(function(t,i){var u=rs(n,i,r);return t.top=st(u.top,t.top),t.right=or(u.right,t.right),t.bottom=or(u.bottom,t.bottom),t.left=st(u.left,t.left),t},rs(n,o,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}(ot(a)?a:a.contextElement||rt(n.elements.popper),lt,at,ct),ft=ti(n.elements.reference),pt=us({reference:ft,element:ut,strategy:"absolute",placement:w}),wt=uf(Object.assign({},ut,pt)),h=u===gt?wt:ft,y={top:s.top-h.top+o.top,bottom:h.bottom-s.bottom+o.bottom,left:s.left-h.left+o.left,right:h.right-s.right+o.right},et=n.modifiersData.offset;return u===gt&&et&&(ht=et[w],Object.keys(y).forEach(function(n){var t=[e,f].indexOf(n)>=0?1:-1,r=[i,f].indexOf(n)>=0?"y":"x";y[n]+=ht[r]*t})),y}function gl(n,t){var r;void 0===t&&(t={});var i=t,s=i.placement,h=i.boundary,c=i.rootBoundary,l=i.padding,a=i.flipVariations,f=i.allowedAutoPlacements,v=void 0===f?vu:f,e=ii(s),o=e?a?au:au.filter(function(n){return ii(n)===e}):kt,u=o.filter(function(n){return v.indexOf(n)>=0});return 0===u.length&&(u=o),r=u.reduce(function(t,i){return t[i]=ri(n,{placement:i,boundary:h,rootBoundary:c,padding:l})[y(i)],t},{}),Object.keys(r).sort(function(n,t){return r[n]-r[t]})}function es(n,t,i){return void 0===i&&(i={x:0,y:0}),{top:n.top-t.height-i.y,right:n.right-t.width+i.x,bottom:n.bottom-t.height+i.y,left:n.left-t.width-i.x}}function os(n){return[i,e,f,r].some(function(t){return n[t]>=0})}function na(n,t,i){void 0===i&&(i=!1);var r,h,l=c(t),a=c(t)&&function(n){var t=n.getBoundingClientRect(),i=ni(t.width)/n.offsetWidth||1,r=ni(t.height)/n.offsetHeight||1;return 1!==i||1!==r}(t),e=rt(t),f=ti(n,a,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(l||!l&&!i)&&(("body"!==v(t)||rf(e))&&(s=(r=t)!==o(r)&&c(r)?{scrollLeft:(h=r).scrollLeft,scrollTop:h.scrollTop}:nf(r)),c(t)?((u=ti(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):e&&(u.x=tf(e))),{x:f.left+s.scrollLeft-u.x,y:f.top+s.scrollTop-u.y,width:f.width,height:f.height}}function ta(n){function u(n){t.add(n.name);[].concat(n.requires||[],n.requiresIfExists||[]).forEach(function(n){if(!t.has(n)){var r=i.get(n);r&&u(r)}});r.push(n)}var i=new Map,t=new Set,r=[];return n.forEach(function(n){i.set(n.name,n)}),n.forEach(function(n){t.has(n.name)||u(n)}),r}function ls(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return!i.some(function(n){return!(n&&"function"==typeof n.getBoundingClientRect)})}function cr(n){void 0===n&&(n={});var i=n,r=i.defaultModifiers,f=void 0===r?[]:r,u=i.defaultOptions,t=void 0===u?ef:u;return function(n,i,r){function l(){s.forEach(function(n){return n()});s=[]}void 0===r&&(r=t);var c,o,u={placement:"bottom",orderedModifiers:[],options:Object.assign({},ef,t),modifiersData:{},elements:{reference:n,popper:i},attributes:{},styles:{}},s=[],h=!1,e={state:u,setOptions:function(r){var a="function"==typeof r?r(u.options):r,h,o,c;return l(),u.options=Object.assign({},t,u.options,a),u.scrollParents={reference:ot(n)?ki(n):n.contextElement?ki(n.contextElement):[],popper:ki(i)},c=function(n){var t=ta(n);return co.reduce(function(n,i){return n.concat(t.filter(function(n){return n.phase===i}))},[])}((h=[].concat(f,u.options.modifiers),o=h.reduce(function(n,t){var i=n[t.name];return n[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,n},{}),Object.keys(o).map(function(n){return o[n]}))),u.orderedModifiers=c.filter(function(n){return n.enabled}),u.orderedModifiers.forEach(function(n){var f=n.name,t=n.options,o=void 0===t?{}:t,i=n.effect,r;"function"==typeof i&&(r=i({state:u,name:f,instance:e,options:o}),s.push(r||function(){}))}),e.update()},forceUpdate:function(){var n;if(!h){var r=u.elements,f=r.reference,t=r.popper;if(ls(f,t))for(u.rects={reference:na(f,pi(t),"fixed"===u.options.strategy),popper:bu(t)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(n){return u.modifiersData[n.name]=Object.assign({},n.data)}),n=0;n<u.orderedModifiers.length;n++)if(!0!==u.reset){var i=u.orderedModifiers[n],o=i.fn,s=i.options,c=void 0===s?{}:s,l=i.name;"function"==typeof o&&(u=o({state:u,options:c,name:l,instance:e})||u)}else u.reset=!1,n=-1}},update:(c=function(){return new Promise(function(n){e.forceUpdate();n(u)})},function(){return o||(o=new Promise(function(n){Promise.resolve().then(function(){o=void 0;n(c())})})),o}),destroy:function(){l();h=!0}};return ls(n,i)?(e.setOptions(r).then(function(n){!h&&r.onFirstUpdate&&r.onFirstUpdate(n)}),e):e}}var bo,bi,go,ns,ef;const g=new Map,dr={set(n,t,i){g.has(n)||g.set(n,new Map);const r=g.get(n);r.has(t)||0===r.size?r.set(t,i):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`)},get:(n,t)=>g.has(n)&&g.get(n).get(t)||null,remove(n,t){if(g.has(n)){const i=g.get(n);i.delete(t);0===i.size&&g.delete(n)}}},gr="transitionend",ne=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(n,t)=>`#${CSS.escape(t)}`)),n),te=n=>{n.dispatchEvent(new Event(gr))},w=n=>!(!n||"object"!=typeof n)&&(void 0!==n.jquery&&(n=n[0]),void 0!==n.nodeType),nt=n=>w(n)?n.jquery?n[0]:n:"string"==typeof n&&n.length>0?document.querySelector(ne(n)):null,vt=n=>{if(!w(n)||0===n.getClientRects().length)return!1;const i="visible"===getComputedStyle(n).getPropertyValue("visibility"),t=n.closest("details:not([open])");if(!t)return i;if(t!==n){const i=n.closest("summary");if(i&&i.parentNode!==t||null===i)return!1}return i},tt=n=>!n||n.nodeType!==Node.ELEMENT_NODE||!!n.classList.contains("disabled")||(void 0!==n.disabled?n.disabled:n.hasAttribute("disabled")&&"false"!==n.getAttribute("disabled")),ie=n=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?ie(n.parentNode):null},gi=()=>{},hi=n=>{n.offsetHeight},re=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,nu=[],s=()=>"rtl"===document.documentElement.dir,h=n=>{var t;t=()=>{const t=re();if(t){const i=n.NAME,r=t.fn[i];t.fn[i]=n.jQueryInterface;t.fn[i].Constructor=n;t.fn[i].noConflict=()=>(t.fn[i]=r,n.jQueryInterface)}};"loading"===document.readyState?(nu.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of nu)n()}),nu.push(t)):t()},u=(n,t=[],i=n)=>"function"==typeof n?n(...t):i,ue=(n,t,i=!0)=>{if(!i)return void u(n);const e=(n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:i}=window.getComputedStyle(n);const r=Number.parseFloat(t),u=Number.parseFloat(i);return r||u?(t=t.split(",")[0],i=i.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(i))):0})(t)+5;let r=!1;const f=({target:i})=>{i===t&&(r=!0,t.removeEventListener(gr,f),u(n))};t.addEventListener(gr,f);setTimeout(()=>{r||te(t)},e)},tu=(n,t,i,r)=>{const f=n.length;let u=n.indexOf(t);return-1===u?!i&&r?n[f-1]:n[0]:(u+=i?1:-1,r&&(u=(u+f)%f),n[Math.max(0,Math.min(u,f-1))])},oc=/[^.]*(?=\..*)\.|.*/,sc=/\..*/,hc=/::\d+$/,iu={};let fe=1;const ee={mouseenter:"mouseover",mouseleave:"mouseout"},cc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);const n={on(n,t,i,r){le(n,t,i,r,!1)},one(n,t,i,r){le(n,t,i,r,!0)},off(n,t,i,r){if("string"==typeof t&&n){const[s,e,f]=ce(t,i,r),h=f!==t,u=se(n),o=u[f]||{},c=t.startsWith(".");if(void 0===e){if(c)for(const i of Object.keys(u))lc(n,u,i,t.slice(1));for(const[r,i]of Object.entries(o)){const e=r.replace(hc,"");h&&!t.includes(e)||ru(n,u,f,i.callable,i.delegationSelector)}}else{if(!Object.keys(o).length)return;ru(n,u,f,e,s?i:null)}}},trigger(n,t,i){if("string"!=typeof t||!n)return null;const f=re();let r=null,e=!0,o=!0,s=!1;t!==ae(t)&&f&&(r=f.Event(t,i),f(n).trigger(r),e=!r.isPropagationStopped(),o=!r.isImmediatePropagationStopped(),s=r.isDefaultPrevented());const u=uu(new Event(t,{bubbles:e,cancelable:!0}),i);return s&&u.preventDefault(),o&&n.dispatchEvent(u),u.defaultPrevented&&r&&r.preventDefault(),u}};const b={setDataAttribute(n,t,i){n.setAttribute(`data-bs-${fu(t)}`,i)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${fu(t)}`)},getDataAttributes(n){if(!n)return{};const t={},i=Object.keys(n.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const r of i){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length);t[i]=ve(n.dataset[r])}return t},getDataAttribute:(n,t)=>ve(n.getAttribute(`data-bs-${fu(t)}`))};class ci{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!');}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,t){const i=w(t)?b.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...w(t)?b.getDataAttributes(t):{},..."object"==typeof n?n:{}}}_typeCheckConfig(n,t=this.constructor.DefaultType){for(const[r,u]of Object.entries(t)){const t=n[r],f=w(t)?"element":null==(i=t)?`${i}`:Object.prototype.toString.call(i).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(u).test(f))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${f}" but expected type "${u}".`);}var i}}class a extends ci{constructor(n,t){super();(n=nt(n))&&(this._element=n,this._config=this._getConfig(t),dr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){dr.remove(this._element,this.constructor.DATA_KEY);n.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,t,i=!0){ue(n,t,i)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return dr.get(nt(n),this.DATA_KEY)}static getOrCreateInstance(n,t={}){return this.getInstance(n)||new this(n,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(n){return`${n}${this.EVENT_KEY}`}}const eu=n=>{let t=n.getAttribute("data-bs-target");if(!t||"#"===t){let i=n.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`);t=i&&"#"!==i?i.trim():null}return t?t.split(",").map(n=>ne(n)).join(","):null},t={find:(n,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,n)),findOne:(n,t=document.documentElement)=>Element.prototype.querySelector.call(t,n),children:(n,t)=>[].concat(...n.children).filter(n=>n.matches(t)),parents(n,t){const r=[];let i=n.parentNode.closest(t);for(;i;)r.push(i),i=i.parentNode.closest(t);return r},prev(n,t){let i=n.previousElementSibling;for(;i;){if(i.matches(t))return[i];i=i.previousElementSibling}return[]},next(n,t){let i=n.nextElementSibling;for(;i;){if(i.matches(t))return[i];i=i.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(n=>!tt(n)&&vt(n))},getSelectorFromElement(n){const i=eu(n);return i&&t.findOne(i)?i:null},getElementFromSelector(n){const i=eu(n);return i?t.findOne(i):null},getMultipleElementsFromSelector(n){const i=eu(n);return i?t.find(i):[]}},nr=(i,r="hide")=>{const f=`click.dismiss${i.EVENT_KEY}`,u=i.NAME;n.on(document,f,`[data-bs-dismiss="${u}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),!tt(this)){const f=t.getElementFromSelector(this)||this.closest(`.${u}`);i.getOrCreateInstance(f)[r]()}})},ye=".bs.alert",ac=`close${ye}`,vc=`closed${ye}`;class tr extends a{static get NAME(){return"alert"}close(){if(!n.trigger(this._element,ac).defaultPrevented){this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,t)}}_destroyElement(){this._element.remove();n.trigger(this._element,vc);this.dispose()}static jQueryInterface(n){return this.each(function(){const t=tr.getOrCreateInstance(this);if("string"==typeof n){if(void 0===t[n]||n.startsWith("_")||"constructor"===n)throw new TypeError(`No method named "${n}"`);t[n](this)}})}}nr(tr,"close");h(tr);const pe='[data-bs-toggle="button"]';class ir extends a{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(n){return this.each(function(){const t=ir.getOrCreateInstance(this);"toggle"===n&&t[n]()})}}n.on(document,"click.bs.button.data-api",pe,n=>{n.preventDefault();const t=n.target.closest(pe);ir.getOrCreateInstance(t).toggle()});h(ir);const yt=".bs.swipe",yc=`touchstart${yt}`,pc=`touchmove${yt}`,wc=`touchend${yt}`,bc=`pointerdown${yt}`,kc=`pointerup${yt}`,dc={endCallback:null,leftCallback:null,rightCallback:null},gc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ou extends ci{constructor(n,t){super();this._element=n;n&&ou.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return dc}static get DefaultType(){return gc}static get NAME(){return"swipe"}dispose(){n.off(this._element,yt)}_start(n){this._supportPointerEvents?this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX):this._deltaX=n.touches[0].clientX}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX);this._handleSwipe();u(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(!(n<=40)){const t=n/this._deltaX;this._deltaX=0;t&&u(t>0?this._config.rightCallback:this._config.leftCallback)}}_initEvents(){this._supportPointerEvents?(n.on(this._element,bc,n=>this._start(n)),n.on(this._element,kc,n=>this._end(n)),this._element.classList.add("pointer-event")):(n.on(this._element,yc,n=>this._start(n)),n.on(this._element,pc,n=>this._move(n)),n.on(this._element,wc,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&("pen"===n.pointerType||"touch"===n.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const it=".bs.carousel",we=".data-api",li="next",pt="prev",wt="left",rr="right",nl=`slide${it}`,su=`slid${it}`,tl=`keydown${it}`,il=`mouseenter${it}`,rl=`mouseleave${it}`,ul=`dragstart${it}`,fl=`load${it}${we}`,el=`click${it}${we}`,be="carousel",ur="active",ke=".active",de=".carousel-item",ol=ke+de,sl={ArrowLeft:rr,ArrowRight:wt},hl={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},cl={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class ai extends a{constructor(n,i){super(n,i);this._interval=null;this._activeElement=null;this._isSliding=!1;this.touchTimeout=null;this._swipeHelper=null;this._indicatorsElement=t.findOne(".carousel-indicators",this._element);this._addEventListeners();this._config.ride===be&&this.cycle()}static get Default(){return hl}static get DefaultType(){return cl}static get NAME(){return"carousel"}next(){this._slide(li)}nextWhenVisible(){!document.hidden&&vt(this._element)&&this.next()}prev(){this._slide(pt)}pause(){this._isSliding&&te(this._element);this._clearInterval()}cycle(){this._clearInterval();this._updateInterval();this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?n.one(this._element,su,()=>this.cycle()):this.cycle())}to(t){const i=this._getItems();if(!(t>i.length-1)&&!(t<0)){if(this._isSliding)return void n.one(this._element,su,()=>this.to(t));const r=this._getItemIndex(this._getActive());if(r!==t){const u=t>r?li:pt;this._slide(u,i[t])}}}dispose(){this._swipeHelper&&this._swipeHelper.dispose();super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&n.on(this._element,tl,n=>this._keydown(n));"hover"===this._config.pause&&(n.on(this._element,il,()=>this.pause()),n.on(this._element,rl,()=>this._maybeEnableCycle()));this._config.touch&&ou.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of t.find(".carousel-item img",this._element))n.on(i,ul,n=>n.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(wt)),rightCallback:()=>this._slide(this._directionToOrder(rr)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ou(this._element,i)}_keydown(n){if(!/input|textarea/i.test(n.target.tagName)){const t=sl[n.key];t&&(n.preventDefault(),this._slide(this._directionToOrder(t)))}}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(this._indicatorsElement){const r=t.findOne(ke,this._indicatorsElement);r.classList.remove(ur);r.removeAttribute("aria-current");const i=t.findOne(`[data-bs-slide-to="${n}"]`,this._indicatorsElement);i&&(i.classList.add(ur),i.setAttribute("aria-current","true"))}}_updateInterval(){const n=this._activeElement||this._getActive();if(n){const t=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}}_slide(t,i=null){if(!this._isSliding){const u=this._getActive(),e=t===li,r=i||tu(this._getItems(),u,e,this._config.wrap);if(r!==u){const s=this._getItemIndex(r),h=i=>n.trigger(this._element,i,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(u),to:s});if(!h(nl).defaultPrevented&&u&&r){const c=Boolean(this._interval);this.pause();this._isSliding=!0;this._setActiveIndicatorElement(s);this._activeElement=r;const f=e?"carousel-item-start":"carousel-item-end",o=e?"carousel-item-next":"carousel-item-prev";r.classList.add(o);hi(r);u.classList.add(f);r.classList.add(f);this._queueCallback(()=>{r.classList.remove(f,o),r.classList.add(ur),u.classList.remove(ur,o,f),this._isSliding=!1,h(su)},u,this._isAnimated());c&&this.cycle()}}}}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return t.findOne(ol,this._element)}_getItems(){return t.find(de,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return s()?n===wt?pt:li:n===wt?li:pt}_orderToDirection(n){return s()?n===pt?wt:rr:n===pt?rr:wt}static jQueryInterface(n){return this.each(function(){const t=ai.getOrCreateInstance(this,n);if("number"!=typeof n){if("string"==typeof n){if(void 0===t[n]||n.startsWith("_")||"constructor"===n)throw new TypeError(`No method named "${n}"`);t[n]()}}else t.to(n)})}}n.on(document,el,"[data-bs-slide], [data-bs-slide-to]",function(n){const r=t.getElementFromSelector(this);if(r&&r.classList.contains(be)){n.preventDefault();const i=ai.getOrCreateInstance(r),u=this.getAttribute("data-bs-slide-to");return u?(i.to(u),void i._maybeEnableCycle()):"next"===b.getDataAttribute(this,"slide")?(i.next(),void i._maybeEnableCycle()):(i.prev(),void i._maybeEnableCycle())}});n.on(window,fl,()=>{const n=t.find('[data-bs-ride="carousel"]');for(const t of n)ai.getOrCreateInstance(t)});h(ai);const vi=".bs.collapse",ll=`show${vi}`,al=`shown${vi}`,vl=`hide${vi}`,yl=`hidden${vi}`,pl=`click${vi}.data-api`,hu="show",bt="collapse",fr="collapsing",wl=`:scope .${bt} .${bt}`,cu='[data-bs-toggle="collapse"]',bl={parent:null,toggle:!0},kl={parent:"(null|element)",toggle:"boolean"};class yi extends a{constructor(n,i){super(n,i);this._isTransitioning=!1;this._triggerArray=[];const r=t.find(cu);for(const n of r){const i=t.getSelectorFromElement(n),r=t.find(i).filter(n=>n===this._element);null!==i&&r.length&&this._triggerArray.push(n)}this._initializeChildren();this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown());this._config.toggle&&this.toggle()}static get Default(){return bl}static get DefaultType(){return kl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(!this._isTransitioning&&!this._isShown()){let i=[];if((this._config.parent&&(i=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(n=>n!==this._element).map(n=>yi.getOrCreateInstance(n,{toggle:!1}))),!i.length||!i[0]._isTransitioning)&&!n.trigger(this._element,ll).defaultPrevented){for(const n of i)n.hide();const t=this._getDimension();this._element.classList.remove(bt);this._element.classList.add(fr);this._element.style[t]=0;this._addAriaAndCollapsedClass(this._triggerArray,!0);this._isTransitioning=!0;const r=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(bt,hu),this._element.style[t]="",n.trigger(this._element,al)},this._element,!0);this._element.style[t]=`${this._element[r]}px`}}}hide(){if(!this._isTransitioning&&this._isShown()&&!n.trigger(this._element,vl).defaultPrevented){const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`;hi(this._element);this._element.classList.add(fr);this._element.classList.remove(bt,hu);for(const n of this._triggerArray){const i=t.getElementFromSelector(n);i&&!this._isShown(i)&&this._addAriaAndCollapsedClass([n],!1)}this._isTransitioning=!0;this._element.style[i]="";this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(fr),this._element.classList.add(bt),n.trigger(this._element,yl)},this._element,!0)}}_isShown(n=this._element){return n.classList.contains(hu)}_configAfterMerge(n){return n.toggle=Boolean(n.toggle),n.parent=nt(n.parent),n}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent){const n=this._getFirstLevelChildren(cu);for(const i of n){const n=t.getElementFromSelector(i);n&&this._addAriaAndCollapsedClass([i],this._isShown(n))}}}_getFirstLevelChildren(n){const i=t.find(wl,this._config.parent);return t.find(n,this._config.parent).filter(n=>!i.includes(n))}_addAriaAndCollapsedClass(n,t){if(n.length)for(const i of n)i.classList.toggle("collapsed",!t),i.setAttribute("aria-expanded",t)}static jQueryInterface(n){const t={};return"string"==typeof n&&/show|hide/.test(n)&&(t.toggle=!1),this.each(function(){const i=yi.getOrCreateInstance(this,t);if("string"==typeof n){if(void 0===i[n])throw new TypeError(`No method named "${n}"`);i[n]()}})}}n.on(document,pl,cu,function(n){("A"===n.target.tagName||n.delegateTarget&&"A"===n.delegateTarget.tagName)&&n.preventDefault();for(const n of t.getMultipleElementsFromSelector(this))yi.getOrCreateInstance(n,{toggle:!1}).toggle()});h(yi);var i="top",f="bottom",e="right",r="left",er="auto",kt=[i,f,e,r],et="start",dt="end",ge="clippingParents",lu="viewport",gt="popper",no="reference",au=kt.reduce(function(n,t){return n.concat([t+"-"+et,t+"-"+dt])},[]),vu=[].concat(kt,[er]).reduce(function(n,t){return n.concat([t,t+"-"+et,t+"-"+dt])},[]),to="beforeRead",io="read",ro="afterRead",uo="beforeMain",fo="main",eo="afterMain",oo="beforeWrite",so="write",ho="afterWrite",co=[to,io,ro,uo,fo,eo,oo,so,ho];const pu={name:"applyStyles",enabled:!0,phase:"write",fn:function(n){var t=n.state;Object.keys(t.elements).forEach(function(n){var u=t.styles[n]||{},r=t.attributes[n]||{},i=t.elements[n];c(i)&&v(i)&&(Object.assign(i.style,u),Object.keys(r).forEach(function(n){var t=r[n];!1===t?i.removeAttribute(n):i.setAttribute(n,!0===t?"":t)}))})},effect:function(n){var t=n.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(n){var r=t.elements[n],u=t.attributes[n]||{},f=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:i[n]).reduce(function(n,t){return n[t]="",n},{});c(r)&&v(r)&&(Object.assign(r.style,f),Object.keys(u).forEach(function(n){r.removeAttribute(n)}))})}},requires:["computeStyles"]};var st=Math.max,or=Math.min,ni=Math.round;const wo={name:"arrow",enabled:!0,phase:"main",fn:function(n){var s,t=n.state,d=n.name,g=n.options,h=t.elements.arrow,c=t.modifiersData.popperOffsets,a=y(t.placement),u=ku(a),o=[r,e].indexOf(a)>=0?"height":"width";if(h&&c){var v=function(n,t){return yo("number"!=typeof(n="function"==typeof n?n(Object.assign({},t.rects,{placement:t.placement})):n)?n:po(n,kt))}(g.padding,t),p=bu(h),nt="y"===u?i:r,tt="y"===u?f:e,it=t.rects.reference[o]+t.rects.reference[u]-c[u]-t.rects.popper[o],rt=c[u]-t.rects.reference[u],l=pi(h),w=l?"y"===u?l.clientHeight||0:l.clientWidth||0:0,ut=it/2-rt/2,ft=v[nt],et=w-p[o]-v[tt],b=w/2-p[o]/2+ut,k=wi(ft,b,et),ot=u;t.modifiersData[d]=((s={})[ot]=k,s.centerOffset=k-b,s)}},effect:function(n){var i=n.state,r=n.options.element,t=void 0===r?"[data-popper-arrow]":r;null!=t&&("string"!=typeof t||(t=i.elements.popper.querySelector(t)))&&ao(i.elements.popper,t)&&(i.elements.arrow=t)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};bo={top:"auto",right:"auto",bottom:"auto",left:"auto"};const du={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(n){var t=n.state,i=n.options,r=i.gpuAcceleration,s=void 0===r||r,u=i.adaptive,h=void 0===u||u,f=i.roundOffsets,e=void 0===f||f,o={placement:y(t.placement),variation:ii(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ko(Object.assign({},o,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:h,roundOffsets:e}))));null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ko(Object.assign({},o,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:e}))));t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};bi={passive:!0};const gu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(n){var i=n.state,t=n.instance,r=n.options,u=r.scroll,f=void 0===u||u,e=r.resize,s=void 0===e||e,h=o(i.elements.popper),c=[].concat(i.scrollParents.reference,i.scrollParents.popper);return f&&c.forEach(function(n){n.addEventListener("scroll",t.update,bi)}),s&&h.addEventListener("resize",t.update,bi),function(){f&&c.forEach(function(n){n.removeEventListener("scroll",t.update,bi)});s&&h.removeEventListener("resize",t.update,bi)}},data:{}};go={left:"right",right:"left",bottom:"top",top:"bottom"};ns={start:"end",end:"start"};const fs={name:"flip",enabled:!0,phase:"main",fn:function(n){var t=n.state,u=n.options,k=n.name,lt,h,at,v;if(!t.modifiersData[k]._skip){for(var d=u.mainAxis,vt=void 0===d||d,g=u.altAxis,yt=void 0===g||g,pt=u.fallbackPlacements,nt=u.padding,tt=u.boundary,it=u.rootBoundary,wt=u.altBoundary,rt=u.flipVariations,p=void 0===rt||rt,bt=u.allowedAutoPlacements,o=t.options.placement,kt=y(o),dt=pt||(kt!==o&&p?function(n){if(y(n)===er)return[];var t=hr(n);return[ts(n),t,ts(t)]}(o):[hr(o)]),c=[o].concat(dt).reduce(function(n,i){return n.concat(y(i)===er?gl(t,{placement:i,boundary:tt,rootBoundary:it,padding:nt,flipVariations:p,allowedAutoPlacements:bt}):i)},[]),gt=t.rects.reference,ni=t.rects.popper,ut=new Map,ft=!0,l=c[0],w=0;w<c.length;w++){var s=c[w],ot=y(s),st=ii(s)===et,ht=[i,f].indexOf(ot)>=0,ct=ht?"width":"height",b=ri(t,{placement:s,boundary:tt,rootBoundary:it,altBoundary:wt,padding:nt}),a=ht?st?e:r:st?f:i;if(gt[ct]>ni[ct]&&(a=hr(a)),lt=hr(a),h=[],vt&&h.push(b[ot]<=0),yt&&h.push(b[a]<=0,b[lt]<=0),h.every(function(n){return n})){l=s;ft=!1;break}ut.set(s,h)}if(ft)for(at=function(n){var t=c.find(function(t){var i=ut.get(t);if(i)return i.slice(0,n).every(function(n){return n})});if(t)return l=t,"break"},v=p?3:1;v>0&&"break"!==at(v);v--);t.placement!==l&&(t.modifiersData[k]._skip=!0,t.placement=l,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};const ss={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(n){var t=n.state,e=n.name,o=t.rects.reference,s=t.rects.popper,h=t.modifiersData.preventOverflow,c=ri(t,{elementContext:"reference"}),l=ri(t,{altBoundary:!0}),i=es(c,o),r=es(l,s,h),u=os(i),f=os(r);t.modifiersData[e]={referenceClippingOffsets:i,popperEscapeOffsets:r,isReferenceHidden:u,hasPopperEscaped:f};t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}},hs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(n){var t=n.state,s=n.options,h=n.name,u=s.offset,c=void 0===u?[0,0]:u,f=vu.reduce(function(n,u){return n[u]=function(n,t,u){var s=y(n),c=[r,i].indexOf(s)>=0?-1:1,h="function"==typeof u?u(Object.assign({},t,{placement:n})):u,f=h[0],o=h[1];return f=f||0,o=(o||0)*c,[r,e].indexOf(s)>=0?{x:o,y:f}:{x:f,y:o}}(u,t.rects,c),n},{}),o=f[t.placement],l=o.x,a=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=a);t.modifiersData[h]=f}},ff={name:"popperOffsets",enabled:!0,phase:"read",fn:function(n){var t=n.state,i=n.name;t.modifiersData[i]=us({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},cs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(n){var t=n.state,s=n.options,bi=n.name,ht=s.mainAxis,ki=void 0===ht||ht,ct=s.altAxis,di=void 0!==ct&&ct,gi=s.boundary,nr=s.rootBoundary,tr=s.altBoundary,ir=s.padding,lt=s.tether,h=void 0===lt||lt,at=s.tetherOffset,it=void 0===at?0:at,k=ri(t,{boundary:gi,rootBoundary:nr,padding:ir,altBoundary:tr}),vt=y(t.placement),rt=ii(t.placement),yt=!rt,u=ku(vt),p="x"===u?"y":"x",w=t.modifiersData.popperOffsets,c=t.rects.reference,b=t.rects.popper,d="function"==typeof it?it(Object.assign({},t.rects,{placement:t.placement})):it,a="number"==typeof d?{mainAxis:d,altAxis:d}:Object.assign({mainAxis:0,altAxis:0},d),g=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ut={x:0,y:0};if(w){if(ki){var pt,wt="y"===u?i:r,bt="y"===u?f:e,o="y"===u?"height":"width",v=w[u],kt=v+k[wt],dt=v-k[bt],gt=h?-b[o]/2:0,rr=rt===et?c[o]:b[o],ur=rt===et?-b[o]:-c[o],ni=t.elements.arrow,fr=h&&ni?bu(ni):{width:0,height:0},ti=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ui=ti[wt],fi=ti[bt],nt=wi(0,c[o],fr[o]),er=yt?c[o]/2-gt-nt-ui-a.mainAxis:rr-nt-ui-a.mainAxis,sr=yt?-c[o]/2+gt+nt+fi+a.mainAxis:ur+nt+fi+a.mainAxis,ft=t.elements.arrow&&pi(t.elements.arrow),hr=ft?"y"===u?ft.clientTop||0:ft.clientLeft||0:0,ei=null!=(pt=null==g?void 0:g[u])?pt:0,cr=v+sr-ei,oi=wi(h?or(kt,v+er-ei-hr):kt,v,h?st(dt,cr):dt);w[u]=oi;ut[u]=oi-v}if(di){var si,lr="x"===u?i:r,ar="x"===u?f:e,l=w[p],tt="y"===p?"height":"width",hi=l+k[lr],ci=l-k[ar],ot=-1!==[i,r].indexOf(vt),li=null!=(si=null==g?void 0:g[p])?si:0,ai=ot?hi:l-c[tt]-b[tt]-li+a.altAxis,vi=ot?l+c[tt]+b[tt]-li-a.altAxis:ci,yi=h&&ot?function(n,t,i){var r=wi(n,t,i);return r>i?i:r}(ai,l,vi):wi(h?ai:hi,l,h?vi:ci);w[p]=yi;ut[p]=yi-l}t.modifiersData[bi]=ut}},requiresIfExists:["offset"]};ef={placement:"bottom",modifiers:[],strategy:"absolute"};var ia=cr(),ra=cr({defaultModifiers:[gu,ff,du,pu]}),sf=cr({defaultModifiers:[gu,ff,du,pu,hs,fs,cs,wo,ss]});const as=Object.freeze(Object.defineProperty({__proto__:null,afterMain:eo,afterRead:ro,afterWrite:ho,applyStyles:pu,arrow:wo,auto:er,basePlacements:kt,beforeMain:uo,beforeRead:to,beforeWrite:oo,bottom:f,clippingParents:ge,computeStyles:du,createPopper:sf,createPopperBase:ia,createPopperLite:ra,detectOverflow:ri,end:dt,eventListeners:gu,flip:fs,hide:ss,left:r,main:fo,modifierPhases:co,offset:hs,placements:vu,popper:gt,popperGenerator:cr,popperOffsets:ff,preventOverflow:cs,read:io,reference:no,right:e,start:et,top:i,variationPlacements:au,viewport:lu,write:so},Symbol.toStringTag,{value:"Module"})),vs="dropdown",ht=".bs.dropdown",hf=".data-api",ua="ArrowUp",ys="ArrowDown",fa=`hide${ht}`,ea=`hidden${ht}`,oa=`show${ht}`,sa=`shown${ht}`,ps=`click${ht}${hf}`,ws=`keydown${ht}${hf}`,ha=`keyup${ht}${hf}`,ui="show",ct='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ca=`${ct}.${ui}`,lr=".dropdown-menu",la=s()?"top-end":"top-start",aa=s()?"top-start":"top-end",va=s()?"bottom-end":"bottom-start",ya=s()?"bottom-start":"bottom-end",pa=s()?"left-start":"right-start",wa=s()?"right-start":"left-start",ba={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ka={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class p extends a{constructor(n,i){super(n,i);this._popper=null;this._parent=this._element.parentNode;this._menu=t.next(this._element,lr)[0]||t.prev(this._element,lr)[0]||t.findOne(lr,this._parent);this._inNavbar=this._detectNavbar()}static get Default(){return ba}static get DefaultType(){return ka}static get NAME(){return vs}toggle(){return this._isShown()?this.hide():this.show()}show(){if(!tt(this._element)&&!this._isShown()){const t={relatedTarget:this._element};if(!n.trigger(this._element,oa,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const t of[].concat(...document.body.children))n.on(t,"mouseover",gi);this._element.focus();this._element.setAttribute("aria-expanded",!0);this._menu.classList.add(ui);this._element.classList.add(ui);n.trigger(this._element,sa,t)}}}hide(){if(!tt(this._element)&&this._isShown()){const n={relatedTarget:this._element};this._completeHide(n)}}dispose(){this._popper&&this._popper.destroy();super.dispose()}update(){this._inNavbar=this._detectNavbar();this._popper&&this._popper.update()}_completeHide(t){if(!n.trigger(this._element,fa,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))n.off(t,"mouseover",gi);this._popper&&this._popper.destroy();this._menu.classList.remove(ui);this._element.classList.remove(ui);this._element.setAttribute("aria-expanded","false");b.removeDataAttribute(this._menu,"popper");n.trigger(this._element,ea,t)}}_getConfig(n){if("object"==typeof(n=super._getConfig(n)).reference&&!w(n.reference)&&"function"!=typeof n.reference.getBoundingClientRect)throw new TypeError(`${vs.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return n}_createPopper(){if(void 0===as)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;"parent"===this._config.reference?n=this._parent:w(this._config.reference)?n=nt(this._config.reference):"object"==typeof this._config.reference&&(n=this._config.reference);const t=this._getPopperConfig();this._popper=sf(n,this._menu,t)}_isShown(){return this._menu.classList.contains(ui)}_getPlacement(){const n=this._parent;if(n.classList.contains("dropend"))return pa;if(n.classList.contains("dropstart"))return wa;if(n.classList.contains("dropup-center"))return"top";if(n.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return n.classList.contains("dropup")?t?aa:la:t?ya:va}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:n}=this._config;return"string"==typeof n?n.split(",").map(n=>Number.parseInt(n,10)):"function"==typeof n?t=>n(t,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(b.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...u(this._config.popperConfig,[n])}}_selectMenuItem({key:i,target:n}){const r=t.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(n=>vt(n));r.length&&tu(r,n,i===ys,!r.includes(n)).focus()}static jQueryInterface(n){return this.each(function(){const t=p.getOrCreateInstance(this,n);if("string"==typeof n){if(void 0===t[n])throw new TypeError(`No method named "${n}"`);t[n]()}})}static clearMenus(n){if(2!==n.button&&("keyup"!==n.type||"Tab"===n.key)){const i=t.find(ca);for(const t of i){const i=p.getInstance(t);if(i&&!1!==i._config.autoClose){const r=n.composedPath(),u=r.includes(i._menu);if(!r.includes(i._element)&&("inside"!==i._config.autoClose||u)&&("outside"!==i._config.autoClose||!u)&&(!i._menu.contains(n.target)||("keyup"!==n.type||"Tab"!==n.key)&&!/input|select|option|textarea|form/i.test(n.target.tagName))){const f={relatedTarget:i._element};"click"===n.type&&(f.clickEvent=n);i._completeHide(f)}}}}}static dataApiKeydownHandler(n){const e=/input|textarea/i.test(n.target.tagName),r="Escape"===n.key,u=[ua,ys].includes(n.key);if((u||r)&&(!e||r)){n.preventDefault();const f=this.matches(ct)?this:t.prev(this,ct)[0]||t.next(this,ct)[0]||t.findOne(ct,n.delegateTarget.parentNode),i=p.getOrCreateInstance(f);if(u)return n.stopPropagation(),i.show(),void i._selectMenuItem(n);i._isShown()&&(n.stopPropagation(),i.hide(),f.focus())}}}n.on(document,ws,ct,p.dataApiKeydownHandler);n.on(document,ws,lr,p.dataApiKeydownHandler);n.on(document,ps,p.clearMenus);n.on(document,ha,p.clearMenus);n.on(document,ps,ct,function(n){n.preventDefault();p.getOrCreateInstance(this).toggle()});h(p);const bs="backdrop",ks="show",ds=`mousedown.bs.${bs}`,da={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ga={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class gs extends ci{constructor(n){super();this._config=this._getConfig(n);this._isAppended=!1;this._element=null}static get Default(){return da}static get DefaultType(){return ga}static get NAME(){return bs}show(n){if(!this._config.isVisible)return void u(n);this._append();const t=this._getElement();this._config.isAnimated&&hi(t);t.classList.add(ks);this._emulateAnimation(()=>{u(n)})}hide(n){this._config.isVisible?(this._getElement().classList.remove(ks),this._emulateAnimation(()=>{this.dispose(),u(n)})):u(n)}dispose(){this._isAppended&&(n.off(this._element,ds),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className;this._config.isAnimated&&n.classList.add("fade");this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=nt(n.rootElement),n}_append(){if(!this._isAppended){const t=this._getElement();this._config.rootElement.append(t);n.on(t,ds,()=>{u(this._config.clickCallback)});this._isAppended=!0}}_emulateAnimation(n){ue(n,this._getElement(),this._config.isAnimated)}}const ar=".bs.focustrap",nv=`focusin${ar}`,tv=`keydown.tab${ar}`,nh="backward",iv={autofocus:!0,trapElement:null},rv={autofocus:"boolean",trapElement:"element"};class th extends ci{constructor(n){super();this._config=this._getConfig(n);this._isActive=!1;this._lastTabNavDirection=null}static get Default(){return iv}static get DefaultType(){return rv}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),n.off(document,ar),n.on(document,nv,n=>this._handleFocusin(n)),n.on(document,tv,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,n.off(document,ar))}_handleFocusin(n){const{trapElement:i}=this._config;if(n.target!==document&&n.target!==i&&!i.contains(n.target)){const r=t.focusableChildren(i);0===r.length?i.focus():this._lastTabNavDirection===nh?r[r.length-1].focus():r[0].focus()}}_handleKeydown(n){"Tab"===n.key&&(this._lastTabNavDirection=n.shiftKey?nh:"forward")}}const ih=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rh=".sticky-top",vr="padding-right",uh="margin-right";class cf{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow();this._setElementAttributes(this._element,vr,t=>t+n);this._setElementAttributes(ih,vr,t=>t+n);this._setElementAttributes(rh,uh,t=>t-n)}reset(){this._resetElementAttributes(this._element,"overflow");this._resetElementAttributes(this._element,vr);this._resetElementAttributes(ih,vr);this._resetElementAttributes(rh,uh)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow");this._element.style.overflow="hidden"}_setElementAttributes(n,t,i){const r=this.getWidth();this._applyManipulationCallback(n,n=>{if(n===this._element||!(window.innerWidth>n.clientWidth+r)){this._saveInitialAttribute(n,t);const u=window.getComputedStyle(n).getPropertyValue(t);n.style.setProperty(t,`${i(Number.parseFloat(u))}px`)}})}_saveInitialAttribute(n,t){const i=n.style.getPropertyValue(t);i&&b.setDataAttribute(n,t,i)}_resetElementAttributes(n,t){this._applyManipulationCallback(n,n=>{const i=b.getDataAttribute(n,t);null!==i?(b.removeDataAttribute(n,t),n.style.setProperty(t,i)):n.style.removeProperty(t)})}_applyManipulationCallback(n,i){if(w(n))i(n);else for(const r of t.find(n,this._element))i(r)}}const l=".bs.modal",uv=`hide${l}`,fv=`hidePrevented${l}`,fh=`hidden${l}`,eh=`show${l}`,ev=`shown${l}`,ov=`resize${l}`,sv=`click.dismiss${l}`,hv=`mousedown.dismiss${l}`,cv=`keydown.dismiss${l}`,lv=`click${l}.data-api`,oh="modal-open",sh="show",lf="modal-static",av={backdrop:!0,focus:!0,keyboard:!0},vv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class fi extends a{constructor(n,i){super(n,i);this._dialog=t.findOne(".modal-dialog",this._element);this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._isShown=!1;this._isTransitioning=!1;this._scrollBar=new cf;this._addEventListeners()}static get Default(){return av}static get DefaultType(){return vv}static get NAME(){return"modal"}toggle(n){return this._isShown?this.hide():this.show(n)}show(t){this._isShown||this._isTransitioning||n.trigger(this._element,eh,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(oh),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){this._isShown&&!this._isTransitioning&&(n.trigger(this._element,uv).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(sh),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){n.off(window,l);n.off(this._dialog,l);this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new gs({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new th({trapElement:this._element})}_showElement(i){document.body.contains(this._element)||document.body.append(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");this._element.scrollTop=0;const r=t.findOne(".modal-body",this._dialog);r&&(r.scrollTop=0);hi(this._element);this._element.classList.add(sh);this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,n.trigger(this._element,ev,{relatedTarget:i})},this._dialog,this._isAnimated())}_addEventListeners(){n.on(this._element,cv,n=>{"Escape"===n.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())});n.on(window,ov,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()});n.on(this._element,hv,t=>{n.one(this._element,sv,n=>{this._element===t.target&&this._element===n.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._backdrop.hide(()=>{document.body.classList.remove(oh),this._resetAdjustments(),this._scrollBar.reset(),n.trigger(this._element,fh)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(!n.trigger(this._element,fv).defaultPrevented){const i=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(lf)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(lf),this._queueCallback(()=>{this._element.classList.remove(lf),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),i=n>0;if(i&&!t){const t=s()?"paddingLeft":"paddingRight";this._element.style[t]=`${n}px`}if(!i&&t){const t=s()?"paddingRight":"paddingLeft";this._element.style[t]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}static jQueryInterface(n,t){return this.each(function(){const i=fi.getOrCreateInstance(this,n);if("string"==typeof n){if(void 0===i[n])throw new TypeError(`No method named "${n}"`);i[n](t)}})}}n.on(document,lv,'[data-bs-toggle="modal"]',function(i){const r=t.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&i.preventDefault();n.one(r,eh,t=>{t.defaultPrevented||n.one(r,fh,()=>{vt(this)&&this.focus()})});const u=t.findOne(".modal.show");u&&fi.getInstance(u).hide();fi.getOrCreateInstance(r).toggle(this)});nr(fi);h(fi);const d=".bs.offcanvas",hh=".data-api",yv=`load${d}${hh}`,ch="show",lh="showing",ah="hiding",vh=".offcanvas.show",pv=`show${d}`,wv=`shown${d}`,bv=`hide${d}`,yh=`hidePrevented${d}`,ph=`hidden${d}`,kv=`resize${d}`,dv=`click${d}${hh}`,gv=`keydown.dismiss${d}`,ny={backdrop:!0,keyboard:!0,scroll:!1},ty={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ut extends a{constructor(n,t){super(n,t);this._isShown=!1;this._backdrop=this._initializeBackDrop();this._focustrap=this._initializeFocusTrap();this._addEventListeners()}static get Default(){return ny}static get DefaultType(){return ty}static get NAME(){return"offcanvas"}toggle(n){return this._isShown?this.hide():this.show(n)}show(t){this._isShown||n.trigger(this._element,pv,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new cf).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(lh),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(ch),this._element.classList.remove(lh),n.trigger(this._element,wv,{relatedTarget:t})},this._element,!0))}hide(){this._isShown&&(n.trigger(this._element,bv).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(ah),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(ch,ah),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new cf).reset(),n.trigger(this._element,ph)},this._element,!0)))}dispose(){this._backdrop.dispose();this._focustrap.deactivate();super.dispose()}_initializeBackDrop(){const t=Boolean(this._config.backdrop);return new gs({className:"offcanvas-backdrop",isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?()=>{"static"!==this._config.backdrop?this.hide():n.trigger(this._element,yh)}:null})}_initializeFocusTrap(){return new th({trapElement:this._element})}_addEventListeners(){n.on(this._element,gv,t=>{"Escape"===t.key&&(this._config.keyboard?this.hide():n.trigger(this._element,yh))})}static jQueryInterface(n){return this.each(function(){const t=ut.getOrCreateInstance(this,n);if("string"==typeof n){if(void 0===t[n]||n.startsWith("_")||"constructor"===n)throw new TypeError(`No method named "${n}"`);t[n](this)}})}}n.on(document,dv,'[data-bs-toggle="offcanvas"]',function(i){const r=t.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),!tt(this)){n.one(r,ph,()=>{vt(this)&&this.focus()});const u=t.findOne(vh);u&&u!==r&&ut.getInstance(u).hide();ut.getOrCreateInstance(r).toggle(this)}});n.on(window,yv,()=>{for(const n of t.find(vh))ut.getOrCreateInstance(n).show()});n.on(window,kv,()=>{for(const n of t.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(n).position&&ut.getOrCreateInstance(n).hide()});nr(ut);h(ut);const wh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},iy=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ry=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,uy=(n,t)=>{const i=n.nodeName.toLowerCase();return t.includes(i)?!iy.has(i)||Boolean(ry.test(n.nodeValue)):t.filter(n=>n instanceof RegExp).some(n=>n.test(i))},fy={allowList:wh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div><\/div>"},ey={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},oy={entry:"(string|element|function|null)",selector:"(string|element)"};class sy extends ci{constructor(n){super();this._config=this._getConfig(n)}static get Default(){return fy}static get DefaultType(){return ey}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[t,i]of Object.entries(this._config.content))this._setContent(n,i,t);const t=n.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&t.classList.add(...i.split(" ")),t}_typeCheckConfig(n){super._typeCheckConfig(n);this._checkContent(n.content)}_checkContent(n){for(const[t,i]of Object.entries(n))super._typeCheckConfig({selector:t,entry:i},oy)}_setContent(n,i,r){const u=t.findOne(r,n);u&&((i=this._resolvePossibleFunction(i))?w(i)?this._putElementInTemplate(nt(i),u):this._config.html?u.innerHTML=this._maybeSanitize(i):u.textContent=i:u.remove())}_maybeSanitize(n){return this._config.sanitize?function(n,t,i){if(!n.length)return n;if(i&&"function"==typeof i)return i(n);const r=(new window.DOMParser).parseFromString(n,"text/html"),u=[].concat(...r.body.querySelectorAll("*"));for(const n of u){const i=n.nodeName.toLowerCase();if(!Object.keys(t).includes(i)){n.remove();continue}const r=[].concat(...n.attributes),u=[].concat(t["*"]||[],t[i]||[]);for(const t of r)uy(t,u)||n.removeAttribute(t.nodeName)}return r.body.innerHTML}(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return u(n,[this])}_putElementInTemplate(n,t){if(this._config.html)return t.innerHTML="",void t.append(n);t.textContent=n.textContent}}const hy=new Set(["sanitize","allowList","sanitizeFn"]),af="fade",yr="show",bh=".modal",kh="hide.bs.modal",di="hover",vf="focus",cy={AUTO:"auto",TOP:"top",RIGHT:s()?"left":"right",BOTTOM:"bottom",LEFT:s()?"right":"left"},ly={allowList:wh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',title:"",trigger:"hover focus"},ay={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ei extends a{constructor(n,t){if(void 0===as)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(n,t);this._isEnabled=!0;this._timeout=0;this._isHovered=null;this._activeTrigger={};this._popper=null;this._templateFactory=null;this._newContent=null;this.tip=null;this._setListeners();this._config.selector||this._fixTitle()}static get Default(){return ly}static get DefaultType(){return ay}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout);n.off(this._element.closest(bh),kh,this._hideModalHandler);this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title"));this._disposePopper();super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(this._isWithContent()&&this._isEnabled){const i=n.trigger(this._element,this.constructor.eventName("show")),r=(ie(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(!i.defaultPrevented&&r){this._disposePopper();const t=this._getTipElement();this._element.setAttribute("aria-describedby",t.getAttribute("id"));const{container:u}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(u.append(t),n.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(t),t.classList.add(yr),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))n.on(t,"mouseover",gi);this._queueCallback(()=>{n.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}}}hide(){if(this._isShown()&&!n.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(yr),"ontouchstart"in document.documentElement)for(const t of[].concat(...document.body.children))n.off(t,"mouseover",gi);this._activeTrigger.click=!1;this._activeTrigger[vf]=!1;this._activeTrigger[di]=!1;this._isHovered=null;this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),n.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const t=this._getTemplateFactory(n).toHtml();if(!t)return null;t.classList.remove(af,yr);t.classList.add(`bs-${this.constructor.NAME}-auto`);const i=(n=>{do n+=Math.floor(1e6*Math.random());while(document.getElementById(n));return n})(this.constructor.NAME).toString();return t.setAttribute("id",i),this._isAnimated()&&t.classList.add(af),t}setContent(n){this._newContent=n;this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new sy({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(af)}_isShown(){return this.tip&&this.tip.classList.contains(yr)}_createPopper(n){const t=u(this._config.placement,[this,n,this._element]),i=cy[t.toUpperCase()];return sf(this._element,n,this._getPopperConfig(i))}_getOffset(){const{offset:n}=this._config;return"string"==typeof n?n.split(",").map(n=>Number.parseInt(n,10)):"function"==typeof n?t=>n(t,this._element):n}_resolvePossibleFunction(n){return u(n,[this._element])}_getPopperConfig(n){const t={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...u(this._config.popperConfig,[t])}}_setListeners(){const t=this._config.trigger.split(" ");for(const i of t)if("click"===i)n.on(this._element,this.constructor.eventName("click"),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if("manual"!==i){const t=i===di?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),r=i===di?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");n.on(this._element,t,this._config.selector,n=>{const t=this._initializeOnDelegatedTarget(n);t._activeTrigger["focusin"===n.type?vf:di]=!0;t._enter()});n.on(this._element,r,this._config.selector,n=>{const t=this._initializeOnDelegatedTarget(n);t._activeTrigger["focusout"===n.type?vf:di]=t._element.contains(n.relatedTarget);t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()};n.on(this._element.closest(bh),kh,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,t){clearTimeout(this._timeout);this._timeout=setTimeout(n,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const t=b.getDataAttributes(this._element);for(const n of Object.keys(t))hy.has(n)&&delete t[n];return n={...t,..."object"==typeof n&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=!1===n.container?document.body:nt(n.container),"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[t,i]of Object.entries(this._config))this.constructor.Default[t]!==i&&(n[t]=i);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null);this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const t=ei.getOrCreateInstance(this,n);if("string"==typeof n){if(void 0===t[n])throw new TypeError(`No method named "${n}"`);t[n]()}})}}h(ei);const vy={...ei.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"><\/div><h3 class="popover-header"><\/h3><div class="popover-body"><\/div><\/div>',trigger:"click"},yy={...ei.DefaultType,content:"(null|string|element|function)"};class yf extends ei{static get Default(){return vy}static get DefaultType(){return yy}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const t=yf.getOrCreateInstance(this,n);if("string"==typeof n){if(void 0===t[n])throw new TypeError(`No method named "${n}"`);t[n]()}})}}h(yf);const pf=".bs.scrollspy",py=`activate${pf}`,dh=`click${pf}`,wy=`load${pf}.data-api`,oi="active",wf="[href]",gh=".nav-link",by=`${gh}, .nav-item > ${gh}, .list-group-item`,ky={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},dy={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class pr extends a{constructor(n,t){super(n,t);this._targetLinks=new Map;this._observableSections=new Map;this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element;this._activeTarget=null;this._observer=null;this._previousScrollData={visibleEntryTop:0,parentScrollTop:0};this.refresh()}static get Default(){return ky}static get DefaultType(){return dy}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables();this._maybeEnableSmoothScroll();this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect();super.dispose()}_configAfterMerge(n){return n.target=nt(n.target)||document.body,n.rootMargin=n.offset?`${n.offset}px 0px -30%`:n.rootMargin,"string"==typeof n.threshold&&(n.threshold=n.threshold.split(",").map(n=>Number.parseFloat(n))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(n.off(this._config.target,dh),n.on(this._config.target,dh,wf,n=>{const t=this._observableSections.get(n.target.hash);if(t){n.preventDefault();const i=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(i.scrollTo)return void i.scrollTo({top:r,behavior:"smooth"});i.scrollTop=r}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),n)}_observerCallback(n){const i=n=>this._targetLinks.get(`#${n.target.id}`),r=n=>{this._previousScrollData.visibleEntryTop=n.target.offsetTop,this._process(i(n))},t=(this._rootElement||document.documentElement).scrollTop,u=t>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=t;for(const f of n){if(!f.isIntersecting){this._activeTarget=null;this._clearActiveClass(i(f));continue}const n=f.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(u&&n){if(r(f),!t)return}else u||n||r(f)}}_initializeTargetsAndObservables(){this._targetLinks=new Map;this._observableSections=new Map;const n=t.find(wf,this._config.target);for(const i of n)if(i.hash&&!tt(i)){const n=t.findOne(decodeURI(i.hash),this._element);vt(n)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,n))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(oi),this._activateParents(t),n.trigger(this._element,py,{relatedTarget:t}))}_activateParents(n){if(n.classList.contains("dropdown-item"))t.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(oi);else for(const i of t.parents(n,".nav, .list-group"))for(const n of t.prev(i,by))n.classList.add(oi)}_clearActiveClass(n){n.classList.remove(oi);const i=t.find(`${wf}.${oi}`,n);for(const n of i)n.classList.remove(oi)}static jQueryInterface(n){return this.each(function(){const t=pr.getOrCreateInstance(this,n);if("string"==typeof n){if(void 0===t[n]||n.startsWith("_")||"constructor"===n)throw new TypeError(`No method named "${n}"`);t[n]()}})}}n.on(window,wy,()=>{for(const n of t.find('[data-bs-spy="scroll"]'))pr.getOrCreateInstance(n)});h(pr);const lt=".bs.tab",gy=`hide${lt}`,np=`hidden${lt}`,tp=`show${lt}`,ip=`shown${lt}`,rp=`click${lt}`,up=`keydown${lt}`,fp=`load${lt}`,ep="ArrowLeft",nc="ArrowRight",op="ArrowUp",tc="ArrowDown",bf="Home",ic="End",at="active",rc="fade",kf="show",uc=".dropdown-toggle",df=`:not(${uc})`,fc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',gf=`.nav-link${df}, .list-group-item${df}, [role="tab"]${df}, ${fc}`,sp=`.${at}[data-bs-toggle="tab"], .${at}[data-bs-toggle="pill"], .${at}[data-bs-toggle="list"]`;class si extends a{constructor(t){super(t);this._parent=this._element.closest('.list-group, .nav, [role="tablist"]');this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),n.on(this._element,up,n=>this._keydown(n)))}static get NAME(){return"tab"}show(){const t=this._element;if(!this._elemIsActive(t)){const i=this._getActiveElem(),r=i?n.trigger(i,gy,{relatedTarget:t}):null;n.trigger(t,tp,{relatedTarget:i}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(i,t),this._activate(t,i))}}_activate(i,r){i&&(i.classList.add(at),this._activate(t.getElementFromSelector(i)),this._queueCallback(()=>{"tab"===i.getAttribute("role")?(i.removeAttribute("tabindex"),i.setAttribute("aria-selected",!0),this._toggleDropDown(i,!0),n.trigger(i,ip,{relatedTarget:r})):i.classList.add(kf)},i,i.classList.contains(rc)))}_deactivate(i,r){i&&(i.classList.remove(at),i.blur(),this._deactivate(t.getElementFromSelector(i)),this._queueCallback(()=>{"tab"===i.getAttribute("role")?(i.setAttribute("aria-selected",!1),i.setAttribute("tabindex","-1"),this._toggleDropDown(i,!1),n.trigger(i,np,{relatedTarget:r})):i.classList.remove(kf)},i,i.classList.contains(rc)))}_keydown(n){if([ep,nc,op,tc,bf,ic].includes(n.key)){n.stopPropagation();n.preventDefault();const i=this._getChildren().filter(n=>!tt(n));let t;if([bf,ic].includes(n.key))t=i[n.key===bf?0:i.length-1];else{const r=[nc,tc].includes(n.key);t=tu(i,n.target,r,!0)}t&&(t.focus({preventScroll:!0}),si.getOrCreateInstance(t).show())}}_getChildren(){return t.find(gf,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,t){this._setAttributeIfNotExists(n,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const t=this._elemIsActive(n),i=this._getOuterElement(n);n.setAttribute("aria-selected",t);i!==n&&this._setAttributeIfNotExists(i,"role","presentation");t||n.setAttribute("tabindex","-1");this._setAttributeIfNotExists(n,"role","tab");this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const i=t.getElementFromSelector(n);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${n.id}`))}_toggleDropDown(n,i){const r=this._getOuterElement(n);if(r.classList.contains("dropdown")){const u=(n,u)=>{const f=t.findOne(n,r);f&&f.classList.toggle(u,i)};u(uc,at);u(".dropdown-menu",kf);r.setAttribute("aria-expanded",i)}}_setAttributeIfNotExists(n,t,i){n.hasAttribute(t)||n.setAttribute(t,i)}_elemIsActive(n){return n.classList.contains(at)}_getInnerElement(n){return n.matches(gf)?n:t.findOne(gf,n)}_getOuterElement(n){return n.closest(".nav-item, .list-group-item")||n}static jQueryInterface(n){return this.each(function(){const t=si.getOrCreateInstance(this);if("string"==typeof n){if(void 0===t[n]||n.startsWith("_")||"constructor"===n)throw new TypeError(`No method named "${n}"`);t[n]()}})}}n.on(document,rp,fc,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault();tt(this)||si.getOrCreateInstance(this).show()});n.on(window,fp,()=>{for(const n of t.find(sp))si.getOrCreateInstance(n)});h(si);const ft=".bs.toast",hp=`mouseover${ft}`,cp=`mouseout${ft}`,lp=`focusin${ft}`,ap=`focusout${ft}`,vp=`hide${ft}`,yp=`hidden${ft}`,pp=`show${ft}`,wp=`shown${ft}`,ec="hide",wr="show",br="showing",bp={animation:"boolean",autohide:"boolean",delay:"number"},kp={animation:!0,autohide:!0,delay:5e3};class kr extends a{constructor(n,t){super(n,t);this._timeout=null;this._hasMouseInteraction=!1;this._hasKeyboardInteraction=!1;this._setListeners()}static get Default(){return kp}static get DefaultType(){return bp}static get NAME(){return"toast"}show(){n.trigger(this._element,pp).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ec),hi(this._element),this._element.classList.add(wr,br),this._queueCallback(()=>{this._element.classList.remove(br),n.trigger(this._element,wp),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(n.trigger(this._element,vp).defaultPrevented||(this._element.classList.add(br),this._queueCallback(()=>{this._element.classList.add(ec),this._element.classList.remove(br,wr),n.trigger(this._element,yp)},this._element,this._config.animation)))}dispose(){this._clearTimeout();this.isShown()&&this._element.classList.remove(wr);super.dispose()}isShown(){return this._element.classList.contains(wr)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,t){switch(n.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const i=n.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){n.on(this._element,hp,n=>this._onInteraction(n,!0));n.on(this._element,cp,n=>this._onInteraction(n,!1));n.on(this._element,lp,n=>this._onInteraction(n,!0));n.on(this._element,ap,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout);this._timeout=null}static jQueryInterface(n){return this.each(function(){const t=kr.getOrCreateInstance(this,n);if("string"==typeof n){if(void 0===t[n])throw new TypeError(`No method named "${n}"`);t[n](this)}})}}return nr(kr),h(kr),{Alert:tr,Button:ir,Carousel:ai,Collapse:yi,Dropdown:p,Modal:fi,Offcanvas:ut,Popover:yf,ScrollSpy:pr,Tab:si,Toast:kr,Tooltip:ei}});
/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function nu(n,t,i){var r,e,f=(i=i||u).createElement("script");if(f.text=n,t)for(r in ae)(e=t[r]||t.getAttribute&&t.getAttribute(r))&&f.setAttribute(r,e);i.head.appendChild(f).parentNode.removeChild(f)}function et(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?oi[dr.call(n)]||"object":typeof n}function ki(n){var t=!!n&&"length"in n&&n.length,i=et(n);return!e(n)&&!ft(n)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in n)}function s(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function be(n,t){return t?"\0"===n?"":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n}function di(n,t,r){return e(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):"string"!=typeof t?i.grep(n,function(n){return-1<d.call(t,n)!==r}):i.filter(t,n,r)}function cu(n,t){while((n=n[t])&&1!==n.nodeType);return n}function st(n){return n}function hi(n){throw n;}function lu(n,t,i,r){var u;try{n&&e(u=n.promise)?u.call(n).done(t).fail(i):n&&e(u=n.then)?u.call(n,t,i):t.apply(void 0,[n].slice(r))}catch(n){i.apply(void 0,[n])}}function li(){u.removeEventListener("DOMContentLoaded",li);n.removeEventListener("load",li);i.ready()}function ge(n,t){return t.toUpperCase()}function k(n){return n.replace(ke,"ms-").replace(de,ge)}function ni(){this.expando=i.expando+ni.uid++}function vu(n,t,i){var u,r;if(void 0===i&&1===n.nodeType)if(u="data-"+t.replace(to,"-$&").toLowerCase(),"string"==typeof(i=n.getAttribute(u))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:no.test(r)?JSON.parse(r):r)}catch(n){}c.set(n,t,i)}else i=void 0;return i}function pu(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=n.nodeType&&(i.cssNumber[t]||"px"!==e&&+o)&&ti.exec(i.css(n,t));if(f&&f[3]!==e){for(o/=2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f/=h;f*=2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function lt(n,t){for(var h,f,a,s,c,l,e,o=[],u=0,v=n.length;u<v;u++)(f=n[u]).style&&(h=f.style.display,t?("none"===h&&(o[u]=r.get(f,"display")||null,o[u]||(f.style.display="")),""===f.style.display&&ii(f)&&(o[u]=(e=c=s=void 0,c=(a=f).ownerDocument,l=a.nodeName,(e=gi[l])||(s=c.body.appendChild(c.createElement(l)),e=i.css(s,"display"),s.parentNode.removeChild(s),"none"===e&&(e="block"),gi[l]=e)))):"none"!==h&&(o[u]="none",r.set(f,"display",h)));for(u=0;u<v;u++)null!=o[u]&&(n[u].style.display=o[u]);return n}function l(n,t){var r;return r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[],void 0===t||t&&s(n,t)?i.merge([n],r):r}function nr(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function du(n,t,r,u,f){for(var e,o,p,c,w,a,s=t.createDocumentFragment(),y=[],h=0,b=n.length;h<b;h++)if((e=n[h])||0===e)if("object"===et(e))i.merge(y,e.nodeType?[e]:e);else if(ku.test(e)){for(o=o||s.appendChild(t.createElement("div")),p=(wu.exec(e)||["",""])[1].toLowerCase(),c=v[p]||v._default,o.innerHTML=c[1]+i.htmlPrefilter(e)+c[2],a=c[0];a--;)o=o.lastChild;i.merge(y,o.childNodes);(o=s.firstChild).textContent=""}else y.push(t.createTextNode(e));for(s.textContent="",h=0;e=y[h++];)if(u&&-1<i.inArray(e,u))f&&f.push(e);else if(w=ct(e),o=l(s.appendChild(e),"script"),w&&nr(o),r)for(a=0;e=o[a++];)bu.test(e.type||"")&&r.push(e);return s}function at(){return!0}function vt(){return!1}function ir(n,t,r,u,f,e){var o,s;if("object"==typeof t){for(s in"string"!=typeof r&&(u=u||r,r=void 0),t)ir(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),!1===f)f=vt;else if(!f)return n;return 1===e&&(o=f,(f=function(n){return i().off(n),o.apply(this,arguments)}).guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function vi(n,t,u){u?(r.set(n,t,!1),i.event.add(n,t,{namespace:!1,handler:function(n){var f,u=r.get(this,t);if(1&n.isTrigger&&this[t]){if(u)(i.event.special[t]||{}).delegateType&&n.stopPropagation();else if(u=a.call(arguments),r.set(this,t,u),this[t](),f=r.get(this,t),r.set(this,t,!1),u!==f)return n.stopImmediatePropagation(),n.preventDefault(),f}else u&&(r.set(this,t,i.event.trigger(u[0],u.slice(1),this)),n.stopPropagation(),n.isImmediatePropagationStopped=at)}})):void 0===r.get(n,t)&&i.event.add(n,t,at)}function gu(n,t){return s(n,"table")&&s(11!==t.nodeType?t:t.firstChild,"tr")&&i(n).children("tbody")[0]||n}function eo(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function oo(n){return"true/"===(n.type||"").slice(0,5)?n.type=n.type.slice(5):n.removeAttribute("type"),n}function nf(n,t){var u,o,f,s,h,e;if(1===t.nodeType){if(r.hasData(n)&&(e=r.get(n).events))for(f in r.remove(t,"handle events"),e)for(u=0,o=e[f].length;u<o;u++)i.event.add(t,f,e[f][u]);c.hasData(n)&&(s=c.access(n),h=i.extend({},s),c.set(t,h))}}function yt(n,t,u,o){t=kr(t);var a,b,c,v,s,y,h=0,p=n.length,d=p-1,w=t[0],k=e(w);if(k||1<p&&"string"==typeof w&&!f.checkClone&&uo.test(w))return n.each(function(i){var r=n.eq(i);k&&(t[0]=w.call(this,i,r.html()));yt(r,t,u,o)});if(p&&(b=(a=du(t,n[0].ownerDocument,!1,n,o)).firstChild,1===a.childNodes.length&&(a=b),b||o)){for(v=(c=i.map(l(a,"script"),eo)).length;h<p;h++)s=a,h!==d&&(s=i.clone(s,!0,!0),v&&i.merge(c,l(s,"script"))),u.call(n[h],s,h);if(v)for(y=c[c.length-1].ownerDocument,i.map(c,oo),h=0;h<v;h++)s=c[h],bu.test(s.type||"")&&!r.access(s,"globalEval")&&i.contains(y,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?i._evalUrl&&!s.noModule&&i._evalUrl(s.src,{nonce:s.nonce||s.getAttribute("nonce")},y):nu(s.textContent.replace(fo,""),s,y))}return n}function tf(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(l(u)),u.parentNode&&(r&&ct(u)&&nr(l(u,"script")),u.parentNode.removeChild(u));return n}function ui(n,t,r){var o,s,h,u,c=ur.test(t),e=n.style;return(r=r||yi(n))&&(u=r.getPropertyValue(t)||r[t],c&&u&&(u=u.replace(gt,"$1")||void 0),""!==u||ct(n)||(u=i.style(n,t)),!f.pixelBoxStyles()&&rr.test(u)&&so.test(t)&&(o=e.width,s=e.minWidth,h=e.maxWidth,e.minWidth=e.maxWidth=e.width=u,u=r.width,e.width=o,e.minWidth=s,e.maxWidth=h)),void 0!==u?u+"":u}function uf(n,t){return{get:function(){if(!n())return(this.get=t).apply(this,arguments);delete this.get}}}function fr(n){var t=i.cssProps[n]||sf[n];return t||(n in ef?n:sf[n]=function(n){for(var i=n[0].toUpperCase()+n.slice(1),t=ff.length;t--;)if((n=ff[t]+i)in ef)return n}(n)||n)}function cf(n,t,i){var r=ti.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function er(n,t,r,u,f,e){var o="width"===t?1:0,h=0,s=0,c=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(c+=i.css(n,r+nt[o],!0,f)),u?("content"===r&&(s-=i.css(n,"padding"+nt[o],!0,f)),"margin"!==r&&(s-=i.css(n,"border"+nt[o]+"Width",!0,f))):(s+=i.css(n,"padding"+nt[o],!0,f),"padding"!==r?s+=i.css(n,"border"+nt[o]+"Width",!0,f):h+=i.css(n,"border"+nt[o]+"Width",!0,f));return!u&&0<=e&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))||0),s+c}function lf(n,t,r){var e=yi(n),o=(!f.boxSizingReliable()||r)&&"border-box"===i.css(n,"boxSizing",!1,e),h=o,u=ui(n,t,e),c="offset"+t[0].toUpperCase()+t.slice(1);if(rr.test(u)){if(!r)return u;u="auto"}return(!f.boxSizingReliable()&&o||!f.reliableTrDimensions()&&s(n,"tr")||"auto"===u||!parseFloat(u)&&"inline"===i.css(n,"display",!1,e))&&n.getClientRects().length&&(o="border-box"===i.css(n,"boxSizing",!1,e),(h=c in n)&&(u=n[c])),(u=parseFloat(u)||0)+er(n,t,r||(o?"border":"content"),h,e,u)+"px"}function p(n,t,i,r,u){return new p.prototype.init(n,t,i,r,u)}function or(){pi&&(!1===u.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(or):n.setTimeout(or,i.fx.interval),i.fx.tick())}function pf(){return n.setTimeout(function(){pt=void 0}),pt=Date.now()}function wi(n,t){var u,r=0,i={height:n};for(t=t?1:0;r<4;r+=2-t)i["margin"+(u=nt[r])]=i["padding"+u]=n;return t&&(i.opacity=i.width=n),i}function wf(n,t,i){for(var u,f=(w.tweeners[t]||[]).concat(w.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function w(n,t,r){var o,s,h=0,a=w.prefilters.length,f=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=pt||pf(),t=Math.max(0,u.startTime+u.duration-o),i=1-(t/u.duration||0),r=0,e=u.tweens.length;r<e;r++)u.tweens[r].run(i);return f.notifyWith(n,[u,i,t]),i<1&&e?t:(e||f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u]),!1)},u=f.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:pt||pf(),duration:r.duration,tweens:[],createTween:function(t,r){var f=i.Tween(n,u.opts,t,r,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(f),f},stop:function(t){var i=0,r=t?u.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)u.tweens[i].run(1);return t?(f.notifyWith(n,[u,1,0]),f.resolveWith(n,[u,t])):f.rejectWith(n,[u,t]),this}}),c=u.props;for(!function(n,t){var r,f,e,u,o;for(r in n)if(e=t[f=k(r)],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),(o=i.cssHooks[f])&&"expand"in o)for(r in u=o.expand(u),delete n[f],u)r in n||(n[r]=u[r],t[r]=e);else t[f]=e}(c,u.opts.specialEasing);h<a;h++)if(o=w.prefilters[h].call(u,n,c,u.opts))return e(o.stop)&&(i._queueHooks(u.elem,u.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,wf,u),e(u.opts.start)&&u.opts.start.call(n,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:u,queue:u.opts.queue})),u}function rt(n){return(n.match(y)||[]).join(" ")}function ut(n){return n.getAttribute&&n.getAttribute("class")||""}function sr(n){return Array.isArray(n)?n:"string"==typeof n&&n.match(y)||[]}function ar(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||lo.test(n)?u(n,i):ar(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==et(t))u(n,t);else for(f in t)ar(n+"["+f+"]",t[f],r,u)}function ue(n){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,u=0,f=t.toLowerCase().match(y)||[];if(e(i))while(r=f[u++])"+"===r[0]?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function fe(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===vr;return e(t.dataTypes[0])||!f["*"]&&e("*")}function pr(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}var h=[],br=Object.getPrototypeOf,a=h.slice,kr=h.flat?function(n){return h.flat.call(n)}:function(n){return h.concat.apply([],n)},ei=h.push,d=h.indexOf,oi={},dr=oi.toString,dt=oi.hasOwnProperty,gr=dt.toString,le=gr.call(Object),f={},e=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType&&"function"!=typeof n.item},ft=function(n){return null!=n&&n===n.window},u=n.document,ae={type:!0,src:!0,nonce:!0,noModule:!0},tu="3.7.1",ve=/HTML$/i,i=function(n,t){return new i.fn.init(n,t)},iu,b,si,eu,ou,su,hu,y,au,ci,ht,ii,gi,v,ku,tr,pt,pi,wt,af,vf,yf,bf,bt,kf,df,gf,cr,lr,ee,kt,oe,wr,bi,se,he,ce;i.fn=i.prototype={jquery:tu,constructor:i,length:0,toArray:function(){return a.call(this)},get:function(n){return null==n?a.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(n,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(n,t){return t%2}))},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(0<=t&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:ei,sort:h.sort,splice:h.splice};i.extend=i.fn.extend=function(){var s,u,f,t,o,c,n=arguments[0]||{},r=1,l=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[r]||{},r++),"object"==typeof n||e(n)||(n={}),r===l&&(n=this,r--);r<l;r++)if(null!=(s=arguments[r]))for(u in s)t=s[u],"__proto__"!==u&&n!==t&&(h&&t&&(i.isPlainObject(t)||(o=Array.isArray(t)))?(f=n[u],c=o&&!Array.isArray(f)?[]:o||i.isPlainObject(f)?f:{},o=!1,n[u]=i.extend(h,c,t)):void 0!==t&&(n[u]=t));return n};i.extend({expando:"jQuery"+(tu+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!(!n||"[object Object]"!==dr.call(n))&&(!(t=br(n))||"function"==typeof(i=dt.call(t,"constructor")&&t.constructor)&&gr.call(i)===le)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n,t,i){nu(n,{nonce:t&&t.nonce},i)},each:function(n,t){var r,i=0;if(ki(n)){for(r=n.length;i<r;i++)if(!1===t.call(n[i],i,n[i]))break}else for(i in n)if(!1===t.call(n[i],i,n[i]))break;return n},text:function(n){var r,u="",f=0,t=n.nodeType;if(!t)while(r=n[f++])u+=i.text(r);return 1===t||11===t?n.textContent:9===t?n.documentElement.textContent:3===t||4===t?n.nodeValue:u},makeArray:function(n,t){var r=t||[];return null!=n&&(ki(Object(n))?i.merge(r,"string"==typeof n?[n]:n):ei.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:d.call(t,n,i)},isXMLDoc:function(n){var i=n&&n.namespaceURI,t=n&&(n.ownerDocument||n).documentElement;return!ve.test(i||t&&t.nodeName||"HTML")},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u=[],r=0,f=n.length,e=!i;r<f;r++)!t(n[r],r)!==e&&u.push(n[r]);return u},map:function(n,t,i){var e,u,r=0,f=[];if(ki(n))for(e=n.length;r<e;r++)null!=(u=t(n[r],r,i))&&f.push(u);else for(r in n)null!=(u=t(n[r],r,i))&&f.push(u);return kr(f)},guid:1,support:f});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=h[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){oi["[object "+t+"]"]=t.toLowerCase()});var ye=h.pop,pe=h.sort,we=h.splice,o="[\\x20\\t\\r\\n\\f]",gt=new RegExp("^"+o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+o+"+$","g");i.contains=function(n,t){var i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))};iu=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;i.escapeSelector=function(n){return(n+"").replace(iu,be)};b=u;si=ei;!function(){function r(n,t,o,s){var h,b,a,y,k,d,g,w=t&&t.ownerDocument,p=t?t.nodeType:9;if(o=o||[],"string"!=typeof n||!n||1!==p&&9!==p&&11!==p)return o;if(!s&&(nt(t),t=t||u,l)){if(11!==p&&(k=ir.exec(n)))if(h=k[1]){if(9===p){if(!(a=t.getElementById(h)))return o;if(a.id===h)return v.call(o,a),o}else if(w&&(a=w.getElementById(h))&&r.contains(t,a)&&a.id===h)return v.call(o,a),o}else{if(k[2])return v.apply(o,t.getElementsByTagName(n)),o;if((h=k[3])&&t.getElementsByClassName)return v.apply(o,t.getElementsByClassName(h)),o}if(!(ht[n+" "]||c&&c.test(n))){if(g=n,w=t,1===p&&(ki.test(n)||li.test(n))){for((w=bt.test(n)&&kt(t.parentNode)||t)==t&&f.scope||((y=t.getAttribute("id"))?y=i.escapeSelector(y):t.setAttribute("id",y=e)),b=(d=et(n)).length;b--;)d[b]=(y?"#"+y:":scope")+" "+at(d[b]);g=d.join(",")}try{return v.apply(o,w.querySelectorAll(g)),o}catch(t){ht(n,!0)}finally{y===e&&t.removeAttribute("id")}}}return yi(n.replace(gt,"$1"),t,o,s)}function lt(){var n=[];return function i(r,u){return n.push(r+" ")>t.cacheLength&&delete i[n.shift()],i[r+" "]=u}}function y(n){return n[e]=!0,n}function ut(n){var t=u.createElement("fieldset");try{return!!n(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function fr(n){return function(t){return s(t,"input")&&t.type===n}}function er(n){return function(t){return(s(t,"input")||s(t,"button"))&&t.type===n}}function ai(n){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&ur(t)===n:t.disabled===n:"label"in t&&t.disabled===n}}function it(n){return y(function(t){return t=+t,y(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function kt(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function nt(n){var s,h=n?n.ownerDocument||n:b;return h!=u&&9===h.nodeType&&h.documentElement&&(p=(u=h).documentElement,l=!i.isXMLDoc(u),pt=p.matches||p.webkitMatchesSelector||p.msMatchesSelector,p.msMatchesSelector&&b!=u&&(s=u.defaultView)&&s.top!==s&&s.addEventListener("unload",rr),f.getById=ut(function(n){return p.appendChild(n).id=i.expando,!u.getElementsByName||!u.getElementsByName(i.expando).length}),f.disconnectedMatch=ut(function(n){return pt.call(n,"*")}),f.scope=ut(function(){return u.querySelectorAll(":scope")}),f.cssHas=ut(function(){try{return u.querySelector(":has(*,:jqfake)"),!1}catch(n){return!0}}),f.getById?(t.filter.ID=function(n){var t=n.replace(k,g);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&l){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(k,g);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&l){var r,u,f,i=t.getElementById(n);if(i){if((r=i.getAttributeNode("id"))&&r.value===n)return[i];for(f=t.getElementsByName(n),u=0;i=f[u++];)if((r=i.getAttributeNode("id"))&&r.value===n)return[i]}return[]}}),t.find.TAG=function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):t.querySelectorAll(n)},t.find.CLASS=function(n,t){if("undefined"!=typeof t.getElementsByClassName&&l)return t.getElementsByClassName(n)},c=[],ut(function(n){var t;p.appendChild(n).innerHTML="<a id='"+e+"' href='' disabled='disabled'><\/a><select id='"+e+"-\r\\' disabled='disabled'><option selected=''><\/option><\/select>";n.querySelectorAll("[selected]").length||c.push("\\["+o+"*(?:value|"+oi+")");n.querySelectorAll("[id~="+e+"-]").length||c.push("~=");n.querySelectorAll("a#"+e+"+*").length||c.push(".#.+[+~]");n.querySelectorAll(":checked").length||c.push(":checked");(t=u.createElement("input")).setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");p.appendChild(n).disabled=!0;2!==n.querySelectorAll(":disabled").length&&c.push(":enabled",":disabled");(t=u.createElement("input")).setAttribute("name","");n.appendChild(t);n.querySelectorAll("[name='']").length||c.push("\\["+o+"*name"+o+"*="+o+"*(?:''|\"\")")}),f.cssHas||c.push(":has"),c=c.length&&new RegExp(c.join("|")),wt=function(n,t){if(n===t)return st=!0,0;var i=!n.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(n.ownerDocument||n)==(t.ownerDocument||t)?n.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(n)===i?n===u||n.ownerDocument==b&&r.contains(b,n)?-1:t===u||t.ownerDocument==b&&r.contains(b,t)?1:ft?d.call(ft,n)-d.call(ft,t):0:4&i?-1:1)}),u}function vi(){}function et(n,i){var e,f,s,o,u,h,c,l=fi[n+" "];if(l)return i?0:l.slice(0);for(u=n,h=[],c=t.preFilter;u;){for(o in e&&!(f=bi.exec(u))||(f&&(u=u.slice(f[0].length)||u),h.push(s=[])),e=!1,(f=li.exec(u))&&(e=f.shift(),s.push({value:e,type:f[0].replace(gt," ")}),u=u.slice(e.length)),t.filter)(f=ct[o].exec(u))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),u=u.slice(e.length));if(!e)break}return i?u.length:u?r.error(n):fi(n,h).slice(0)}function at(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function vt(n,t,i){var r=t.dir,u=t.next,f=u||r,o=i&&"parentNode"===f,h=pi++;return t.first?function(t,i,u){while(t=t[r])if(1===t.nodeType||o)return n(t,i,u);return!1}:function(t,i,c){var l,a,v=[w,h];if(c){while(t=t[r])if((1===t.nodeType||o)&&n(t,i,c))return!0}else while(t=t[r])if(1===t.nodeType||o)if(a=t[e]||(t[e]={}),u&&s(t,u))t=t[r]||t;else{if((l=a[f])&&l[0]===w&&l[1]===h)return v[2]=l[2];if((a[f]=v)[2]=n(t,i,c))return!0}return!1}}function ni(n){return 1<n.length?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function yt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;f<s;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function ti(n,t,i,u,f,o){return u&&!u[e]&&(u=ti(u)),f&&!f[e]&&(f=ti(f,o)),y(function(e,o,s,h){var a,l,y,c,b=[],w=[],k=o.length,g=e||function(n,t,i){for(var u=0,f=t.length;u<f;u++)r(n,t[u],i);return i}(t||"*",s.nodeType?[s]:s,[]),p=!n||!e&&t?g:yt(g,b,n,s,h);if(i?i(p,c=f||(e?n:k||u)?[]:o,s,h):c=p,u)for(a=yt(c,w),u(a,[],s,h),l=a.length;l--;)(y=a[l])&&(c[w[l]]=!(p[w[l]]=y));if(e){if(f||n){if(f){for(a=[],l=c.length;l--;)(y=c[l])&&a.push(p[l]=y);f(null,c=[],a,h)}for(l=c.length;l--;)(y=c[l])&&-1<(a=f?d.call(e,y):b[l])&&(e[a]=!(o[a]=y))}}else c=yt(c===o?c.splice(k,c.length):c),f?f(null,o,c,h):v.apply(o,c)})}function ii(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=vt(function(n){return n===o},c,!0),a=vt(function(n){return-1<d.call(o,n)},c,!0),f=[function(n,t,i){var r=!h&&(i||t!=ot)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])f=[vt(ni(f),u)];else{if((u=t.filter[n[i].type].apply(null,n[i].matches))[e]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return ti(1<i&&ni(f),1<i&&at(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(gt,"$1"),u,i<r&&ii(n.slice(i,r)),r<s&&ii(n=n.slice(r)),r<s&&at(n))}f.push(u)}return ni(f)}function ri(n,r){var s,h,c,o,a,p,b=[],k=[],f=ei[n+" "];if(!f){for(r||(r=et(n)),s=r.length;s--;)(f=ii(r[s]))[e]?b.push(f):k.push(f);(f=ei(n,(h=k,o=0<(c=b).length,a=0<h.length,p=function(n,r,f,e,s){var y,g,k,d=0,p="0",tt=n&&[],b=[],it=ot,rt=n||a&&t.find.TAG("*",s),ut=w+=null==it?1:Math.random()||.1,ft=rt.length;for(s&&(ot=r==u||r||s);p!==ft&&null!=(y=rt[p]);p++){if(a&&y){for(g=0,r||y.ownerDocument==u||(nt(y),f=!l);k=h[g++];)if(k(y,r||u,f)){v.call(e,y);break}s&&(w=ut)}o&&((y=!k&&y)&&d--,n&&tt.push(y))}if(d+=p,o&&p!==d){for(g=0;k=c[g++];)k(tt,b,r,f);if(n){if(0<d)while(p--)tt[p]||b[p]||(b[p]=ye.call(e));b=yt(b)}v.apply(e,b);s&&!n&&0<b.length&&1<d+c.length&&i.uniqueSort(e)}return s&&(w=ut,ot=it),tt},o?y(p):p))).selector=n}return f}function yi(n,i,r,u){var o,f,e,c,a,h="function"==typeof n&&n,s=!u&&et(n=h.selector||n);if(r=r||[],1===s.length){if(2<(f=s[0]=s[0].slice(0)).length&&"ID"===(e=f[0]).type&&9===i.nodeType&&l&&t.relative[f[1].type]){if(!(i=(t.find.ID(e.matches[0].replace(k,g),i)||[])[0]))return r;h&&(i=i.parentNode);n=n.slice(f.shift().value.length)}for(o=ct.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[c=e.type])break;if((a=t.find[c])&&(u=a(e.matches[0].replace(k,g),bt.test(f[0].type)&&kt(i.parentNode)||i))){if(f.splice(o,1),!(n=u.length&&at(f)))return v.apply(r,u),r;break}}}return(h||ri(n,s))(u,i,!l,r,!i||bt.test(n)&&kt(i.parentNode)||i),r}var rt,t,ot,ft,st,u,p,l,c,pt,v=si,e=i.expando,w=0,pi=0,ui=lt(),fi=lt(),ei=lt(),ht=lt(),wt=function(n,t){return n===t&&(st=!0),0},oi="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="(?:\\\\[\\da-fA-F]{1,6}"+o+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",hi="\\["+o+"*("+tt+")(?:"+o+"*([*^$|!~]?=)"+o+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+o+"*\\]",ci=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+hi+")*)|.*)\\)|)",wi=new RegExp(o+"+","g"),bi=new RegExp("^"+o+"*,"+o+"*"),li=new RegExp("^"+o+"*([>+~]|"+o+")"+o+"*"),ki=new RegExp(o+"|>"),di=new RegExp(ci),gi=new RegExp("^"+tt+"$"),ct={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+hi),PSEUDO:new RegExp("^"+ci),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+o+"*(even|odd|(([+-]|)(\\d*)n|)"+o+"*(?:([+-]|)"+o+"*(\\d+)|))"+o+"*\\)|)","i"),bool:new RegExp("^(?:"+oi+")$","i"),needsContext:new RegExp("^"+o+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+o+"*((?:-\\d)?\\d*)"+o+"*\\)|)(?=[^-]|$)","i")},nr=/^(?:input|select|textarea|button)$/i,tr=/^h\d$/i,ir=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,k=new RegExp("\\\\[\\da-fA-F]{1,6}"+o+"?|\\\\([^\\r\\n\\f])","g"),g=function(n,t){var i="0x"+n.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},rr=function(){nt()},ur=vt(function(n){return!0===n.disabled&&s(n,"fieldset")},{dir:"parentNode",next:"legend"});try{v.apply(h=a.call(b.childNodes),b.childNodes);h[b.childNodes.length].nodeType}catch(rt){v={apply:function(n,t){si.apply(n,a.call(t))},call:function(n){si.apply(n,a.call(arguments,1))}}}for(rt in r.matches=function(n,t){return r(n,null,null,t)},r.matchesSelector=function(n,t){if(nt(n),l&&!ht[t+" "]&&(!c||!c.test(t)))try{var i=pt.call(n,t);if(i||f.disconnectedMatch||n.document&&11!==n.document.nodeType)return i}catch(n){ht(t,!0)}return 0<r(t,u,null,[n]).length},r.contains=function(n,t){return(n.ownerDocument||n)!=u&&nt(n),i.contains(n,t)},r.attr=function(n,i){(n.ownerDocument||n)!=u&&nt(n);var r=t.attrHandle[i.toLowerCase()],f=r&&dt.call(t.attrHandle,i.toLowerCase())?r(n,i,!l):void 0;return void 0!==f?f:n.getAttribute(i)},r.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);},i.uniqueSort=function(n){var r,u=[],t=0,i=0;if(st=!f.sortStable,ft=!f.sortStable&&a.call(n,0),pe.call(n,wt),st){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)we.call(n,u[t],1)}return ft=null,n},i.fn.uniqueSort=function(){return this.pushStack(i.uniqueSort(a.apply(this)))},(t=i.expr={cacheLength:50,createPseudo:y,match:ct,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(k,g),n[3]=(n[3]||n[4]||n[5]||"").replace(k,g),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||r.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&r.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return ct.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&di.test(t)&&(i=et(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(k,g).toLowerCase();return"*"===n?function(){return!0}:function(n){return s(n,t)}},CLASS:function(n){var t=ui[n+" "];return t||(t=new RegExp("(^|"+o+")"+n+"("+o+"|$)"))&&ui(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(u){var f=r.attr(u,n);return null==f?"!="===t:!t||(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&-1<f.indexOf(i):"$="===t?i&&f.slice(-i.length)===i:"~="===t?-1<(" "+f.replace(wi," ")+" ").indexOf(i):"|="===t&&(f===i||f.slice(0,i.length+1)===i+"-"))}},CHILD:function(n,t,i,r,u){var h="nth"!==n.slice(0,3),o="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,c){var p,d,l,v,b,k=h!==o?"nextSibling":"previousSibling",y=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!c&&!f,a=!1;if(y){if(h){while(k){for(l=t;l=l[k];)if(f?s(l,nt):1===l.nodeType)return!1;b=k="only"===n&&!b&&"nextSibling"}return!0}if(b=[o?y.firstChild:y.lastChild],o&&g){for(a=(v=(p=(d=y[e]||(y[e]={}))[n]||[])[0]===w&&p[1])&&p[2],l=v&&y.childNodes[v];l=++v&&l&&l[k]||(a=v=0)||b.pop();)if(1===l.nodeType&&++a&&l===t){d[n]=[w,v,a];break}}else if(g&&(a=v=(p=(d=t[e]||(t[e]={}))[n]||[])[0]===w&&p[1]),!1===a)while(l=++v&&l&&l[k]||(a=v=0)||b.pop())if((f?s(l,nt):1===l.nodeType)&&++a&&(g&&((d=l[e]||(l[e]={}))[n]=[w,a]),l===t))break;return(a-=u)===r||a%r==0&&0<=a/r}}},PSEUDO:function(n,i){var f,u=t.pseudos[n]||t.setFilters[n.toLowerCase()]||r.error("unsupported pseudo: "+n);return u[e]?u(i):1<u.length?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?y(function(n,t){for(var e,r=u(n,i),f=r.length;f--;)n[e=d.call(n,r[f])]=!(t[e]=r[f])}):function(n){return u(n,0,f)}):u}},pseudos:{not:y(function(n){var t=[],r=[],i=ri(n.replace(gt,"$1"));return i[e]?y(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:y(function(n){return function(t){return 0<r(n,t).length}}),contains:y(function(n){return n=n.replace(k,g),function(t){return-1<(t.textContent||i.text(t)).indexOf(n)}}),lang:y(function(n){return gi.test(n||"")||r.error("unsupported lang: "+n),n=n.replace(k,g).toLowerCase(),function(t){var i;do if(i=l?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===p},focus:function(n){return n===function(){try{return u.activeElement}catch(n){}}()&&u.hasFocus()&&!!(n.type||n.href||~n.tabIndex)},enabled:ai(!1),disabled:ai(!0),checked:function(n){return s(n,"input")&&!!n.checked||s(n,"option")&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,!0===n.selected},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return tr.test(n.nodeName)},input:function(n){return nr.test(n.nodeName)},button:function(n){return s(n,"input")&&"button"===n.type||s(n,"button")},text:function(n){var t;return s(n,"input")&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:t<i?t:i;0<=--r;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=fr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=er(rt);vi.prototype=t.filters=t.pseudos;t.setFilters=new vi;f.sortStable=e.split("").sort(wt).join("")===e;nt();f.sortDetached=ut(function(n){return 1&n.compareDocumentPosition(u.createElement("fieldset"))});i.find=r;i.expr[":"]=i.expr.pseudos;i.unique=i.uniqueSort;r.compile=ri;r.select=yi;r.setDocument=nt;r.tokenize=et;r.escape=i.escapeSelector;r.getText=i.text;r.isXML=i.isXMLDoc;r.selectors=i.expr;r.support=i.support;r.uniqueSort=i.uniqueSort}();var ot=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},ru=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},uu=i.expr.match.needsContext,fu=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return 1<u?i.uniqueSort(r):r},filter:function(n){return this.pushStack(di(this,n||[],!1))},not:function(n){return this.pushStack(di(this,n||[],!0))},is:function(n){return!!di(this,"string"==typeof n&&uu.test(n)?i(n):n||[],!1).length}});ou=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(i.fn.init=function(n,t,r){var f,o;if(!n)return this;if(r=r||eu,"string"==typeof n){if(!(f="<"===n[0]&&">"===n[n.length-1]&&3<=n.length?[null,n,null]:ou.exec(n))||!f[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(f[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(f[1],t&&t.nodeType?t.ownerDocument||t:u,!0)),fu.test(f[1])&&i.isPlainObject(t))for(f in t)e(this[f])?this[f](t[f]):this.attr(f,t[f]);return this}return(o=u.getElementById(f[2]))&&(this[0]=o,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):e(n)?void 0!==r.ready?r.ready(n):n(i):i.makeArray(n,this)}).prototype=i.fn;eu=i(u);su=/^(?:parents|prev(?:Until|All))/;hu={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e="string"!=typeof n&&i(n);if(!uu.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?-1<e.index(r):1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(1<u.length?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?d.call(i(n),this[0]):d.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return ot(n,"parentNode")},parentsUntil:function(n,t,i){return ot(n,"parentNode",i)},next:function(n){return cu(n,"nextSibling")},prev:function(n){return cu(n,"previousSibling")},nextAll:function(n){return ot(n,"nextSibling")},prevAll:function(n){return ot(n,"previousSibling")},nextUntil:function(n,t,i){return ot(n,"nextSibling",i)},prevUntil:function(n,t,i){return ot(n,"previousSibling",i)},siblings:function(n){return ru((n.parentNode||{}).firstChild,n)},children:function(n){return ru(n.firstChild)},contents:function(n){return null!=n.contentDocument&&br(n.contentDocument)?n.contentDocument:(s(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),1<this.length&&(hu[n]||i.uniqueSort(f),su.test(n)&&f.reverse()),this.pushStack(f)}});y=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){var l,h;n="string"==typeof n?(l=n,h={},i.each(l.match(y)||[],function(n,t){h[t]=!0}),h):i.extend({},n);var o,r,a,u,t=[],s=[],f=-1,v=function(){for(u=u||n.once,a=o=!0;s.length;f=-1)for(r=s.shift();++f<t.length;)!1===t[f].apply(r[0],r[1])&&n.stopOnFalse&&(f=t.length,r=!1);n.memory||(r=!1);o=!1;u&&(t=r?[]:"")},c={add:function(){return t&&(r&&!o&&(f=t.length-1,s.push(r)),function u(r){i.each(r,function(i,r){e(r)?n.unique&&c.has(r)||t.push(r):r&&r.length&&"string"!==et(r)&&u(r)})}(arguments),r&&!o&&v()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;-1<(u=i.inArray(r,t,u));)t.splice(u,1),u<=f&&f--}),this},has:function(n){return n?-1<i.inArray(n,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return u=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return u=s=[],r||o||(t=r=""),this},locked:function(){return!!u},fireWith:function(n,t){return u||(t=[n,(t=t||[]).slice?t.slice():t],s.push(t),o||v()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!a}};return c};i.extend({Deferred:function(t){var u=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",f={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return f.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(u,function(i,u){var f=e(n[u[4]])&&n[u[4]];r[u[1]](function(){var n=f&&f.apply(this,arguments);n&&e(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[u[0]+"With"](this,f?[n]:arguments)})});n=null}).promise()},then:function(t,r,f){function s(t,r,u,f){return function(){var h=this,c=arguments,a=function(){var n,i;if(!(t<o)){if((n=u.apply(h,c))===r.promise())throw new TypeError("Thenable self-resolution");i=n&&("object"==typeof n||"function"==typeof n)&&n.then;e(i)?f?i.call(n,s(o,r,st,f),s(o,r,hi,f)):(o++,i.call(n,s(o,r,st,f),s(o,r,hi,f),s(o,r,st,r.notifyWith))):(u!==st&&(h=void 0,c=[n]),(f||r.resolveWith)(h,c))}},l=f?a:function(){try{a()}catch(a){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(a,l.error);o<=t+1&&(u!==hi&&(h=void 0,c=[a]),r.rejectWith(h,c))}};t?l():(i.Deferred.getErrorHook?l.error=i.Deferred.getErrorHook():i.Deferred.getStackHook&&(l.error=i.Deferred.getStackHook()),n.setTimeout(l))}}var o=0;return i.Deferred(function(n){u[0][3].add(s(0,n,e(f)?f:st,n.notifyWith));u[1][3].add(s(0,n,e(t)?t:st));u[2][3].add(s(0,n,e(r)?r:hi))}).promise()},promise:function(n){return null!=n?i.extend(n,f):f}},r={};return i.each(u,function(n,t){var i=t[2],e=t[5];f[t[1]]=i.add;e&&i.add(function(){o=e},u[3-n][2].disable,u[3-n][3].disable,u[0][2].lock,u[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this};r[t[0]+"With"]=i.fireWith}),f.promise(r),t&&t.call(r,r),r},when:function(n){var f=arguments.length,t=f,o=Array(t),u=a.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;u[n]=1<arguments.length?a.call(arguments):t;--f||r.resolveWith(o,u)}};if(f<=1&&(lu(n,r.done(s(t)).resolve,r.reject,!f),"pending"===r.state()||e(u[t]&&u[t].then)))return r.then();while(t--)lu(u[t],s(t),r.reject);return r.promise()}});au=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&au.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};ci=i.Deferred();i.fn.ready=function(n){return ci.then(n)["catch"](function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--i.readyWait:i.isReady)||(i.isReady=!0)!==n&&0<--i.readyWait||ci.resolveWith(u,[i])}});i.ready.then=ci.then;"complete"===u.readyState||"loading"!==u.readyState&&!u.documentElement.doScroll?n.setTimeout(i.ready):(u.addEventListener("DOMContentLoaded",li),n.addEventListener("load",li));var g=function(n,t,r,u,f,o,s){var h=0,l=n.length,c=null==r;if("object"===et(r))for(h in f=!0,r)g(n,t,h,r[h],!0,o,s);else if(void 0!==u&&(f=!0,e(u)||(s=!0),c&&(s?(t.call(n,u),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?u:u.call(n[h],h,t(n[h],r)));return f?n:c?t.call(n):l?t(n[0],r):o},ke=/^-ms-/,de=/-([a-z])/g;ht=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};ni.uid=1;ni.prototype={cache:function(n){var t=n[this.expando];return t||(t={},ht(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if("string"==typeof t)u[k(t)]=i;else for(r in t)u[k(r)]=t[r];return u},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][k(t)]},access:function(n,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(n,t):(this.set(n,t,i),void 0!==i?i:t)},remove:function(n,t){var u,r=n[this.expando];if(void 0!==r){if(void 0!==t)for(u=(t=Array.isArray(t)?t.map(k):(t=k(t))in r?[t]:t.match(y)||[]).length;u--;)delete r[t[u]];(void 0===t||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new ni,c=new ni,no=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,to=/[A-Z]/g;i.extend({hasData:function(n){return c.hasData(n)||r.hasData(n)},data:function(n,t,i){return c.access(n,t,i)},removeData:function(n,t){c.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],o=i&&i.attributes;if(void 0===n){if(this.length&&(e=c.get(i),1===i.nodeType&&!r.get(i,"hasDataAttrs"))){for(f=o.length;f--;)o[f]&&0===(u=o[f].name).indexOf("data-")&&(u=k(u.slice(5)),vu(i,u,e[u]));r.set(i,"hasDataAttrs",!0)}return e}return"object"==typeof n?this.each(function(){c.set(this,n)}):g(this,function(t){var r;if(i&&void 0===t)return void 0!==(r=c.get(i,n))?r:void 0!==(r=vu(i,n))?r:void 0;this.each(function(){c.set(this,n,t)})},null,t,1<arguments.length,null,!0)},removeData:function(n){return this.each(function(){c.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t);"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,function(){i.dequeue(n,t)},f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)(u=r.get(f[s],n+"queueHooks"))&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var yu=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ti=new RegExp("^(?:([+-])=|)("+yu+")([a-z%]*)$","i"),nt=["Top","Right","Bottom","Left"],tt=u.documentElement,ct=function(n){return i.contains(n.ownerDocument,n)},io={composed:!0};tt.getRootNode&&(ct=function(n){return i.contains(n.ownerDocument,n)||n.getRootNode(io)===n.ownerDocument});ii=function(n,t){return"none"===(n=t||n).style.display||""===n.style.display&&ct(n)&&"none"===i.css(n,"display")};gi={};i.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){ii(this)?i(this).show():i(this).hide()})}});var it,ai,ri=/^(?:checkbox|radio)$/i,wu=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,bu=/^$|^module$|\/(?:java|ecma)script/i;it=u.createDocumentFragment().appendChild(u.createElement("div"));(ai=u.createElement("input")).setAttribute("type","radio");ai.setAttribute("checked","checked");ai.setAttribute("name","t");it.appendChild(ai);f.checkClone=it.cloneNode(!0).cloneNode(!0).lastChild.checked;it.innerHTML="<textarea>x<\/textarea>";f.noCloneChecked=!!it.cloneNode(!0).lastChild.defaultValue;it.innerHTML="<option><\/option>";f.option=!!it.lastChild;v={thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};v.tbody=v.tfoot=v.colgroup=v.caption=v.thead;v.th=v.td;f.option||(v.optgroup=v.option=[1,"<select multiple='multiple'>","<\/select>"]);ku=/<|&#?\w+;/;tr=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var p,l,k,a,w,h,s,c,o,b,d,v=r.get(n);if(ht(n))for(u.handler&&(u=(p=u).handler,e=p.selector),e&&i.find.matchesSelector(tt,e),u.guid||(u.guid=i.guid++),(a=v.events)||(a=v.events=Object.create(null)),(l=v.handle)||(l=v.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),w=(t=(t||"").match(y)||[""]).length;w--;)o=d=(k=tr.exec(t[w])||[])[1],b=(k[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:b.join(".")},p),(c=a[o])||((c=a[o]=[]).delegateCount=0,s.setup&&!1!==s.setup.call(n,f,b,l)||n.addEventListener&&n.addEventListener(o,l)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var v,k,c,a,p,s,h,l,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(a=w.events)){for(p=(t=(t||"").match(y)||[""]).length;p--;)if(o=d=(c=tr.exec(t[p])||[])[1],b=(c[2]||"").split(".").sort(),o){for(h=i.event.special[o]||{},l=a[o=(f?h.delegateType:h.bindType)||o]||[],c=c[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=v=l.length;v--;)s=l[v],!e&&d!==s.origType||u&&u.guid!==s.guid||c&&!c.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(l.splice(v,1),s.selector&&l.delegateCount--,h.remove&&h.remove.call(n,s));k&&!l.length&&(h.teardown&&!1!==h.teardown.call(n,b,w.handle)||i.removeEvent(n,o,w.handle),delete a[o])}else for(o in a)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(a)&&r.remove(n,"handle events")}},dispatch:function(n){var u,h,c,e,f,l,s=new Array(arguments.length),t=i.event.fix(n),a=(r.get(this,"events")||Object.create(null))[t.type]||[],o=i.event.special[t.type]||{};for(s[0]=t,u=1;u<arguments.length;u++)s[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||!1!==o.preDispatch.call(this,t)){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,h=0;(f=e.handlers[h++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!1!==f.namespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,void 0!==(c=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,s))&&!1===(t.result=c)&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,h,u,e,o,c=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&!("click"===n.type&&1<=n.button))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&("click"!==n.type||!0!==r.disabled)){for(e=[],o={},f=0;f<s;f++)void 0===o[u=(h=t[f]).selector+" "]&&(o[u]=h.needsContext?-1<i(u,this).index(r):i.find(u,this,null,[r]).length),o[u]&&e.push(h);e.length&&c.push({elem:r,handlers:e})}return r=this,s<t.length&&c.push({elem:r,handlers:t.slice(s)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:e(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var t=this||n;return ri.test(t.type)&&t.click&&s(t,"input")&&vi(t,"click",!0),!1},trigger:function(n){var t=this||n;return ri.test(t.type)&&t.click&&s(t,"input")&&vi(t,"click"),!0},_default:function(n){var t=n.target;return ri.test(t.type)&&t.click&&s(t,"input")&&r.get(t,"click")||s(t,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&!1===n.returnValue?at:vt,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:vt,isPropagationStopped:vt,isImmediatePropagationStopped:vt,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=at;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=at;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=at;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},i.event.addProp);i.each({focus:"focusin",blur:"focusout"},function(n,t){function f(n){if(u.documentMode){var e=r.get(this,"handle"),f=i.event.fix(n);f.type="focusin"===n.type?"focus":"blur";f.isSimulated=!0;e(n);f.target===f.currentTarget&&e(f)}else i.event.simulate(t,n.target,i.event.fix(n))}i.event.special[n]={setup:function(){var i;if(vi(this,n,!0),!u.documentMode)return!1;(i=r.get(this,t))||this.addEventListener(t,f);r.set(this,t,(i||0)+1)},trigger:function(){return vi(this,n),!0},teardown:function(){var n;if(!u.documentMode)return!1;(n=r.get(this,t)-1)?r.set(this,t,n):(this.removeEventListener(t,f),r.remove(this,t))},_default:function(t){return r.get(t.target,n)},delegateType:t};i.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,e=u.documentMode?this:i,o=r.get(e,t);o||(u.documentMode?this.addEventListener(t,f):i.addEventListener(n,f,!0));r.set(e,t,(o||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,i=u.documentMode?this:e,o=r.get(i,t)-1;o?r.set(i,t,o):(u.documentMode?this.removeEventListener(t,f):e.removeEventListener(n,f,!0),r.remove(i,t))}}});i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,r=n.relatedTarget,f=n.handleObj;return r&&(r===this||i.contains(this,r))||(n.type=f.origType,u=f.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return ir(this,n,t,i,r)},one:function(n,t,i,r){return ir(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=vt),this.each(function(){i.event.remove(this,n,r,t)})}});var ro=/<script|<style|<link/i,uo=/checked\s*(?:[^=]|=\s*.checked.)/i,fo=/^\s*<!\[CDATA\[|\]\]>\s*$/g;i.extend({htmlPrefilter:function(n){return n},clone:function(n,t,r){var u,h,o,e,c,a,v,s=n.cloneNode(!0),y=ct(n);if(!(f.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(e=l(s),u=0,h=(o=l(n)).length;u<h;u++)c=o[u],a=e[u],void 0,"input"===(v=a.nodeName.toLowerCase())&&ri.test(c.type)?a.checked=c.checked:"input"!==v&&"textarea"!==v||(a.defaultValue=c.defaultValue);if(t)if(r)for(o=o||l(n),e=e||l(s),u=0,h=o.length;u<h;u++)nf(o[u],e[u]);else nf(n,s);return 0<(e=l(s,"script")).length&&nr(e,!y&&l(n,"script")),s},cleanData:function(n){for(var u,t,f,o=i.event.special,e=0;void 0!==(t=n[e]);e++)if(ht(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)o[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[c.expando]&&(t[c.expando]=void 0)}}});i.fn.extend({detach:function(n){return tf(this,n,!0)},remove:function(n){return tf(this,n)},text:function(n){return g(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return yt(this,arguments,function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||gu(this,n).appendChild(n)})},prepend:function(){return yt(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=gu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return yt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return yt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(l(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null!=n&&n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return g(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!ro.test(n)&&!v[(wu.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)1===(t=this[r]||{}).nodeType&&(i.cleanData(l(t,!1)),t.innerHTML=n);t=0}catch(n){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return yt(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(l(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),ei.apply(f,u.get());return this.pushStack(f)}});var rr=new RegExp("^("+yu+")(?!px)[a-z%]+$","i"),ur=/^--/,yi=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},rf=function(n,t,i){var u,r,f={};for(r in t)f[r]=n.style[r],n.style[r]=t[r];for(r in u=i.call(n),t)n.style[r]=f[r];return u},so=new RegExp(nt.join("|"),"i");!function(){function r(){if(t){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";tt.appendChild(s).appendChild(t);var i=n.getComputedStyle(t);h="1%"!==i.top;v=12===e(i.marginLeft);t.style.right="60%";a=36===e(i.right);c=36===e(i.width);t.style.position="absolute";l=12===e(t.offsetWidth/3);tt.removeChild(s);t=null}}function e(n){return Math.round(parseFloat(n))}var h,c,l,a,o,v,s=u.createElement("div"),t=u.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===t.style.backgroundClip,i.extend(f,{boxSizingReliable:function(){return r(),c},pixelBoxStyles:function(){return r(),a},pixelPosition:function(){return r(),h},reliableMarginLeft:function(){return r(),v},scrollboxSize:function(){return r(),l},reliableTrDimensions:function(){var i,t,r,f;return null==o&&(i=u.createElement("table"),t=u.createElement("tr"),r=u.createElement("div"),i.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="box-sizing:content-box;border:1px solid",t.style.height="1px",r.style.height="9px",r.style.display="block",tt.appendChild(i).appendChild(t).appendChild(r),f=n.getComputedStyle(t),o=parseInt(f.height,10)+parseInt(f.borderTopWidth,10)+parseInt(f.borderBottomWidth,10)===t.offsetHeight,tt.removeChild(i)),o}}))}();var ff=["Webkit","Moz","ms"],ef=u.createElement("div").style,sf={};var ho=/^(none|table(?!-c[ea]).+)/,co={position:"absolute",visibility:"hidden",display:"block"},hf={letterSpacing:"0",fontWeight:"400"};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=ui(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var e,h,o,c=k(t),l=ur.test(t),s=n.style;if(l||(t=fr(c)),o=i.cssHooks[t]||i.cssHooks[c],void 0===r)return o&&"get"in o&&void 0!==(e=o.get(n,!1,u))?e:s[t];"string"==(h=typeof r)&&(e=ti.exec(r))&&e[1]&&(r=pu(n,t,e),h="number");null!=r&&r==r&&("number"!==h||l||(r+=e&&e[3]||(i.cssNumber[c]?"":"px")),f.clearCloneStyle||""!==r||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(l?s.setProperty(t,r):s[t]=r))}},css:function(n,t,r,u){var f,e,o,s=k(t);return ur.test(t)||(t=fr(s)),(o=i.cssHooks[t]||i.cssHooks[s])&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=ui(n,t,u)),"normal"===f&&t in hf&&(f=hf[t]),""===r||r?(e=parseFloat(f),!0===r||isFinite(e)?e||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return!ho.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?lf(n,t,u):rf(n,co,function(){return lf(n,t,u)})},set:function(n,r,u){var s,e=yi(n),h=!f.scrollboxSize()&&"absolute"===e.position,c=(h||u)&&"border-box"===i.css(n,"boxSizing",!1,e),o=u?er(n,t,u,c,e):0;return c&&h&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(e[t])-er(n,t,"border",!1,e)-.5)),o&&(s=ti.exec(r))&&"px"!==(s[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),cf(0,r,o)}}});i.cssHooks.marginLeft=uf(f.reliableMarginLeft,function(n,t){if(t)return(parseFloat(ui(n,"marginLeft"))||n.getBoundingClientRect().left-rf(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];r<4;r++)f[n+nt[r]+t]=u[r]||u[r-2]||u[0];return f}};"margin"!==n&&(i.cssHooks[n+t].set=cf)});i.fn.extend({css:function(n,t){return g(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=yi(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,1<arguments.length)}});((i.Tween=p).prototype={constructor:p,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=p.propHooks[this.prop];return n&&n.get?n.get(this):p.propHooks._default.get(this)},run:function(n){var t,r=p.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):p.propHooks._default.set(this),this}}).init.prototype=p.prototype;(p.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""))&&"auto"!==t?t:0},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||!i.cssHooks[n.prop]&&null==n.elem.style[fr(n.prop)]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}}).scrollTop=p.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=p.prototype.init;i.fx.step={};vf=/^(?:toggle|show|hide)$/;yf=/queueHooks$/;i.Animation=i.extend(w,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return pu(i.elem,n,ti.exec(t),i),i}]},tweener:function(n,t){e(n)?(t=n,n=["*"]):n=n.match(y);for(var i,r=0,u=n.length;r<u;r++)i=n[r],w.tweeners[i]=w.tweeners[i]||[],w.tweeners[i].unshift(t)},prefilters:[function(n,t,u){var f,y,w,c,b,h,o,l,k="width"in t||"height"in t,v=this,p={},s=n.style,a=n.nodeType&&ii(n),e=r.get(n,"fxshow");for(f in u.queue||(null==(c=i._queueHooks(n,"fx")).unqueued&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})})),t)if(y=t[f],vf.test(y)){if(delete t[f],w=w||"toggle"===y,y===(a?"hide":"show")){if("show"!==y||!e||void 0===e[f])continue;a=!0}p[f]=e&&e[f]||i.style(n,f)}if((h=!i.isEmptyObject(t))||!i.isEmptyObject(p))for(f in k&&1===n.nodeType&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],null==(o=e&&e.display)&&(o=r.get(n,"display")),"none"===(l=i.css(n,"display"))&&(o?l=o:(lt([n],!0),o=n.style.display||o,l=i.css(n,"display"),lt([n]))),("inline"===l||"inline-block"===l&&null!=o)&&"none"===i.css(n,"float")&&(h||(v.done(function(){s.display=o}),null==o&&(l=s.display,o="none"===l?"":l)),s.display="inline-block")),u.overflow&&(s.overflow="hidden",v.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]})),h=!1,p)h||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&lt([n],!0),v.done(function(){for(f in a||lt([n]),r.remove(n,"fxshow"),p)i.style(n,f,p[f])})),h=wf(a?e[f]:0,f,v),f in e||(e[f]=h.start,a&&(h.end=h.start,h.start=0))}],prefilter:function(n,t){t?w.prefilters.unshift(n):w.prefilters.push(n)}});i.speed=function(n,t,r){var u=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||e(n)&&n,duration:n,easing:r&&t||t&&!e(t)&&t};return i.fx.off?u.duration=0:"number"!=typeof u.duration&&(u.duration=u.duration in i.fx.speeds?i.fx.speeds[u.duration]:i.fx.speeds._default),null!=u.queue&&!0!==u.queue||(u.queue="fx"),u.old=u.complete,u.complete=function(){e(u.old)&&u.old.call(this);u.queue&&i.dequeue(this,u.queue)},u};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(ii).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=w(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||!1===o.queue?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&yf.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(wi(t,!0),n,i,u)}});i.each({slideDown:wi("show"),slideUp:wi("hide"),slideToggle:wi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(pt=Date.now();n<t.length;n++)(r=t[n])()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();pt=void 0};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){pi||(pi=!0,or())};i.fx.stop=function(){pi=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx&&i.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})};wt=u.createElement("input");af=u.createElement("select").appendChild(u.createElement("option"));wt.type="checkbox";f.checkOn=""!==wt.value;f.optSelected=af.selected;(wt=u.createElement("input")).value="t";wt.type="radio";f.radioValue="t"===wt.value;bt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return g(this,i.attr,n,t,1<arguments.length)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(u=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?bf:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):u&&"get"in u&&null!==(f=u.get(n,t))?f:null==(f=i.find.attr(n,t))?void 0:f)},attrHooks:{type:{set:function(n,t){if(!f.radioValue&&"radio"===t&&s(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(y);if(r&&1===n.nodeType)while(i=r[u++])n.removeAttribute(i)}});bf={set:function(n,t,r){return!1===t?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=bt[t]||i.find.attr;bt[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=bt[u],bt[u]=f,f=null!=r(n,t,i)?u:null,bt[u]=e),f}});kf=/^(?:input|select|textarea|button)$/i;df=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return g(this,i.prop,n,t,1<arguments.length)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):kf.test(n.nodeName)||df.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});f.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var u,t,f,o,r,s;return e(n)?this.each(function(t){i(this).addClass(n.call(this,t,ut(this)))}):(u=sr(n)).length?this.each(function(){if(f=ut(this),t=1===this.nodeType&&" "+rt(f)+" "){for(r=0;r<u.length;r++)o=u[r],t.indexOf(" "+o+" ")<0&&(t+=o+" ");s=rt(t);f!==s&&this.setAttribute("class",s)}}):this},removeClass:function(n){var u,t,f,o,r,s;return e(n)?this.each(function(t){i(this).removeClass(n.call(this,t,ut(this)))}):arguments.length?(u=sr(n)).length?this.each(function(){if(f=ut(this),t=1===this.nodeType&&" "+rt(f)+" "){for(r=0;r<u.length;r++)for(o=u[r];-1<t.indexOf(" "+o+" ");)t=t.replace(" "+o+" "," ");s=rt(t);f!==s&&this.setAttribute("class",s)}}):this:this.attr("class","")},toggleClass:function(n,t){var s,u,f,o,h=typeof n,c="string"===h||Array.isArray(n);return e(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,ut(this),t),t)}):"boolean"==typeof t&&c?t?this.addClass(n):this.removeClass(n):(s=sr(n),this.each(function(){if(c)for(o=i(this),f=0;f<s.length;f++)u=s[f],o.hasClass(u)?o.removeClass(u):o.addClass(u);else void 0!==n&&"boolean"!==h||((u=ut(this))&&r.set(this,"__className__",u),this.setAttribute&&this.setAttribute("class",u||!1===n?"":r.get(this,"__className__")||""))}))},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+rt(ut(t))+" ").indexOf(i))return!0;return!1}});gf=/\r/g;i.fn.extend({val:function(n){var t,r,f,u=this[0];return arguments.length?(f=e(n),this.each(function(r){var u;1===this.nodeType&&(null==(u=f?n.call(this,r,i(this).val()):n)?u="":"number"==typeof u?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),(t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):u?(t=i.valHooks[u.type]||i.valHooks[u.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(u,"value"))?r:"string"==typeof(r=u.value)?r.replace(gf,""):null==r?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:rt(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f="select-one"===n.type,h=f?null:[],c=f?u+1:o.length,r=u<0?c:f?u:0;r<c;r++)if(((t=o[r]).selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!s(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;h.push(e)}return h},set:function(n,t){for(var r,u,f=n.options,e=i.makeArray(t),o=f.length;o--;)((u=f[o]).selected=-1<i.inArray(i.valHooks.option.get(u),e))&&(r=!0);return r||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=-1<i.inArray(i(n).val(),t)}};f.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});var fi=n.location,ne={guid:Date.now()},hr=/\?/;i.parseXML=function(t){var r,u;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){}return u=r&&r.getElementsByTagName("parsererror")[0],r&&!u||i.error("Invalid XML: "+(u?i.map(u.childNodes,function(n){return n.textContent}).join("\n"):t)),r};cr=/^(?:focusinfocus|focusoutblur)$/;lr=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,f,o,s){var k,c,l,d,v,y,a,p,w=[o||u],h=dt.call(t,"type")?t.type:t,b=dt.call(t,"namespace")?t.namespace.split("."):[];if(c=p=l=o=o||u,3!==o.nodeType&&8!==o.nodeType&&!cr.test(h+i.event.triggered)&&(-1<h.indexOf(".")&&(h=(b=h.split(".")).shift(),b.sort()),v=h.indexOf(":")<0&&"on"+h,(t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),f=null==f?[t]:i.makeArray(f,[t]),a=i.event.special[h]||{},s||!a.trigger||!1!==a.trigger.apply(o,f))){if(!s&&!a.noBubble&&!ft(o)){for(d=a.delegateType||h,cr.test(d+h)||(c=c.parentNode);c;c=c.parentNode)w.push(c),l=c;l===(o.ownerDocument||u)&&w.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=w[k++])&&!t.isPropagationStopped();)p=c,t.type=1<k?d:a.bindType||h,(y=(r.get(c,"events")||Object.create(null))[t.type]&&r.get(c,"handle"))&&y.apply(c,f),(y=v&&c[v])&&y.apply&&ht(c)&&(t.result=y.apply(c,f),!1===t.result&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||a._default&&!1!==a._default.apply(w.pop(),f)||!ht(o)||v&&e(o[h])&&!ft(o)&&((l=o[v])&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,lr),o[h](),t.isPropagationStopped()&&p.removeEventListener(h,lr),i.event.triggered=void 0,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});var lo=/\[\]$/,te=/\r?\n/g,ao=/^(?:submit|button|image|reset|file)$/i,vo=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,u=[],f=function(n,t){var i=e(t)?t():t;u[u.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==i?"":i)};if(null==n)return"";if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){f(this.name,this.value)});else for(r in n)ar(r,n[r],t,f);return u.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&vo.test(this.nodeName)&&!ao.test(n)&&(this.checked||!ri.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(te,"\r\n")}}):{name:t.name,value:r.replace(te,"\r\n")}}).get()}});var yo=/%20/g,po=/#.*$/,wo=/([?&])_=[^&]*/,bo=/^(.*?):[ \t]*([^\r\n]*)$/gm,ko=/^(?:GET|HEAD)$/,go=/^\/\//,ie={},vr={},re="*/".concat("*"),yr=u.createElement("a");return yr.href=fi.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fi.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(fi.protocol),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":re,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?pr(pr(n,i.ajaxSettings),t):pr(i.ajaxSettings,n)},ajaxPrefilter:ue(ie),ajaxTransport:ue(vr),ajax:function(t,r){function b(t,r,u,c){var y,rt,b,p,g,a=r;s||(s=!0,d&&n.clearTimeout(d),l=void 0,k=c||"",e.readyState=0<t?4:0,y=200<=t&&t<300||304===t,u&&(p=function(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}(f,e,u)),!y&&-1<i.inArray("script",f.dataTypes)&&i.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),p=function(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(!(f=o[e+" "+u]||o["* "+u]))for(h in o)if((s=h.split(" "))[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){!0===f?f=o[h]:!0!==o[h]&&(u=s[0],c.unshift(s[1]));break}if(!0!==f)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(n){return{state:"parsererror",error:f?n:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}(f,p,e,y),y?(f.ifModified&&((g=e.getResponseHeader("Last-Modified"))&&(i.lastModified[o]=g),(g=e.getResponseHeader("etag"))&&(i.etag[o]=g)),204===t||"HEAD"===f.type?a="nocontent":304===t?a="notmodified":(a=p.state,rt=p.data,y=!(b=p.error))):(b=a,!t&&a||(a="error",t<0&&(t=0))),e.status=t,e.statusText=(r||a)+"",y?tt.resolveWith(h,[rt,a,e]):tt.rejectWith(h,[e,a,b]),e.statusCode(w),w=void 0,v&&nt.trigger(y?"ajaxSuccess":"ajaxError",[e,f,y?rt:b]),it.fireWith(h,[e,a]),v&&(nt.trigger("ajaxComplete",[e,f]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var l,o,k,a,d,c,s,v,g,p,f=i.ajaxSetup({},r),h=f.context||f,nt=f.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=f.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!a)for(a={};t=bo.exec(k);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[n.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return null==s&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return null==s&&(f.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return l&&l.abort(t),b(0,t),this}};if(tt.promise(e),f.url=((t||f.url||fi.href)+"").replace(go,fi.protocol+"//"),f.type=r.method||r.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(y)||[""],null==f.crossDomain){c=u.createElement("a");try{c.href=f.url;c.href=c.href;f.crossDomain=yr.protocol+"//"+yr.host!=c.protocol+"//"+c.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=i.param(f.data,f.traditional)),fe(ie,f,r,e),s)return e;for(g in(v=i.event&&f.global)&&0==i.active++&&i.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ko.test(f.type),o=f.url.replace(po,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(yo,"+")):(p=f.url.slice(o.length),f.data&&(f.processData||"string"==typeof f.data)&&(o+=(hr.test(o)?"&":"?")+f.data,delete f.data),!1===f.cache&&(o=o.replace(wo,"$1"),p=(hr.test(o)?"&":"?")+"_="+ne.guid+++p),f.url=o+p),f.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o])),(f.data&&f.hasContent&&!1!==f.contentType||r.contentType)&&e.setRequestHeader("Content-Type",f.contentType),e.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+re+"; q=0.01":""):f.accepts["*"]),f.headers)e.setRequestHeader(g,f.headers[g]);if(f.beforeSend&&(!1===f.beforeSend.call(h,e,f)||s))return e.abort();if(ft="abort",it.add(f.complete),e.done(f.success),e.fail(f.error),l=fe(vr,f,r,e)){if(e.readyState=1,v&&nt.trigger("ajaxSend",[e,f]),s)return e;f.async&&0<f.timeout&&(d=n.setTimeout(function(){e.abort("timeout")},f.timeout));try{s=!1;l.send(rt,b)}catch(t){if(s)throw t;b(-1,t)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,u,f){return e(r)&&(f=f||u,u=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:f,data:r,success:u},i.isPlainObject(n)&&n))}}),i.ajaxPrefilter(function(n){for(var t in n.headers)"content-type"===t.toLowerCase()&&(n.contentType=n.headers[t]||"")}),i._evalUrl=function(n,t,r){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t,r)}})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(e(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return e(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=e(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},ee={0:200,1223:204},kt=i.ajaxSettings.xhr(),f.cors=!!kt&&"withCredentials"in kt,f.ajax=kt=!!kt,i.ajaxTransport(function(t){var i,r;if(f.cors||kt&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];for(o in t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType),t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest"),u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(ee[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(u){if(i)throw u;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){var r,t;if(n.crossDomain||n.scriptAttrs)return{send:function(f,e){r=i("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});u.head.appendChild(r[0])},abort:function(){t&&t()}}}),wr=[],bi=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=wr.pop()||i.expando+"_"+ne.guid++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,u){var f,o,s,h=!1!==t.jsonp&&(bi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&bi.test(t.data)&&"data");if(h||"jsonp"===t.dataTypes[0])return f=t.jsonpCallback=e(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(bi,"$1"+f):!1!==t.jsonp&&(t.url+=(hr.test(t.url)?"&":"?")+t.jsonp+"="+f),t.converters["script json"]=function(){return s||i.error(f+" was not called"),s[0]},t.dataTypes[0]="json",o=n[f],n[f]=function(){s=arguments},u.always(function(){void 0===o?i(n).removeProp(f):n[f]=o;t[f]&&(t.jsonpCallback=r.jsonpCallback,wr.push(f));s&&e(o)&&o(s[0]);s=o=void 0}),"script"}),f.createHTMLDocument=((oe=u.implementation.createHTMLDocument("").body).innerHTML="<form><\/form><form><\/form>",2===oe.childNodes.length),i.parseHTML=function(n,t,r){return"string"!=typeof n?[]:("boolean"==typeof t&&(r=t,t=!1),t||(f.createHTMLDocument?((s=(t=u.implementation.createHTMLDocument("")).createElement("base")).href=u.location.href,t.head.appendChild(s)):t=u),e=!r&&[],(o=fu.exec(n))?[t.createElement(o[1])]:(o=du([n],t,e),e&&e.length&&i(e).remove(),i.merge([],o.childNodes)));var s,o,e},i.fn.load=function(n,t,r){var u,s,h,f=this,o=n.indexOf(" ");return-1<o&&(u=rt(n.slice(o)),n=n.slice(0,o)),e(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),0<f.length&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;f.html(u?i("<div>").append(i.parseHTML(n)).find(u):n)}).always(r&&function(n,t){f.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var v,o,s,h,u,c,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");u=a.offset();s=i.css(n,"top");c=i.css(n,"left");("absolute"===l||"fixed"===l)&&-1<(s+c).indexOf("auto")?(h=(v=a.position()).top,o=v.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);e(t)&&(t=t.call(n,r,i.extend({},u)));null!=t.top&&(f.top=t.top-u.top+h);null!=t.left&&(f.left=t.left-u.left+o);"using"in t?t.using.call(n,f):a.css(f)}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,r,u,t=this[0],f={top:0,left:0};if("fixed"===i.css(t,"position"))r=t.getBoundingClientRect();else{for(r=this.offset(),u=t.ownerDocument,n=t.offsetParent||u.documentElement;n&&(n===u.body||n===u.documentElement)&&"static"===i.css(n,"position");)n=n.parentNode;n&&n!==t&&1===n.nodeType&&((f=i(n).offset()).top+=i.css(n,"borderTopWidth",!0),f.left+=i.css(n,"borderLeftWidth",!0))}return{top:r.top-f.top-i.css(t,"marginTop",!0),left:r.left-f.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||tt})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return g(this,function(n,i,u){var f;if(ft(n)?f=n:9===n.nodeType&&(f=n.defaultView),void 0===u)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=uf(f.pixelPosition,function(n,r){if(r)return r=ui(n,t),rr.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||"boolean"!=typeof f),s=r||(!0===f||!0===e?"margin":"border");return g(this,function(t,r,f){var e;return ft(t)?0===u.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):void 0===f?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:void 0,o)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)},hover:function(n,t){return this.on("mouseenter",n).on("mouseleave",t||n)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return 0<arguments.length?this.on(t,null,n,i):this.trigger(t)}}),se=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g,i.proxy=function(n,t){var r,u,f;if("string"==typeof t&&(r=n[t],t=n,n=r),e(n))return u=a.call(arguments,2),(f=function(){return n.apply(t||this,u.concat(a.call(arguments)))}).guid=n.guid=n.guid||i.guid++,f},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=s,i.isFunction=e,i.isWindow=ft,i.camelCase=k,i.type=et,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return("number"===t||"string"===t)&&!isNaN(n-parseFloat(n))},i.trim=function(n){return null==n?"":(n+"").replace(se,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),he=n.jQuery,ce=n.$,i.noConflict=function(t){return n.$===i&&(n.$=ce),t&&n.jQuery===i&&(n.jQuery=he),i},"undefined"==typeof t&&(n.jQuery=n.$=i),i});
/*! jsTree - v3.3.16 - 2023-09-19 - (MIT) */
!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n,t){"use strict";var w,f,y,r,c,s,u,i,b,k,v,a;if(!n.jstree){var nt=0,h=!1,o=!1,l=!1,d=[],a=n("script:last").attr("src"),e=window.document,p=window.setImmediate,g=window.Promise;if(!p&&g&&(p=function(n,t){g.resolve(t).then(n)}),n.jstree={version:"3.3.16",defaults:{plugins:[]},plugins:{},path:a&&-1!==a.indexOf("/")?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},n.jstree.create=function(t,i){var r=new n.jstree.core(++nt),u=i;return i=n.extend(!0,{},n.jstree.defaults,i),u&&u.plugins&&(i.plugins=u.plugins),n.each(i.plugins,function(n,t){"core"!==n&&(r=r.plugin(t,i[t]))}),n(t).data("jstree",r),r.init(t,i),r},n.jstree.destroy=function(){n(".jstree:jstree").jstree("destroy");n(e).off(".jstree")},n.jstree.core=function(n){this._id=n;this._cnt=0;this._wrk=null;this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},n.jstree.reference=function(t){var r=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=n(t)}catch(i){}if(!i||!i.length)try{i=n("#"+t.replace(n.jstree.idregex,"\\$&"))}catch(i){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?r=i:n(".jstree").each(function(){var i=n(this).data("jstree");if(i&&i._model.data[t])return r=i,!1}),r},n.fn.jstree=function(i){var u="string"==typeof i,f=Array.prototype.slice.call(arguments,1),r=null;return!(!0===i&&!this.length)&&(this.each(function(){var e=n.jstree.reference(this),o=u&&e?e[i]:null;if(r=u&&o?o.apply(e,f):null,e||u||i!==t&&!n.isPlainObject(i)||n.jstree.create(this,i),null!==(r=e&&!u||!0===i?e||!1:r)&&r!==t)return!1}),null!==r&&r!==t?r:this)},n.expr.pseudos.jstree=n.expr.createPseudo(function(){return function(i){return n(i).hasClass("jstree")&&n(i).data("jstree")!==t}}),n.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:n.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(t){t.type="click";n(t.currentTarget).trigger(t)},enter:function(t){t.type="click";n(t.currentTarget).trigger(t)},left:function(t){var t;t.preventDefault();this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(t=this.get_parent(t.currentTarget))&&t.id!==n.jstree.root&&this.get_node(t,!0).children(".jstree-anchor").trigger("focus")},up:function(n){n.preventDefault();var n=this.get_prev_dom(n.currentTarget);n&&n.length&&n.children(".jstree-anchor").trigger("focus")},right:function(t){var t;t.preventDefault();this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(n){this.get_node(n,!0).children(".jstree-anchor").trigger("focus")}):!this.is_open(t.currentTarget)||(t=this.get_node(t.currentTarget,!0).children(".jstree-children")[0])&&n(this._firstChild(t)).children(".jstree-anchor").trigger("focus")},down:function(n){n.preventDefault();var n=this.get_next_dom(n.currentTarget);n&&n.length&&n.children(".jstree-anchor").trigger("focus")},"*":function(){this.open_all()},home:function(t){t.preventDefault();var t=this._firstChild(this.get_container_ul()[0]);t&&n(t).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(n){n.preventDefault();this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(n){n.preventDefault();this.edit(n.currentTarget)}},allow_reselect:!1},n.jstree.core.prototype={plugin:function(t,i){var r=n.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}};this._model.data[n.jstree.root]={id:n.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this.element=n(t).addClass("jstree jstree-"+this._id);this.settings=i;this._data.core.ready=!1;this._data.core.loaded=!1;this._data.core.rtl="rtl"===this.element.css("direction");this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl");this.element.attr("role","tree");this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0);this.element.attr("tabindex")||this.element.attr("tabindex","0");this.bind();this.trigger("init");this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0);this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove();this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'><\/i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'><\/i>"+this.get_string("Loading ...")+"<\/a><\/li><\/ul>");this.element.attr("aria-activedescendant","j"+this._id+"_loading");this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24;this._data.core.node=this._create_prototype_node();this.trigger("loading");this.load_node(n.jstree.root)},destroy:function(n){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk);this._wrk=null}catch(n){}n||this.element.empty();this.teardown()},_create_prototype_node:function(){var t=e.createElement("LI"),n,i;return t.setAttribute("role","none"),(n=e.createElement("I")).className="jstree-icon jstree-ocl",n.setAttribute("role","presentation"),t.appendChild(n),(n=e.createElement("A")).className="jstree-anchor",n.setAttribute("href","#"),n.setAttribute("tabindex","-1"),n.setAttribute("role","treeitem"),(i=e.createElement("I")).className="jstree-icon jstree-themeicon",i.setAttribute("role","presentation"),n.appendChild(i),t.appendChild(n),n=i=null,t},_kbevent_to_func:function(n){var f={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},t=[],r,u,i;if(n.ctrlKey&&t.push("ctrl"),n.altKey&&t.push("alt"),n.shiftKey&&t.push("shift"),t.push(f[n.which]?f[n.which].toLowerCase():n.which),"shift-shift"===(t=t.sort().join("-").toLowerCase())||"ctrl-ctrl"===t||"alt-alt"===t)return null;r=this.settings.core.keyboard;for(u in r)if(r.hasOwnProperty(u)&&(i="-"!==(i=u)&&"+"!==i?(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase():i)===t)return r[u];return null},teardown:function(){this.unbind();this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")});this.element=null},bind:function(){var t="",i=null,r=0;this.element.on("dblclick.jstree",function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;if(e.selection&&e.selection.empty)e.selection.empty();else if(window.getSelection){var n=window.getSelection();try{n.removeAllRanges();n.collapse()}catch(n){}}}).on("mousedown.jstree",function(n){n.target===this.element[0]&&(n.preventDefault(),r=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",function(n){n.preventDefault()}).on("click.jstree",".jstree-ocl",function(n){this.toggle_node(n.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(n.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(t){t.preventDefault();t.currentTarget!==e.activeElement&&n(t.currentTarget).trigger("focus");this.activate_node(t.currentTarget,t)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(n){var t,n;return n.target.tagName&&"input"===n.target.tagName.toLowerCase()?!0:(this._data.core.rtl&&(37===n.which?n.which=39:39===n.which&&(n.which=37)),t=this._kbevent_to_func(n),t&&(n=t.call(this,n),!1===n||!0===n)?n:void 0)}.bind(this)).on("load_node.jstree",function(t,i){i.status&&(i.node.id!==n.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var i=[],t=0,r=this._data.core.selected.length;t<r;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,r=(i=n.vakata.array_unique(i)).length;t<r;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;i&&clearTimeout(i);i=setTimeout(function(){t=""},500);var o=String.fromCharCode(r.which).toLowerCase(),f=this.element.find(".jstree-anchor").filter(":visible"),r=f.index(e.activeElement)||0,u=!1;if(1<(t+=o).length){if(f.slice(r).each(function(i,r){if(0===n(r).text().toLowerCase().indexOf(t))return n(r).trigger("focus"),!(u=!0)}.bind(this)),u)return;if(f.slice(0,r).each(function(i,r){if(0===n(r).text().toLowerCase().indexOf(t))return n(r).trigger("focus"),!(u=!0)}.bind(this)),u)return}new RegExp("^"+o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)&&(f.slice(r+1).each(function(t,i){if(n(i).text().toLowerCase().charAt(0)===o)return n(i).trigger("focus"),!(u=!0)}.bind(this)),u||f.slice(0,r+1).each(function(t,i){if(n(i).text().toLowerCase().charAt(0)===o)return n(i).trigger("focus"),!(u=!0)}.bind(this)))}.bind(this)).on("init.jstree",function(){var n=this.settings.core.themes;this._data.core.themes.dots=n.dots;this._data.core.themes.stripes=n.stripes;this._data.core.themes.icons=n.icons;this._data.core.themes.ellipsis=n.ellipsis;this.set_theme(n.name||"default",n.url);this.set_theme_variant(n.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"]();this[this._data.core.themes.icons?"show_icons":"hide_icons"]();this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]();this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(t){this._data.core.focused=null;n(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave");this.element.attr("tabindex","0");n(t.currentTarget).attr("tabindex","-1")}.bind(this)).on("focus.jstree",".jstree-anchor",function(t){var i=this.get_node(t.currentTarget);i&&(i.id||0===i.id)&&(this._data.core.focused=i.id);this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave");n(t.currentTarget).trigger("mouseenter");this.element.attr("tabindex","-1");n(t.currentTarget).attr("tabindex","0")}.bind(this)).on("focus.jstree",function(){var n;500<+new Date-r&&!this._data.core.focused&&this.settings.core.restore_focus&&(r=0,(n=this.get_node(this.element.attr("aria-activedescendant"),!0))&&n.find("> .jstree-anchor").trigger("focus"))}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(n){this.hover_node(n.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(n){this.dehover_node(n.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree");n(e).off(".jstree-"+this._id)},trigger:function(n,t){((t=t||{}).instance=this).element.triggerHandler(n.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return n.vakata.is_function(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(n){for(n=n?n.firstChild:null;null!==n&&1!==n.nodeType;)n=n.nextSibling;return n},_nextSibling:function(n){for(n=n?n.nextSibling:null;null!==n&&1!==n.nodeType;)n=n.nextSibling;return n},_previousSibling:function(n){for(n=n?n.previousSibling:null;null!==n&&1!==n.nodeType;)n=n.previousSibling;return n},get_node:function(t,i){var r;(t=t&&(t.id||0===t.id)?t.id:t)instanceof n&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=n("#"+t.replace(n.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(t)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=this.element.find(t)).length||!r.hasClass("jstree"))return!1;t=this._model.data[n.jstree.root]}return i?t.id===n.jstree.root?this.element:n("#"+t.id.replace(n.jstree.idregex,"\\$&"),this.element):t}catch(t){return!1}},get_path:function(t,i,r){if(!(t=t.parents?t:this.get_node(t))||t.id===n.jstree.root||!t.parents)return!1;var f,e,u=[];for(u.push(r?t.id:t.text),f=0,e=t.parents.length;f<e;f++)u.push(r?t.parents[f]:this.get_text(t.parents[f]));return u=u.reverse().slice(1),i?u.join(i):u},get_next_dom:function(t,i){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&n(r)}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return!!r&&n(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return n(r)}r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return null!==r?n(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&n(r)}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);return!!r&&n(r)}r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);if(null===r)return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&n(r);for(t=n(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.parent},get_children_dom:function(n){return(n=this.get_node(n,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!n||!n.length)&&n.children(".jstree-children").children(".jstree-node")},is_parent:function(n){return(n=this.get_node(n))&&(!1===n.state.loaded||0<n.children.length)},is_loaded:function(n){return(n=this.get_node(n))&&n.state.loaded},is_loading:function(n){return(n=this.get_node(n))&&n.state&&n.state.loading},is_open:function(n){return(n=this.get_node(n))&&n.state.opened},is_closed:function(n){return(n=this.get_node(n))&&this.is_parent(n)&&!n.state.opened},is_leaf:function(n){return!this.is_parent(n)},load_node:function(t,i){var f=this.get_node(t,!0),r,o,u,s,e;if(n.vakata.is_array(t))return this._load_nodes(t.slice(),i),!0;if(!(t=this.get_node(t)))return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,u=0,s=t.parents.length;u<s;u++)this._model.data[t.parents[u]].children_d=n.vakata.array_filter(this._model.data[t.parents[u]].children_d,function(i){return-1===n.inArray(i,t.children_d)});for(r=0,o=t.children_d.length;r<o;r++)this._model.data[t.children_d[r]].state.selected&&(e=!0),delete this._model.data[t.children_d[r]];e&&(this._data.core.selected=n.vakata.array_filter(this._data.core.selected,function(i){return-1===n.inArray(i,t.children_d)}));t.children=[];t.children_d=[];e&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,(t.id!==n.jstree.root?f.children(".jstree-anchor"):f).attr("aria-busy",!0),f.addClass("jstree-loading"),this._load_node(t,function(r){(t=this._model.data[t.id]).state.loading=!1;t.state.loaded=r;t.state.failed=!t.state.loaded;for(var u=this.get_node(t,!0),f=0,s=0,e=this._model.data,o=!1,f=0,s=t.children.length;f<s;f++)if(e[t.children[f]]&&!e[t.children[f]].state.hidden){o=!0;break}t.state.loaded&&u&&u.length&&(u.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&u.addClass(t.state.opened?"jstree-open":"jstree-closed"):u.addClass("jstree-leaf"));(t.id!==n.jstree.root?u.children(".jstree-anchor"):u).attr("aria-busy",!1);u.removeClass("jstree-loading");this.trigger("load_node",{node:t,status:r});i&&i.call(this,t,r)}.bind(this)),!0},_load_nodes:function(n,t,i,r){for(var o=!0,h=function(){this._load_nodes(n,t,!0)},f=this._model.data,s=[],u=0,e=n.length;u<e;u++)!f[n[u]]||(f[n[u]].state.loaded||f[n[u]].state.failed)&&(i||!r)||(this.is_loading(n[u])||this.load_node(n[u],h),o=!1);if(o){for(u=0,e=n.length;u<e;u++)f[n[u]]&&f[n[u]].state.loaded&&s.push(n[u]);t&&!t.done&&(t.call(this,s),t.done=!0)}},load_all:function(t,i){if(t=t||n.jstree.root,!(t=this.get_node(t)))return!1;var f=[],e=this._model.data,u=e[t.id].children_d,r,o;for(t.state&&!t.state.loaded&&f.push(t.id),r=0,o=u.length;r<o;r++)e[u[r]]&&e[u[r]].state&&!e[u[r]].state.loaded&&f.push(u[r]);f.length?this._load_nodes(f,function(){this.load_all(t,i)}):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var r=this.settings.core.data,f,u=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?n.vakata.is_function(r)?r.call(this,t,function(r){!1===r?i.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?n(n.parseHTML(r)).filter(u):r,function(n){i.call(this,n)})}.bind(this)):"object"==typeof r?r.url?(r=n.extend(!0,{},r),n.vakata.is_function(r.url)&&(r.url=r.url.call(this,t)),n.vakata.is_function(r.data)&&(r.data=r.data.call(this,t)),n.ajax(r).done(function(r,f,e){var o=e.getResponseHeader("Content-Type");return o&&-1!==o.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,function(n){i.call(this,n)}):o&&-1!==o.indexOf("html")||"string"==typeof r?this._append_html_data(t,n(n.parseHTML(r)).filter(u),function(n){i.call(this,n)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))}.bind(this)).fail(function(n){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:n})};i.call(this,!1);this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(f=n.vakata.is_array(r)?n.extend(!0,[],r):n.isPlainObject(r)?n.extend(!0,{},r):r,t.id===n.jstree.root?this._append_json_data(t,f,function(n){i.call(this,n)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof r?t.id===n.jstree.root?this._append_html_data(t,n(n.parseHTML(r)).filter(u),function(n){i.call(this,n)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===n.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(n){i.call(this,n)}):i.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===n.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,i,r){(t=this.get_node(t)).children=[];t.children_d=[];var i=i.is("ul")?i.children():i,e=t.id,c=[],u=[],o=this._model.data,f=o[e],t=this._data.core.selected.length,s,h,l;for(i.each(function(t,i){(s=this._parse_model_from_html(n(i),e,f.parents.concat()))&&(c.push(s),u.push(s),o[s].children_d.length&&(u=u.concat(o[s].children_d)))}.bind(this)),f.children=c,f.children_d=u,h=0,l=f.parents.length;h<l;h++)o[f.parents[h]].children_d=o[f.parents[h]].children_d.concat(u);this.trigger("model",{nodes:u,parent:e});e!==n.jstree.root?(this._node_changed(e),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0));this._data.core.selected.length!==t&&this.trigger("changed",{action:"model",selected:this._data.core.selected});r.call(this,!0)},_append_json_data:function(t,i,r,u){if(null!==this.element){(t=this.get_node(t)).children=[];t.children_d=[];i.d&&"string"==typeof(i=i.d)&&(i=JSON.parse(i));n.vakata.is_array(i)||(i=[i]);var e=null,o={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},f=this,s=function(n,t){var u=(n=n.data?n.data:n).dat,l=n.par,p=[],s=[],a=[],c=n.df,k=n.t_id,y=n.t_cnt,r=n.m,e=r[l],n=n.sel,h,i,o,v,w=function(n,i,u){u=u?u.concat():[];i&&u.unshift(i);var h=n.id.toString(),e,l,o,s,f={id:h,text:n.text||"",icon:n.icon===t||n.icon,parent:i,parents:u,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in c)c.hasOwnProperty(e)&&(f.state[e]=c[e]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(e in n.data.jstree)n.data.jstree.hasOwnProperty(e)&&(f.state[e]=n.data.jstree[e]);if(n&&"object"==typeof n.state)for(e in n.state)n.state.hasOwnProperty(e)&&(f.state[e]=n.state[e]);if(n&&"object"==typeof n.li_attr)for(e in n.li_attr)n.li_attr.hasOwnProperty(e)&&(f.li_attr[e]=n.li_attr[e]);if(f.li_attr.id||(f.li_attr.id=h),n&&"object"==typeof n.a_attr)for(e in n.a_attr)n.a_attr.hasOwnProperty(e)&&(f.a_attr[e]=n.a_attr[e]);for(n&&n.children&&!0===n.children&&(f.state.loaded=!1,f.children=[],f.children_d=[]),e=0,l=(r[f.id]=f).children.length;e<l;e++)o=w(r[f.children[e]],f.id,u),s=r[o],f.children_d.push(o),s.children_d.length&&(f.children_d=f.children_d.concat(s.children_d));return delete n.data,delete n.children,r[f.id].original=n,f.state.selected&&a.push(f.id),f.id},b=function(n,i,u){u=u?u.concat():[];i&&u.unshift(i);var o=!1,e,l,s,h,f;do o="j"+k+"_"+ ++y;while(r[o]);for(e in f={id:!1,text:"string"==typeof n?n:"",icon:"object"!=typeof n||n.icon===t||n.icon,parent:i,parents:u,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},c)c.hasOwnProperty(e)&&(f.state[e]=c[e]);if(n&&(n.id||0===n.id)&&(f.id=n.id.toString()),n&&n.text&&(f.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(e in n.data.jstree)n.data.jstree.hasOwnProperty(e)&&(f.state[e]=n.data.jstree[e]);if(n&&"object"==typeof n.state)for(e in n.state)n.state.hasOwnProperty(e)&&(f.state[e]=n.state[e]);if(n&&"object"==typeof n.li_attr)for(e in n.li_attr)n.li_attr.hasOwnProperty(e)&&(f.li_attr[e]=n.li_attr[e]);if(f.li_attr.id&&!f.id&&0!==f.id&&(f.id=f.li_attr.id.toString()),f.id||0===f.id||(f.id=o),f.li_attr.id||(f.li_attr.id=f.id),n&&"object"==typeof n.a_attr)for(e in n.a_attr)n.a_attr.hasOwnProperty(e)&&(f.a_attr[e]=n.a_attr[e]);if(n&&n.children&&n.children.length){for(e=0,l=n.children.length;e<l;e++)s=b(n.children[e],f.id,u),h=r[s],f.children.push(s),h.children_d.length&&(f.children_d=f.children_d.concat(h.children_d));f.children_d=f.children_d.concat(f.children)}return n&&n.children&&!0===n.children&&(f.state.loaded=!1,f.children=[],f.children_d=[]),delete n.data,delete n.children,f.original=n,(r[f.id]=f).state.selected&&a.push(f.id),f.id};if(u.length&&u[0].id!==t&&u[0].parent!==t){for(i=0,o=u.length;i<o;i++)u[i].children||(u[i].children=[]),u[i].state||(u[i].state={}),r[u[i].id.toString()]=u[i];for(i=0,o=u.length;i<o;i++)r[u[i].parent.toString()]?(r[u[i].parent.toString()].children.push(u[i].id.toString()),e.children_d.push(u[i].id.toString())):void 0!==f&&(f._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:u[i].id.toString(),parent:u[i].parent.toString()})},f.settings.core.error.call(f,f._data.core.last_error));for(i=0,o=e.children.length;i<o;i++)h=w(r[e.children[i]],l,e.parents.concat()),s.push(h),r[h].children_d.length&&(s=s.concat(r[h].children_d));for(i=0,o=e.parents.length;i<o;i++)r[e.parents[i]].children_d=r[e.parents[i]].children_d.concat(s);v={cnt:y,mod:r,sel:n,par:l,dpc:s,add:a}}else{for(i=0,o=u.length;i<o;i++)(h=b(u[i],l,e.parents.concat()))&&(p.push(h),s.push(h),r[h].children_d.length&&(s=s.concat(r[h].children_d)));for(e.children=p,e.children_d=s,i=0,o=e.parents.length;i<o;i++)r[e.parents[i]].children_d=r[e.parents[i]].children_d.concat(s);v={cnt:y,mod:r,sel:n,par:l,dpc:s,add:a}}if("undefined"!=typeof window&&void 0!==window.document)return v;postMessage(v)},h=function(t,i){var u,o;if(null!==this.element){for(u in this._cnt=t.cnt,o=this._model.data)o.hasOwnProperty(u)&&o[u].state&&o[u].state.loading&&t.mod[u]&&(t.mod[u].state.loading=!0);if(this._model.data=t.mod,i){var h,c=t.add,e=t.sel,s=this._data.core.selected.slice(),o=this._model.data;if(e.length!==s.length||n.vakata.array_unique(e.concat(s)).length!==e.length){for(u=0,h=e.length;u<h;u++)-1===n.inArray(e[u],c)&&-1===n.inArray(e[u],s)&&(o[e[u]].state.selected=!1);for(u=0,h=s.length;u<h;u++)-1===n.inArray(s[u],e)&&(o[s[u]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add));this.trigger("model",{nodes:t.dpc,parent:t.par});t.par!==n.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0);t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected});!i&&p?p(function(){r.call(f,!0)}):r.call(f,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"})));!this._data.core.working||u?(this._data.core.working=!0,(e=new window.Worker(this._wrk)).onmessage=function(n){h.call(this,n.data,!0);try{e.terminate();e=null}catch(n){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),e.onerror=function(){h.call(this,s(o),!1);this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),o.par?e.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,r,!0])}catch(t){h.call(this,s(o),!1);this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else h.call(this,s(o),!1)}},_parse_model_from_html:function(i,r,u){u=u?[].concat(u):[];r&&u.unshift(r);var o,s,c=this._model.data,f={id:!1,text:!1,icon:!0,parent:r,parents:u,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},e,r,h;for(e in this._model.default_state)this._model.default_state.hasOwnProperty(e)&&(f.state[e]=this._model.default_state[e]);if(r=n.vakata.attributes(i,!0),n.each(r,function(t,i){return!(i=n.vakata.trim(i)).length||(f.li_attr[t]=i,void("id"===t&&(f.id=i.toString())))}),(r=i.children("a").first()).length&&(r=n.vakata.attributes(r,!0),n.each(r,function(t,i){(i=n.vakata.trim(i)).length&&(f.a_attr[t]=i)})),(r=(i.children("a").first().length?i.children("a").first():i).clone()).children("ins, i, ul").remove(),r=r.html(),r=n("<div><\/div>").html(r),f.text=this.settings.core.force_text?r.text():r.html(),r=i.data(),f.data=r?n.extend(!0,{},r):null,f.state.opened=i.hasClass("jstree-open"),f.state.selected=i.children("a").hasClass("jstree-clicked"),f.state.disabled=i.children("a").hasClass("jstree-disabled"),f.data&&f.data.jstree)for(e in f.data.jstree)f.data.jstree.hasOwnProperty(e)&&(f.state[e]=f.data.jstree[e]);(r=i.children("a").children(".jstree-themeicon")).length&&(f.icon=!r.hasClass("jstree-themeicon-hidden")&&r.attr("rel"));f.state.icon!==t&&(f.icon=f.state.icon);f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0);r=i.children("ul").children("li");do h="j"+this._id+"_"+ ++this._cnt;while(c[h]);return f.id=f.li_attr.id?f.li_attr.id.toString():h,r.length?(r.each(function(t,i){o=this._parse_model_from_html(n(i),f.id,u);s=this._model.data[o];f.children.push(o);s.children_d.length&&(f.children_d=f.children_d.concat(s.children_d))}.bind(this)),f.children_d=f.children_d.concat(f.children)):i.hasClass("jstree-closed")&&(f.state.loaded=!1),f.li_attr.class&&(f.li_attr.class=f.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),f.a_attr.class&&(f.a_attr.class=f.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(c[f.id]=f).state.selected&&this._data.core.selected.push(f.id),f.id},_parse_model_from_flat_json:function(n,i,r){r=r?r.concat():[];i&&r.unshift(i);var h=n.id.toString(),e=this._model.data,o=this._model.default_state,f,c,l,s,u={id:h,text:n.text||"",icon:n.icon===t||n.icon,parent:i,parents:r,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in o)o.hasOwnProperty(f)&&(u.state[f]=o[f]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(u.icon=n.data.jstree.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),n&&n.data&&(u.data=n.data,n.data.jstree))for(f in n.data.jstree)n.data.jstree.hasOwnProperty(f)&&(u.state[f]=n.data.jstree[f]);if(n&&"object"==typeof n.state)for(f in n.state)n.state.hasOwnProperty(f)&&(u.state[f]=n.state[f]);if(n&&"object"==typeof n.li_attr)for(f in n.li_attr)n.li_attr.hasOwnProperty(f)&&(u.li_attr[f]=n.li_attr[f]);if(u.li_attr.id||(u.li_attr.id=h),n&&"object"==typeof n.a_attr)for(f in n.a_attr)n.a_attr.hasOwnProperty(f)&&(u.a_attr[f]=n.a_attr[f]);for(n&&n.children&&!0===n.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),f=0,c=(e[u.id]=u).children.length;f<c;f++)s=e[l=this._parse_model_from_flat_json(e[u.children[f]],u.id,r)],u.children_d.push(l),s.children_d.length&&(u.children_d=u.children_d.concat(s.children_d));return delete n.data,delete n.children,e[u.id].original=n,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(n,i,r){r=r?r.concat():[];i&&r.unshift(i);var e=!1,f,c,l,o,s=this._model.data,h=this._model.default_state,u;do e="j"+this._id+"_"+ ++this._cnt;while(s[e]);for(f in u={id:!1,text:"string"==typeof n?n:"",icon:"object"!=typeof n||n.icon===t||n.icon,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(f)&&(u.state[f]=h[f]);if(n&&(n.id||0===n.id)&&(u.id=n.id.toString()),n&&n.text&&(u.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(u.icon=n.data.jstree.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),n&&n.data&&(u.data=n.data,n.data.jstree))for(f in n.data.jstree)n.data.jstree.hasOwnProperty(f)&&(u.state[f]=n.data.jstree[f]);if(n&&"object"==typeof n.state)for(f in n.state)n.state.hasOwnProperty(f)&&(u.state[f]=n.state[f]);if(n&&"object"==typeof n.li_attr)for(f in n.li_attr)n.li_attr.hasOwnProperty(f)&&(u.li_attr[f]=n.li_attr[f]);if(u.li_attr.id&&!u.id&&0!==u.id&&(u.id=u.li_attr.id.toString()),u.id||0===u.id||(u.id=e),u.li_attr.id||(u.li_attr.id=u.id),n&&"object"==typeof n.a_attr)for(f in n.a_attr)n.a_attr.hasOwnProperty(f)&&(u.a_attr[f]=n.a_attr[f]);if(n&&n.children&&n.children.length){for(f=0,c=n.children.length;f<c;f++)o=s[l=this._parse_model_from_json(n.children[f],u.id,r)],u.children.push(l),o.children_d.length&&(u.children_d=u.children_d.concat(o.children_d));u.children_d=u.children.concat(u.children_d)}return n&&n.children&&!0===n.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),delete n.data,delete n.children,u.original=n,(s[u.id]=u).state.selected&&this._data.core.selected.push(u.id),u.id},_redraw:function(){for(var r=(this._model.force_full_redraw?this._model.data[n.jstree.root].children:this._model.changed).concat([]),i=e.createElement("UL"),t,f=this._data.core.focused,u=0,o=r.length;u<o;u++)(t=this.redraw_node(r[u],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&i.appendChild(t);this._model.force_full_redraw&&(i.className=this.get_container_ul()[0].className,i.setAttribute("role","presentation"),this.element.empty().append(i));null!==f&&this.settings.core.restore_focus&&((t=this.get_node(f,!0))&&t.length&&t.children(".jstree-anchor")[0]!==e.activeElement?t.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null);this._model.force_full_redraw=!1;this._model.changed=[];this.trigger("redraw",{nodes:r})},redraw:function(n){n&&(this._model.force_full_redraw=!0);this._redraw()},draw_children:function(t){var i=this.get_node(t),r=!1,f=!1,u=!1,o=e;if(!i)return!1;if(i.id===n.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],i.children.length&&i.state.loaded){for((u=o.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",r=0,f=i.children.length;r<f;r++)u.appendChild(this.redraw_node(i.children[r],!0,!0));t.appendChild(u)}},redraw_node:function(t,i,r,u){var f=this.get_node(t),s=!1,v=!1,w=!1,o=!1,h=!1,y=!1,c="",b=e,l=this._model.data,k=!1,a=null,d=0,g=0,nt=!1,p=!1;if(!f)return!1;if(f.id===n.jstree.root)return this.redraw(!0);if(i=i||0===f.children.length,t=e.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(f.id[0])?"\\3"+f.id[0]+" "+f.id.substr(1).replace(n.jstree.idregex,"\\$&"):f.id.replace(n.jstree.idregex,"\\$&"))):e.getElementById(f.id))t=n(t),r||((s=t.parent().parent()[0])===this.element[0]&&(s=null),v=t.index()),(i=!i&&f.children.length&&!t.children(".jstree-children").length?!0:i)||(w=t.children(".jstree-children")[0]),k=t.children(".jstree-anchor")[0]===e.activeElement,t.remove();else if(i=!0,!r){if(!(null===(s=f.parent!==n.jstree.root?n("#"+f.parent.replace(n.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&l[f.parent].state.opened))return!1;v=n.inArray(f.id,(null===s?l[n.jstree.root]:l[f.parent]).children)}for(o in t=this._data.core.node.cloneNode(!0),c="jstree-node ",f.li_attr)f.li_attr.hasOwnProperty(o)&&"id"!==o&&("class"!==o?t.setAttribute(o,f.li_attr[o]):c+=f.li_attr[o]);for(f.a_attr.id||(f.a_attr.id=f.id+"_anchor"),t.childNodes[1].setAttribute("aria-selected",!!f.state.selected),t.childNodes[1].setAttribute("aria-level",f.parents.length),this.settings.core.compute_elements_positions&&(t.childNodes[1].setAttribute("aria-setsize",l[f.parent].children.length),t.childNodes[1].setAttribute("aria-posinset",l[f.parent].children.indexOf(f.id)+1)),f.state.disabled&&t.childNodes[1].setAttribute("aria-disabled",!0),o=0,h=f.children.length;o<h;o++)if(!l[f.children[o]].state.hidden){nt=!0;break}if(null!==f.parent&&l[f.parent]&&!f.state.hidden&&(o=n.inArray(f.id,l[f.parent].children),p=f.id,-1!==o))for(o++,h=l[f.parent].children.length;o<h;o++)if((p=l[l[f.parent].children[o]].state.hidden?p:l[f.parent].children[o])!==f.id)break;for(h in f.state.hidden&&(c+=" jstree-hidden"),f.state.loading&&(c+=" jstree-loading"),f.state.loaded&&!nt?c+=" jstree-leaf":(c+=f.state.opened&&f.state.loaded?" jstree-open":" jstree-closed",t.childNodes[1].setAttribute("aria-expanded",f.state.opened&&f.state.loaded)),p===f.id&&(c+=" jstree-last"),t.id=f.id,t.className=c,c=(f.state.selected?" jstree-clicked":"")+(f.state.disabled?" jstree-disabled":""),f.a_attr)f.a_attr.hasOwnProperty(h)&&("href"===h&&"#"===f.a_attr[h]||("class"!==h?t.childNodes[1].setAttribute(h,f.a_attr[h]):c+=" "+f.a_attr[h]));if(c.length&&(t.childNodes[1].className="jstree-anchor "+c),(f.icon&&!0!==f.icon||!1===f.icon)&&(!1===f.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===f.icon.indexOf("/")&&-1===f.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+f.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+f.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(b.createTextNode(f.text)):t.childNodes[1].innerHTML+=f.text,i&&f.children.length&&(f.state.opened||u)&&f.state.loaded){for((y=b.createElement("UL")).setAttribute("role","group"),y.className="jstree-children",o=0,h=f.children.length;o<h;o++)y.appendChild(this.redraw_node(f.children[o],i,!0));t.appendChild(y)}if(w&&t.appendChild(w),!r){for(o=0,h=(s=s||this.element[0]).childNodes.length;o<h;o++)if(s.childNodes[o]&&s.childNodes[o].className&&-1!==s.childNodes[o].className.indexOf("jstree-children")){a=s.childNodes[o];break}a||((a=b.createElement("UL")).setAttribute("role","group"),a.className="jstree-children",s.appendChild(a));v<(s=a).childNodes.length?s.insertBefore(t,s.childNodes[v]):s.appendChild(t);k&&(d=this.element[0].scrollTop,g=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=d,this.element[0].scrollLeft=g)}return f.state.opened&&!f.state.loaded&&(f.state.opened=!1,setTimeout(function(){this.open_node(f.id,!1,0)}.bind(this),0)),t},open_node:function(i,r,u){var e,s,f,o;if(n.vakata.is_array(i)){for(e=0,s=(i=i.slice()).length;e<s;e++)this.open_node(i[e],r,u);return!0}return!(!(i=this.get_node(i))||i.id===n.jstree.root)&&(u=u===t?this.settings.core.animation:u,this.is_closed(i)?this.is_loaded(i)?(f=this.get_node(i,!0),o=this,f.length&&(u&&f.children(".jstree-children").length&&f.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(f.children(".jstree-children")[0])&&this.draw_children(i),u?(this.trigger("before_open",{node:i}),f.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(u,function(){this.style.display="";o.element&&o.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),f[0].className=f[0].className.replace("jstree-closed","jstree-open"),f[0].childNodes[1].setAttribute("aria-expanded",!0))),i.state.opened=!0,r&&r.call(this,i,!0),f.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),u&&f.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(function(){this.open_node(i,r,u)}.bind(this),500):void this.load_node(i,function(n,t){return t?this.open_node(n,r,u):!!r&&r.call(this,n,!1)}):(r&&r.call(this,i,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;for(var r=t.parents,i=0,u=r.length;i<u;i+=1)i!==n.jstree.root&&this.open_node(r[i],!1,0);return n("#"+t.id.replace(n.jstree.idregex,"\\$&"),this.element)},close_node:function(i,r){var f,o,e,u;if(n.vakata.is_array(i)){for(f=0,o=(i=i.slice()).length;f<o;f++)this.close_node(i[f],r);return!0}return!(!(i=this.get_node(i))||i.id===n.jstree.root)&&!this.is_closed(i)&&(r=r===t?this.settings.core.animation:r,u=(e=this).get_node(i,!0),i.state.opened=!1,this.trigger("close_node",{node:i}),void(u.length?r?u.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="";u.children(".jstree-children").remove();e.element&&e.trigger("after_close",{node:i})}):(u[0].className=u[0].className.replace("jstree-open","jstree-closed"),u.children(".jstree-anchor").attr("aria-expanded",!1),u.children(".jstree-children").remove(),this.trigger("after_close",{node:i})):this.trigger("after_close",{node:i})))},toggle_node:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,r){if(t=t||n.jstree.root,!(t=this.get_node(t)))return!1;var u=t.id===n.jstree.root?this.get_container_ul():this.get_node(t,!0),f,e,o;if(!u.length){for(f=0,e=t.children_d.length;f<e;f++)this.is_closed(this._model.data[t.children_d[f]])&&(this._model.data[t.children_d[f]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||u;(u=(o=this).is_closed(t)?u.find(".jstree-closed").addBack():u.find(".jstree-closed")).each(function(){o.open_node(this,function(n,t){t&&this.is_parent(n)&&this.open_all(n,i,r)},i||0)});0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,i){if(t=t||n.jstree.root,!(t=this.get_node(t)))return!1;var r=t.id===n.jstree.root?this.get_container_ul():this.get_node(t,!0),e=this,u,f;for(r.length&&(r=this.is_open(t)?r.find(".jstree-open").addBack():r.find(".jstree-open"),n(r.get().reverse()).each(function(){e.close_node(this,i||0)})),u=0,f=t.children_d.length;u<f;u++)this._model.data[t.children_d[u]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(n){return(n=this.get_node(n))&&n.state&&n.state.disabled},enable_node:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.enable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.disabled=!1;this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1);this.trigger("enable_node",{node:t})},disable_node:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.disable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.disabled=!0;this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0);this.trigger("disable_node",{node:t})},is_hidden:function(n){return!0===(n=this.get_node(n)).state.hidden},hide_node:function(t,i){var r,u;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.hide_node(t[r],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,i){var r,u;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.show_node(t[r],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var i,r=this._model.data,u=[];for(i in r)r.hasOwnProperty(i)&&i!==n.jstree.root&&!r[i].state.hidden&&(r[i].state.hidden=!0,u.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:u}),u},show_all:function(t){var i,r=this._model.data,u=[];for(i in r)r.hasOwnProperty(i)&&i!==n.jstree.root&&r[i].state.hidden&&(r[i].state.hidden=!1,u.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:u}),u},activate_node:function(n,i){if(this.is_disabled(n))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(n)&&this.get_parent(n)===this._data.core.last_clicked.parent))if(i.shiftKey){for(var e=this.get_node(n).id,o=this._data.core.last_clicked.id,u=this.get_node(this._data.core.last_clicked.parent).children,f=!1,r=0,s=u.length;r<s;r+=1)u[r]===e&&(f=!f),u[r]===o&&(f=!f),this.is_disabled(u[r])||!f&&u[r]!==e&&u[r]!==o?i.ctrlKey||this.deselect_node(u[r],!0,i):this.is_hidden(u[r])||this.select_node(u[r],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(n),selected:this._data.core.selected,event:i})}else this.is_selected(n)?this.deselect_node(n,!1,i):(i.ctrlKey&&(this._data.core.last_clicked=this.get_node(n)),this.select_node(n,!1,!1,i));else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(n)?this.deselect_node(n,!1,i):(!this.settings.core.allow_reselect&&this.is_selected(n)&&1===this._data.core.selected.length||(this.deselect_all(!0),this.select_node(n,!1,!1,i)),this._data.core.last_clicked=this.get_node(n));this.trigger("activate_node",{node:this.get_node(n),event:i})},hover_node:function(n){if(!(n=this.get_node(n,!0))||!n.length||n.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t);n.children(".jstree-anchor").addClass("jstree-hovered");this.trigger("hover_node",{node:this.get_node(n)});setTimeout(function(){i.attr("aria-activedescendant",n[0].id)},0)},dehover_node:function(n){if(!(n=this.get_node(n,!0))||!n.length||!n.children(".jstree-hovered").length)return!1;n.children(".jstree-anchor").removeClass("jstree-hovered");this.trigger("dehover_node",{node:this.get_node(n)})},select_node:function(t,i,r,u){var f,e,o;if(n.vakata.is_array(t)){for(e=0,o=(t=t.slice()).length;e<o;e++)this.select_node(t[e],i,r,u);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;f=this.get_node(t,!0);t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),(f=r?f:this._open_to(t))&&f.length&&f.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:u}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:u}))},deselect_node:function(t,i,r){var u,e,f;if(n.vakata.is_array(t)){for(u=0,e=(t=t.slice()).length;u<e;u++)this.deselect_node(t[u],i,r);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;f=this.get_node(t,!0);t.state.selected&&(t.state.selected=!1,this._data.core.selected=n.vakata.array_remove_item(this._data.core.selected,t.id),f.length&&f.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))},select_all:function(t){var u=this._data.core.selected.concat([]),i,r;for(this._data.core.selected=this._model.data[n.jstree.root].children_d.concat(),i=0,r=this._data.core.selected.length;i<r;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0);this.trigger("select_all",{selected:this._data.core.selected});t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:u})},deselect_all:function(n){for(var i=this._data.core.selected.concat([]),t=0,r=this._data.core.selected.length;t<r;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[];this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1);this.trigger("deselect_all",{selected:this._data.core.selected,node:i});n||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.state.selected},get_selected:function(t){return t?n.map(this._data.core.selected,function(n){return this.get_node(n)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(t){for(var r=this.get_selected(!0),u={},f,o,i=0,e=r.length;i<e;i++)u[r[i].id]=r[i];for(i=0,e=r.length;i<e;i++)for(f=0,o=r[i].children_d.length;f<o;f++)u[r[i].children_d[f]]&&delete u[r[i].children_d[f]];for(i in r=[],u)u.hasOwnProperty(i)&&r.push(i);return t?n.map(r,function(n){return this.get_node(n)}.bind(this)):r},get_bottom_selected:function(t){for(var r=this.get_selected(!0),u=[],i=0,f=r.length;i<f;i++)r[i].children.length||u.push(r[i].id);return t?n.map(u,function(n){return this.get_node(n)}.bind(this)):u},get_state:function(){var i={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(var t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==n.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&i.core.loaded.push(t),this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,r){if(i){if(i.core&&i.core.selected&&i.core.initial_selection===t&&(i.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),i.core){var f,u;if(i.core.loaded)return this.settings.core.loaded_state&&n.vakata.is_array(i.core.loaded)&&i.core.loaded.length?this._load_nodes(i.core.loaded,function(){delete i.core.loaded;this.set_state(i,r)}):(delete i.core.loaded,this.set_state(i,r)),!1;if(i.core.open)return n.vakata.is_array(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(n){this.open_node(n,!1,0);delete i.core.open;this.set_state(i,r)}):(delete i.core.open,this.set_state(i,r)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,r),!1;if(i.core.selected)return f=this,i.core.initial_selection!==t&&i.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),n.each(i.core.selected,function(n,t){f.select_node(t,!1,!0)})),delete i.core.initial_selection,delete i.core.selected,this.set_state(i,r),!1;for(u in i)i.hasOwnProperty(u)&&"core"!==u&&-1===n.inArray(u,this.settings.plugins)&&delete i[u];if(n.isEmptyObject(i.core))return delete i.core,this.set_state(i,r),!1}return n.isEmptyObject(i)?(i=null,r&&r.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(t,i){this._data.core.state=!0===i?{}:this.get_state();i&&n.vakata.is_function(i)&&(this._data.core.state=i.call(this,this._data.core.state));this._cnt=0;this._model.data={};this._model.data[n.jstree.root]={id:n.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this._data.core.selected=[];this._data.core.last_clicked=null;this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'><\/i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'><\/i>"+this.get_string("Loading ...")+"<\/a><\/li><\/ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"));this.load_node(n.jstree.root,function(t,i){i&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(n.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")}));this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;var i=[],r=[],u=this._data.core.selected.concat([]);r.push(t.id);!0===t.state.opened&&i.push(t.id);this.get_node(t,!0).find(".jstree-open").each(function(){r.push(this.id);i.push(this.id)});this._load_nodes(r,function(n){this.open_node(i,!1,0);this.select_node(u);this.trigger("refresh_node",{node:t,nodes:n})}.bind(this),!1,!0)},set_id:function(t,i){if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;var r,f,u=this._model.data,e=t.id;for(i=i.toString(),u[t.parent].children[n.inArray(t.id,u[t.parent].children)]=i,r=0,f=t.parents.length;r<f;r++)u[t.parents[r]].children_d[n.inArray(t.id,u[t.parents[r]].children_d)]=i;for(r=0,f=t.children.length;r<f;r++)u[t.children[r]].parent=i;for(r=0,f=t.children_d.length;r<f;r++)u[t.children_d[r]].parents[n.inArray(t.id,u[t.children_d[r]].parents)]=i;return-1!==(r=n.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[r]=i),(r=this.get_node(t.id,!0))&&(r.attr("id",i),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete u[t.id],t.id=i,u[t.li_attr.id=i]=t,this.trigger("set_id",{node:t,"new":t.id,old:e}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.text},set_text:function(t,i){var r,u;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.set_text(t[r],i);return!0}return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0)},get_json:function(t,i,r){if(!(t=this.get_node(t||n.jstree.root)))return!1;i&&i.flat&&!r&&(r=[]);var u={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:n.extend(!0,{},t.li_attr),a_attr:n.extend(!0,{},t.a_attr),state:{},data:(!i||!i.no_data)&&n.extend(!0,n.vakata.is_array(t.data)?[]:{},t.data)},f,e;if(i&&i.flat?u.parent=t.parent:u.children=[],i&&i.no_state)delete u.state;else for(f in t.state)t.state.hasOwnProperty(f)&&(u.state[f]=t.state[f]);if(i&&i.no_li_attr&&delete u.li_attr,i&&i.no_a_attr&&delete u.a_attr,i&&i.no_id&&(delete u.id,u.li_attr&&u.li_attr.id&&delete u.li_attr.id,u.a_attr&&u.a_attr.id&&delete u.a_attr.id),i&&i.flat&&t.id!==n.jstree.root&&r.push(u),!i||!i.no_children)for(f=0,e=t.children.length;f<e;f++)i&&i.flat?this.get_json(t.children[f],i,r):u.children.push(this.get_json(t.children[f],i));return i&&i.flat?r:t.id===n.jstree.root?u.children:u},create_node:function(i,r,u,f,e){if(null===i&&(i=n.jstree.root),!(i=this.get_node(i)))return!1;if(!(u=u===t?"last":u).toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,r,u,f,!0)});var o,h,s,c;switch((r="string"==typeof(r=r||{text:this.get_string("New node")})?{text:r}:n.extend(!0,{},r)).text===t&&(r.text=this.get_string("New node")),u=i.id===n.jstree.root&&"after"===(u="before"===u?"first":u)?"last":u){case"before":o=this.get_node(i.parent);u=n.inArray(i.id,o.children);i=o;break;case"after":o=this.get_node(i.parent);u=n.inArray(i.id,o.children)+1;i=o;break;case"inside":case"first":u=0;break;case"last":u=i.children.length;break;default:u=u||0}if(u>i.children.length&&(u=i.children.length),r.id===t&&(r.id=!0),!this.check("create_node",r,i,u))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,i.id,i.parents.concat())))return!1;for(o=this.get_node(r),(h=[]).push(r),h=h.concat(o.children_d),this.trigger("model",{nodes:h,parent:i.id}),i.children_d=i.children_d.concat(h),s=0,c=i.parents.length;s<c;s++)this._model.data[i.parents[s]].children_d=this._model.data[i.parents[s]].children_d.concat(h);for(r=o,o=[],s=0,c=i.children.length;s<c;s++)o[u<=s?s+1:s]=i.children[s];return o[u]=r.id,i.children=o,this.redraw_node(i,!0),this.trigger("create_node",{node:this.get_node(r),parent:i.id,position:u}),f&&f.call(this,this.get_node(r)),r.id},rename_node:function(t,i){var r,u,f;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.rename_node(t[r],i);return!0}return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&(f=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:f}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var o,c,i,r,e,l,u,s,h,a,f;if(n.vakata.is_array(t)){for(o=0,c=(t=t.slice()).length;o<c;o++)this.delete_node(t[o]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;if(i=this.get_node(t.parent),f=n.inArray(t.id,i.children),h=!1,!this.check("delete_node",t,i,f))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==f&&(i.children=n.vakata.array_remove(i.children,f)),(r=t.children_d.concat([])).push(t.id),e=0,l=t.parents.length;e<l;e++)this._model.data[t.parents[e]].children_d=n.vakata.array_filter(this._model.data[t.parents[e]].children_d,function(t){return-1===n.inArray(t,r)});for(u=0,s=r.length;u<s;u++)if(this._model.data[r[u]].state.selected){h=!0;break}for(h&&(this._data.core.selected=n.vakata.array_filter(this._data.core.selected,function(t){return-1===n.inArray(t,r)})),this.trigger("delete_node",{node:t,parent:i.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),u=0,s=r.length;u<s;u++)delete this._model.data[r[u]];return-1!==n.inArray(this._data.core.focused,r)&&(this._data.core.focused=null,a=this.element[0].scrollTop,f=this.element[0].scrollLeft,i.id===n.jstree.root?this._model.data[n.jstree.root].children[0]&&this.get_node(this._model.data[n.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(i,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=a,this.element[0].scrollLeft=f),this.redraw_node(i,!0),!0},check:function(t,i,r,u,f){i=i&&i.id?i:this.get_node(i);r=r&&r.id?r:this.get_node(r);var e=t.match(/^(move_node|copy_node|create_node)$/i)?r:i,o=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(f&&f.is_multi||"move_node"!==t||n.inArray(i.id,r.children)!==u))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})});if(!(f&&f.is_multi||i.id!==r.id&&("move_node"!==t||n.inArray(i.id,r.children)!==u)&&-1===n.inArray(r.id,i.children_d)))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})})}return(e=e&&e.data?e.data:e)&&e.functions&&(!1===e.functions[t]||!0===e.functions[t])?(!1===e.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),e.functions[t]):!(!1===o||n.vakata.is_function(o)&&!1===o.call(this,t,i,r,u,f)||o&&!1===o[t])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})})},last_error:function(){return this._data.core.last_error},move_node:function(i,r,u,f,e,o,s){var k,d,y,g,c,l,nt,v,a,h,p,w,tt,b;if(r=this.get_node(r),u=u===t?0:u,!r)return!1;if(!u.toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(i,r,u,f,!0,!1,s)});if(n.vakata.is_array(i)){if(1!==i.length){for(k=0,d=i.length;k<d;k++)(a=this.move_node(i[k],r,u,f,e,!1,s))&&(r=a,u="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===n.jstree.root)return!1;if(y=(i.parent||n.jstree.root).toString(),c=u.toString().match(/^(before|after)$/)&&r.id!==n.jstree.root?this.get_node(r.parent):r,nt=!(l=s||(this._model.data[i.id]?this:n.jstree.reference(i.id)))||!l._id||this._id!==l._id,g=l&&l._id&&y&&l._model.data[y]&&l._model.data[y].children?n.inArray(i.id,l._model.data[y].children):-1,l&&l._id&&(i=l._model.data[i.id]),nt)return!!(a=this.copy_node(i,r,u,f,e,!1,s))&&(l&&l.delete_node(i),a);switch(u=r.id===n.jstree.root&&"after"===(u="before"===u?"first":u)?"last":u){case"before":u=n.inArray(r.id,c.children);break;case"after":u=n.inArray(r.id,c.children)+1;break;case"inside":case"first":u=0;break;case"last":u=c.children.length;break;default:u=u||0}if(u>c.children.length&&(u=c.children.length),!this.check("move_node",i,c,u,{core:!0,origin:s,is_multi:l&&l._id&&l._id!==this._id,is_foreign:!l||!l._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===c.id){for(v=c.children.concat(),-1!==(a=n.inArray(i.id,v))&&(v=n.vakata.array_remove(v,a),a<u&&u--),a=[],h=0,p=v.length;h<p;h++)a[u<=h?h+1:h]=v[h];a[u]=i.id;c.children=a;this._node_changed(c.id);this.redraw(c.id===n.jstree.root)}else{for((a=i.children_d.concat()).push(i.id),h=0,p=i.parents.length;h<p;h++){for(v=[],w=0,tt=(b=l._model.data[i.parents[h]].children_d).length;w<tt;w++)-1===n.inArray(b[w],a)&&v.push(b[w]);l._model.data[i.parents[h]].children_d=v}for(l._model.data[y].children=n.vakata.array_remove_item(l._model.data[y].children,i.id),h=0,p=c.parents.length;h<p;h++)this._model.data[c.parents[h]].children_d=this._model.data[c.parents[h]].children_d.concat(a);for(v=[],h=0,p=c.children.length;h<p;h++)v[u<=h?h+1:h]=c.children[h];for(v[u]=i.id,c.children=v,c.children_d.push(i.id),c.children_d=c.children_d.concat(i.children_d),i.parent=c.id,(a=c.parents.concat()).unshift(c.id),b=i.parents.length,a=(i.parents=a).concat(),h=0,p=i.children_d.length;h<p;h++)this._model.data[i.children_d[h]].parents=this._model.data[i.children_d[h]].parents.slice(0,-1*b),Array.prototype.push.apply(this._model.data[i.children_d[h]].parents,a);y!==n.jstree.root&&c.id!==n.jstree.root||(this._model.force_full_redraw=!0);this._model.force_full_redraw||(this._node_changed(y),this._node_changed(c.id));o||this.redraw()}return f&&f.call(this,i,c,u),this.trigger("move_node",{node:i,parent:c.id,position:u,old_parent:y,old_position:g,is_multi:l&&l._id&&l._id!==this._id,is_foreign:!l||!l._id,old_instance:l,new_instance:this}),i.id},copy_node:function(i,r,u,f,e,o,s){var w,k,v,a,l,b,y,p,h,c,d;if(r=this.get_node(r),u=u===t?0:u,!r)return!1;if(!u.toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(i,r,u,f,!0,!1,s)});if(n.vakata.is_array(i)){if(1!==i.length){for(w=0,k=i.length;w<k;w++)(a=this.copy_node(i[w],r,u,f,e,!0,s))&&(r=a,u="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===n.jstree.root)return!1;switch(p=(i.parent||n.jstree.root).toString(),h=u.toString().match(/^(before|after)$/)&&r.id!==n.jstree.root?this.get_node(r.parent):r,d=!(c=s||(this._model.data[i.id]?this:n.jstree.reference(i.id)))||!c._id||this._id!==c._id,c&&c._id&&(i=c._model.data[i.id]),u=r.id===n.jstree.root&&"after"===(u="before"===u?"first":u)?"last":u){case"before":u=n.inArray(r.id,h.children);break;case"after":u=n.inArray(r.id,h.children)+1;break;case"inside":case"first":u=0;break;case"last":u=h.children.length;break;default:u=u||0}if(u>h.children.length&&(u=h.children.length),!this.check("copy_node",i,h,u,{core:!0,origin:s,is_multi:c&&c._id&&c._id!==this._id,is_foreign:!c||!c._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(y=c?c.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i)||(!0===y.id&&delete y.id,!(y=this._parse_model_from_json(y,h.id,h.parents.concat()))))return!1;for(a=this.get_node(y),i&&i.state&&!1===i.state.loaded&&(a.state.loaded=!1),(v=[]).push(y),v=v.concat(a.children_d),this.trigger("model",{nodes:v,parent:h.id}),l=0,b=h.parents.length;l<b;l++)this._model.data[h.parents[l]].children_d=this._model.data[h.parents[l]].children_d.concat(v);for(v=[],l=0,b=h.children.length;l<b;l++)v[u<=l?l+1:l]=h.children[l];return v[u]=a.id,h.children=v,h.children_d.push(a.id),h.children_d=h.children_d.concat(a.children_d),h.id===n.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(h.id),o||this.redraw(h.id===n.jstree.root),f&&f.call(this,a,h,u),this.trigger("copy_node",{node:a,original:i,parent:h.id,position:u,old_parent:p,old_position:c&&c._id&&p&&c._model.data[p]&&c._model.data[p].children?n.inArray(i.id,c._model.data[p].children):-1,is_multi:c&&c._id&&c._id!==this._id,is_foreign:!c||!c._id,old_instance:c,new_instance:this}),a.id},cut:function(t){if(t=t||this._data.core.selected.concat(),!(t=n.vakata.is_array(t)?t:[t]).length)return!1;for(var r=[],i,u=0,f=t.length;u<f;u++)(i=this.get_node(t[u]))&&(i.id||0===i.id)&&i.id!==n.jstree.root&&r.push(i);if(!r.length)return!1;h=r;o="move_node";(l=this).trigger("cut",{node:t})},copy:function(i){if(i=i||this._data.core.selected.concat(),!(i=n.vakata.is_array(i)?i:[i]).length)return!1;for(var u=[],r,f=0,e=i.length;f<e;f++)(r=this.get_node(i[f]))&&r.id!==t&&r.id!==n.jstree.root&&u.push(r);if(!u.length)return!1;h=u;o="copy_node";(l=this).trigger("copy",{node:i})},get_buffer:function(){return{mode:o,node:h,inst:l}},can_paste:function(){return!1!==o&&!1!==h},paste:function(n,t){if(!((n=this.get_node(n))&&o&&o.match(/^(copy_node|move_node)$/)&&h))return!1;this[o](h,n,t,!1,!1,!1,l)&&this.trigger("paste",{parent:n.id,node:h,mode:o});l=o=h=!1},clear_buffer:function(){l=o=h=!1;this.trigger("clear_buffer")},edit:function(t,i,r){var a,u,h,f,c,o,l,s,v=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(s=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),s.text=i,l=this._data.core.rtl,a=this.element.width(),this._data.core.focused=s.id,u=t.children(".jstree-anchor").trigger("focus"),h=n("<span><\/span>"),f=i,c=n("<div><\/div>",{css:{position:"absolute",top:"-200px",left:l?"0px":"-1000px",visibility:"hidden"}}).appendTo(e.body),o=n("<input />",{value:f,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:function(i){i.stopImmediatePropagation();i.preventDefault();var e=h.children(".jstree-rename-input").val(),i=this.settings.core.force_text;""===e&&(e=f);c.remove();h.replaceWith(u);h.remove();f=i?f:n("<div><\/div>").append(n.parseHTML(f)).html();t=this.get_node(t);this.set_text(t,f);(i=!!this.rename_node(t,i?n("<div><\/div>").text(e).text():n("<div><\/div>").append(n.parseHTML(e)).html()))||this.set_text(t,f);this._data.core.focused=s.id;setTimeout(function(){var n=this.get_node(s.id,!0);n.length&&(this._data.core.focused=s.id,n.children(".jstree-anchor").trigger("focus"))}.bind(this),0);r&&r.call(this,s,i,v,e);o=null}.bind(this),keydown:function(n){var t=n.which;27===t&&(v=!0,this.value=f);27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||n.stopImmediatePropagation();27!==t&&13!==t||(n.preventDefault(),this.blur())},click:function(n){n.stopImmediatePropagation()},mousedown:function(n){n.stopImmediatePropagation()},keyup:function(){o.width(Math.min(c.text("pW"+this.value).width(),a))},keypress:function(n){if(13===n.which)return!1}}),l={fontFamily:u.css("fontFamily")||"",fontSize:u.css("fontSize")||"",fontWeight:u.css("fontWeight")||"",fontStyle:u.css("fontStyle")||"",fontStretch:u.css("fontStretch")||"",fontVariant:u.css("fontVariant")||"",letterSpacing:u.css("letterSpacing")||"",wordSpacing:u.css("wordSpacing")||""},h.attr("class",u.attr("class")).append(u.contents().clone()).append(o),u.replaceWith(h),c.css(l),o.css(l).width(Math.min(c.text("pW"+o[0].value).width(),a))[0].select(),void n(e).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){o&&t.target!==o&&n(o).trigger("blur")})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,i){if(!t)return!1;var r;(i=!0===i?(r=(r=this.settings.core.themes.dir)||n.jstree.path+"/themes")+"/"+t+"/style.css":i)&&-1===n.inArray(i,d)&&(n("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),d.push(i));this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name);this._data.core.themes.name=t;this.element.addClass("jstree-"+t);this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive");this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(n){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant);(this._data.core.themes.variant=n)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0;this.get_container_ul().addClass("jstree-striped");this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1;this.get_container_ul().removeClass("jstree-striped");this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0;this.get_container_ul().removeClass("jstree-no-dots");this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1;this.get_container_ul().addClass("jstree-no-dots");this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0;this.get_container_ul().removeClass("jstree-no-icons");this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1;this.get_container_ul().addClass("jstree-no-icons");this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0;this.get_container_ul().addClass("jstree-ellipsis");this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1;this.get_container_ul().removeClass("jstree-ellipsis");this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(i,r){var e,o,u,f;if(n.vakata.is_array(i)){for(e=0,o=(i=i.slice()).length;e<o;e++)this.set_icon(i[e],r);return!0}return!(!(i=this.get_node(i))||i.id===n.jstree.root)&&(f=i.icon,i.icon=!0===r||null===r||r===t||""===r||r,u=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(u.removeClass("jstree-themeicon-custom "+f).css("background","").removeAttr("rel"),this.hide_icon(i)):(!0===r||null===r||r===t||""===r?u.removeClass("jstree-themeicon-custom "+f).css("background","").removeAttr("rel"):-1===r.indexOf("/")&&-1===r.indexOf(".")?(u.removeClass(f).css("background",""),u.addClass(r+" jstree-themeicon-custom").attr("rel",r)):(u.removeClass(f).css("background",""),u.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r)),!1===f&&this.show_icon(i)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.icon},hide_icon:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.hide_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===n.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var i,u,r;if(n.vakata.is_array(t)){for(i=0,u=(t=t.slice()).length;i<u;i++)this.show_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===n.jstree.root)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},n.vakata={},n.vakata.attributes=function(t,i){t=n(t)[0];var r=i?{}:[];return t&&t.attributes&&n.each(t.attributes,function(t,u){-1===n.inArray(u.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==u.value&&""!==n.vakata.trim(u.value)&&(i?r[u.name]=u.value:r.push(u.name))}),r},n.vakata.array_unique=function(n){for(var r=[],u={},i=0,f=n.length;i<f;i++)u[n[i]]===t&&(r.push(n[i]),u[n[i]]=!0);return r},n.vakata.array_remove=function(n,t){return n.splice(t,1),n},n.vakata.array_remove_item=function(t,i){var i=n.inArray(i,t);return-1!==i?n.vakata.array_remove(t,i):t},n.vakata.array_filter=function(n,t,i,r,u){if(n.filter)return n.filter(t,i);for(u in r=[],n)~~u+""==u+""&&0<=u&&t.call(i,n[u],+u,n)&&r.push(n[u]);return r},n.vakata.trim=function(n){return String.prototype.trim?String.prototype.trim.call(n.toString()):n.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},n.vakata.is_function=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType},n.vakata.is_array=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},Function.prototype.bind||(Function.prototype.bind=function(){var n=this,t=arguments[0],i=Array.prototype.slice.call(arguments,1);if("function"!=typeof n)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var r=i.concat(Array.prototype.slice.call(arguments));return n.apply(t,r)}}),n.jstree.plugins.changed=function(n,t){var i=[];this.trigger=function(n,r){var u,f;if(r=r||{},"changed"===n.replace(".jstree","")){r.changed={selected:[],deselected:[]};for(var e={},u=0,f=i.length;u<f;u++)e[i[u]]=1;for(u=0,f=r.selected.length;u<f;u++)e[r.selected[u]]?e[r.selected[u]]=2:r.changed.selected.push(r.selected[u]);for(u=0,f=i.length;u<f;u++)1===e[i[u]]&&r.changed.deselected.push(i[u]);i=r.selected.slice()}t.trigger.call(this,n,r)};this.refresh=function(){return i=[],t.refresh.apply(this,arguments)}},w=e.createElement("I"),w.className="jstree-icon jstree-checkbox",w.setAttribute("role","presentation"),n.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},n.jstree.plugins.checkbox=function(i,r){this.bind=function(){r.bind.call(this);this._data.checkbox.uto=!1;this._data.checkbox.selected=[];this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined");this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible;this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked");this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this));-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto);this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this));this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(n,t){for(var u=this._model.data,e=u[t.parent],r=t.nodes,i=0,f=r.length;i<f;i++)u[r[i]].state.checked=u[r[i]].state.checked||u[r[i]].original&&u[r[i]].original.state&&u[r[i]].original.state.checked,u[r[i]].state.checked&&this._data.checkbox.selected.push(r[i])}.bind(this));-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(t,i){var e=this._model.data,u=e[i.parent],s=i.nodes,c=[],a,r,o,h,l,v,i=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==i.indexOf("down"))if(u.state[f?"selected":"checked"]){for(r=0,o=s.length;r<o;r++)e[s[r]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(s)}else for(r=0,o=s.length;r<o;r++)if(e[s[r]].state[f?"selected":"checked"]){for(h=0,l=e[s[r]].children_d.length;h<l;h++)e[e[s[r]].children_d[h]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(e[s[r]].children_d)}if(-1!==i.indexOf("up")){for(r=0,o=u.children_d.length;r<o;r++)e[u.children_d[r]].children.length||c.push(e[u.children_d[r]].parent);for(h=0,l=(c=n.vakata.array_unique(c)).length;h<l;h++)for(u=e[c[h]];u&&u.id!==n.jstree.root;){for(r=a=0,o=u.children.length;r<o;r++)a+=e[u.children[r]].state[f?"selected":"checked"];if(a!==o)break;u.state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected.push(u.id);(v=this.get_node(u,!0))&&v.length&&v.children(".jstree-anchor").attr("aria-selected",!0).addClass(f?"jstree-clicked":"jstree-checked");u=this.get_node(u.parent)}}this._data[f?"core":"checkbox"].selected=n.vakata.array_unique(this._data[f?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(t,i){for(var p=this,h=i.node,v=this._model.data,u=this.get_node(h.parent),l,a,i=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,e={},s=this._data[o?"core":"checkbox"].selected,r=0,f=s.length;r<f;r++)e[s[r]]=!0;if(-1!==i.indexOf("down"))for(var y=this._cascade_new_checked_state(h.id,!0),c=h.children_d.concat(h.id),r=0,f=c.length;r<f;r++)-1<y.indexOf(c[r])?e[c[r]]=!0:delete e[c[r]];if(-1!==i.indexOf("up"))while(u&&u.id!==n.jstree.root){for(r=l=0,f=u.children.length;r<f;r++)l+=v[u.children[r]].state[o?"selected":"checked"];if(l!==f)break;u.state[o?"selected":"checked"]=!0;e[u.id]=!0;(a=this.get_node(u,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!0).addClass(o?"jstree-clicked":"jstree-checked");u=this.get_node(u.parent)}for(r in s=[],e)e.hasOwnProperty(r)&&s.push(r);this._data[o?"core":"checkbox"].selected=s}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(){for(var r=this.get_node(n.jstree.root),u=this._model.data,t,i=0,f=r.children_d.length;i<f;i++)(t=u[r.children_d[i]])&&t.original&&t.original.state&&t.original.state.undetermined&&(t.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(t,i){var l=this,r=i.node,a=this.get_node(r,!0),f,o,u,s=this.settings.checkbox.cascade,e=this.settings.checkbox.tie_selection,i=this._data[e?"core":"checkbox"].selected,c=r.children_d.concat(r.id),h;if(-1!==s.indexOf("down")&&(h=this._cascade_new_checked_state(r.id,!1),i=n.vakata.array_filter(i,function(n){return-1===c.indexOf(n)||-1<h.indexOf(n)})),-1!==s.indexOf("up")&&-1===i.indexOf(r.id)){for(f=0,o=r.parents.length;f<o;f++)(u=this._model.data[r.parents[f]]).state[e?"selected":"checked"]=!1,u&&u.original&&u.original.state&&u.original.state.undetermined&&(u.original.state.undetermined=!1),(u=this.get_node(r.parents[f],!0))&&u.length&&u.children(".jstree-anchor").attr("aria-selected",!1).removeClass(e?"jstree-clicked":"jstree-checked");i=n.vakata.array_filter(i,function(n){return-1===r.parents.indexOf(n)})}this._data[e?"core":"checkbox"].selected=i}.bind(this));-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(t,i){for(var r=this.get_node(i.parent),h=this._model.data,f,e,o,s,u=this.settings.checkbox.tie_selection;r&&r.id!==n.jstree.root&&!r.state[u?"selected":"checked"];){for(f=o=0,e=r.children.length;f<e;f++)o+=h[r.children[f]].state[u?"selected":"checked"];if(!(0<e&&o===e))break;r.state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected.push(r.id);(s=this.get_node(r,!0))&&s.length&&s.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked");r=this.get_node(r.parent)}}.bind(this)).on("move_node.jstree",function(t,i){var c=i.is_multi,l=i.old_parent,i=this.get_node(i.parent),h=this._model.data,r,s,e,o,f,u=this.settings.checkbox.tie_selection;if(!c)for(r=this.get_node(l);r&&r.id!==n.jstree.root&&!r.state[u?"selected":"checked"];){for(e=s=0,o=r.children.length;e<o;e++)s+=h[r.children[e]].state[u?"selected":"checked"];if(!(0<o&&s===o))break;r.state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected.push(r.id);(f=this.get_node(r,!0))&&f.length&&f.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked");r=this.get_node(r.parent)}for(r=i;r&&r.id!==n.jstree.root;){for(e=s=0,o=r.children.length;e<o;e++)s+=h[r.children[e]].state[u?"selected":"checked"];if(s===o)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(f=this.get_node(r,!0))&&f.length&&f.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1;this._data[u?"core":"checkbox"].selected=n.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id);(f=this.get_node(r,!0))&&f.length&&f.children(".jstree-anchor").attr("aria-selected",!1).removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}}.bind(this))};this.get_undetermined=function(i){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];for(var r,h,f={},e=this._model.data,l=this.settings.checkbox.tie_selection,s=this._data[l?"core":"checkbox"].selected,o=[],v=this,a=[],u=0,c=s.length;u<c;u++)if(e[s[u]]&&e[s[u]].parents)for(r=0,h=e[s[u]].parents.length;r<h;r++){if(f[e[s[u]].parents[r]]!==t)break;e[s[u]].parents[r]!==n.jstree.root&&(f[e[s[u]].parents[r]]=!0,o.push(e[s[u]].parents[r]))}for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var i=v.get_node(this),s;if(i)if(i.state.loaded){for(u=0,c=i.children_d.length;u<c;u++)if(!(s=e[i.children_d[u]]).state.loaded&&s.original&&s.original.state&&s.original.state.undetermined&&!0===s.original.state.undetermined)for(f[s.id]===t&&s.id!==n.jstree.root&&(f[s.id]=!0,o.push(s.id)),r=0,h=s.parents.length;r<h;r++)f[s.parents[r]]===t&&s.parents[r]!==n.jstree.root&&(f[s.parents[r]]=!0,o.push(s.parents[r]))}else if(i.original&&i.original.state&&i.original.state.undetermined&&!0===i.original.state.undetermined)for(f[i.id]===t&&i.id!==n.jstree.root&&(f[i.id]=!0,o.push(i.id)),r=0,h=i.parents.length;r<h;r++)f[i.parents[r]]===t&&i.parents[r]!==n.jstree.root&&(f[i.parents[r]]=!0,o.push(i.parents[r]))}),u=0,c=o.length;u<c;u++)e[o[u]].state[l?"selected":"checked"]||a.push(i?e[o[u]]:o[u]);return a};this._undetermined=function(){if(null!==this.element){var i=this.get_undetermined(!1),n,r,t;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),n=0,r=i.length;n<r;n++)(t=this.get_node(i[n],!0))&&t.length&&t.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}};this.redraw_node=function(n,t,i){if(n=r.redraw_node.apply(this,arguments)){for(var f=null,e=null,u=0,o=n.childNodes.length;u<o;u++)if(n.childNodes[u]&&n.childNodes[u].className&&-1!==n.childNodes[u].className.indexOf("jstree-anchor")){f=n.childNodes[u];break}f&&(!this.settings.checkbox.tie_selection&&this._model.data[n.id].state.checked&&(f.className+=" jstree-checked"),e=w.cloneNode(!1),this._model.data[n.id].state.checkbox_disabled&&(e.className+=" jstree-checkbox-disabled"),f.insertBefore(e,f.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),n};this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0;this.get_container_ul().removeClass("jstree-no-checkboxes")};this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1;this.get_container_ul().addClass("jstree-no-checkboxes")};this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()};this.is_undetermined=function(t){t=this.get_node(t);var r=this.settings.checkbox.cascade,i,u,f=this.settings.checkbox.tie_selection,o=this._data[f?"core":"checkbox"].selected,e=this._model.data;if(!t||!0===t.state[f?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(i=0,u=t.children_d.length;i<u;i++)if(-1!==n.inArray(t.children_d[i],o)||!e[t.children_d[i]].state.loaded&&e[t.children_d[i]].original.state.undetermined)return!0;return!1};this.disable_checkbox=function(t){var i,u,r;if(n.vakata.is_array(t)){for(i=0,u=(t=t.slice()).length;i<u;i++)this.disable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;r=this.get_node(t,!0);t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))};this.enable_checkbox=function(t){var i,u,r;if(n.vakata.is_array(t)){for(i=0,u=(t=t.slice()).length;i<u;i++)this.enable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;r=this.get_node(t,!0);t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))};this.activate_node=function(t,i){return!n(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||n(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!n(i.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,i):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))};this.delete_node=function(t){if(this.settings.checkbox.tie_selection||n.vakata.is_array(t))return r.delete_node.call(this,t);var i,u,f,e=!1;if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;for((i=t.children_d.concat([])).push(t.id),u=0,f=i.length;u<f;u++)if(this._model.data[i[u]].state.checked){e=!0;break}return e&&(this._data.checkbox.selected=n.vakata.array_filter(this._data.checkbox.selected,function(t){return-1===n.inArray(t,i)})),r.delete_node.call(this,t)};this._cascade_new_checked_state=function(n,t){var c=this,r=this.settings.checkbox.tie_selection,i=this._model.data[n],u=[],e=[],o,l,f,h,n;if(!this.settings.checkbox.cascade_to_disabled&&i.state.disabled||!this.settings.checkbox.cascade_to_hidden&&i.state.hidden)f=this.get_checked_descendants(n),i.state[r?"selected":"checked"]&&f.push(i.id),u=u.concat(f);else{if(i.children)for(o=0,l=i.children.length;o<l;o++){var s=i.children[o],f=c._cascade_new_checked_state(s,t),u=u.concat(f);-1<f.indexOf(s)&&e.push(s)}h=c.get_node(i,!0);n=0<e.length&&e.length<i.children.length;i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=n);!n&&t&&e.length===i.children.length?(i.state[r?"selected":"checked"]=t,u.push(i.id),h.children(".jstree-anchor").attr("aria-selected",!0).addClass(r?"jstree-clicked":"jstree-checked")):(i.state[r?"selected":"checked"]=!1,h.children(".jstree-anchor").attr("aria-selected",!1).removeClass(r?"jstree-clicked":"jstree-checked"))}return u};this.get_checked_descendants=function(t){var i=this,r=i.settings.checkbox.tie_selection,t=i._model.data[t];return n.vakata.array_filter(t.children_d,function(n){return i._model.data[n].state[r?"selected":"checked"]})};this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var r,u,f;if(n.vakata.is_array(t)){for(u=0,f=(t=t.slice()).length;u<f;u++)this.check_node(t[u],i);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;r=this.get_node(t,!0);t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i}))};this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var r,f,u;if(n.vakata.is_array(t)){for(r=0,f=(t=t.slice()).length;r<f;r++)this.uncheck_node(t[r],i);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;u=this.get_node(t,!0);t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=n.vakata.array_remove_item(this._data.checkbox.selected,t.id),u.length&&u.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i}))};this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var r=this._data.checkbox.selected.concat([]),t,i;for(this._data.checkbox.selected=this._model.data[n.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0);this.trigger("check_all",{selected:this._data.checkbox.selected})};this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var t=this._data.checkbox.selected.concat([]),n=0,i=this._data.checkbox.selected.length;n<i;n++)this._model.data[this._data.checkbox.selected[n]]&&(this._model.data[this._data.checkbox.selected[n]].state.checked=!1);this._data.checkbox.selected=[];this.element.find(".jstree-checked").removeClass("jstree-checked");this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:t})};this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.state.checked};this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?n.map(this._data.checkbox.selected,function(n){return this.get_node(n)}.bind(this)):this._data.checkbox.selected.slice()};this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);for(var r=this.get_checked(!0),u={},f,o,i=0,e=r.length;i<e;i++)u[r[i].id]=r[i];for(i=0,e=r.length;i<e;i++)for(f=0,o=r[i].children_d.length;f<o;f++)u[r[i].children_d[f]]&&delete u[r[i].children_d[f]];for(i in r=[],u)u.hasOwnProperty(i)&&r.push(i);return t?n.map(r,function(n){return this.get_node(n)}.bind(this)):r};this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);for(var r=this.get_checked(!0),u=[],i=0,f=r.length;i<f;i++)r[i].children.length||u.push(r[i].id);return t?n.map(u,function(n){return this.get_node(n)}.bind(this)):u};this.load_node=function(t){var i,f,u;if(!n.vakata.is_array(t)&&!this.settings.checkbox.tie_selection&&(u=this.get_node(t))&&u.state.loaded)for(i=0,f=u.children_d.length;i<f;i++)this._model.data[u.children_d[i]].state.checked&&(this._data.checkbox.selected=n.vakata.array_remove_item(this._data.checkbox.selected,u.children_d[i]));return r.load_node.apply(this,arguments)};this.get_state=function(){var n=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(n.checkbox=this._data.checkbox.selected.slice()),n};this.set_state=function(t,i){var u=r.set_state.apply(this,arguments),f;return u&&t.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),f=this,n.each(t.checkbox,function(n,t){f.check_node(t)})),delete t.checkbox,this.set_state(t,i),!1):u};this.refresh=function(){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},n.jstree.defaults.conditionalselect=function(){return!0},n.jstree.plugins.conditionalselect=function(n,t){this.activate_node=function(n,i){if(this.settings.conditionalselect.call(this,this.get_node(n),i))return t.activate_node.call(this,n,i)}},n.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.create_node(t,{},"last",function(n){try{i.edit(n)}catch(t){setTimeout(function(){i.edit(n)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.edit(t)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.is_selected(t)?i.delete_node(i.get_selected()):i.delete_node(t)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.is_selected(t)?i.cut(i.get_top_selected()):i.cut(t)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.is_selected(t)?i.copy(i.get_top_selected()):i.copy(t)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!n.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.paste(t)}}}}}}},n.jstree.plugins.contextmenu=function(i,r){this.bind=function(){r.bind.call(this);var i=0,t=null,u,f;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(n,r){"input"!==n.target.tagName.toLowerCase()&&(n.preventDefault(),i=n.ctrlKey?+new Date:0,(r||t)&&(i=+new Date+1e4),t&&clearTimeout(t),this.is_loading(n.currentTarget)||this.show_contextmenu(n.currentTarget,n.pageX,n.pageY,n))}.bind(this)).on("click.jstree",".jstree-anchor",function(){this._data.contextmenu.visible&&(!i||250<+new Date-i)&&n.vakata.context.hide();i=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(u=i.originalEvent.changedTouches[0].clientX,f=i.originalEvent.changedTouches[0].clientY,t=setTimeout(function(){n(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(i){t&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(10<Math.abs(u-i.originalEvent.changedTouches[0].clientX)||10<Math.abs(f-i.originalEvent.changedTouches[0].clientY))&&(clearTimeout(t),n.vakata.context.hide())}).on("touchend.vakata.jstree",function(){t&&clearTimeout(t)});n(e).on("context_hide.vakata.jstree",function(t,i){this._data.contextmenu.visible=!1;n(i.reference).removeClass("jstree-context")}.bind(this))};this.teardown=function(){this._data.contextmenu.visible&&n.vakata.context.hide();n(e).off("context_hide.vakata.jstree");r.teardown.call(this)};this.show_contextmenu=function(i,r,u,f){if(!(i=this.get_node(i))||i.id===n.jstree.root)return!1;var s=this.settings.contextmenu,h=this.get_node(i,!0).children(".jstree-anchor"),o=!1,e=!1;(s.show_at_node||r===t||u===t)&&(o=h.offset(),r=o.left,u=o.top+this._data.core.li_height);this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,f);e=s.items;n.vakata.is_function(e)&&(e=e.call(this,i,function(n){this._show_contextmenu(i,r,u,n)}.bind(this)));n.isPlainObject(e)&&this._show_contextmenu(i,r,u,e)};this._show_contextmenu=function(t,i,r,u){var f=this.get_node(t,!0).children(".jstree-anchor");n(e).one("context_show.vakata.jstree",function(t,i){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";n(i.element).addClass(r);f.addClass("jstree-context")}.bind(this));this._data.contextmenu.visible=!0;n.vakata.context.show(f,{x:i,y:r},u);this.trigger("show_contextmenu",{node:t,x:i,y:r})}},r={element:y=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(f=n).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(n){f(e).triggerHandler("context_"+n+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(n){return!(!(n=r.items[n])||n._disabled&&(!f.vakata.is_function(n._disabled)||n._disabled({item:n,reference:r.reference,element:r.element}))||!n.action)&&n.action.call(null,{item:n,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_parse:function(n,t){if(!n)return!1;t||(r.html="",r.items=[]);var i="",u=!1,e;return t&&(i+="<ul>"),f.each(n,function(n,t){return!t||(r.items.push(t),!u&&t.separator_before&&(i+="<li class='vakata-context-separator'><a href='#' "+(f.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;<\/a><\/li>"),u=!1,i+="<li class='"+(t._class||"")+(!0===t._disabled||f.vakata.is_function(t._disabled)&&t._disabled({item:t,reference:r.reference,element:r.element})?" vakata-contextmenu-disabled ":"")+"' "+(t.shortcut?" data-shortcut='"+t.shortcut+"' ":"")+">",i+="<a href='#' rel='"+(r.items.length-1)+"' "+(t.title?"title='"+t.title+"'":"")+">",f.vakata.context.settings.icons&&(i+="<i ",t.icon&&(i+=-1!==t.icon.indexOf("/")||-1!==t.icon.indexOf(".")?" style='background:url(\""+t.icon+"\") center center no-repeat' ":" class='"+t.icon+"' "),i+="><\/i><span class='vakata-contextmenu-sep'>&#160;<\/span>"),i+=(f.vakata.is_function(t.label)?t.label({item:n,reference:r.reference,element:r.element}):t.label)+(t.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+t.shortcut+'">'+(t.shortcut_label||"")+"<\/span>":"")+"<\/a>",t.submenu&&(e=f.vakata.context._parse(t.submenu,!0))&&(i+=e),i+="<\/li>",void(t.separator_after&&(i+="<li class='vakata-context-separator'><a href='#' "+(f.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;<\/a><\/li>",u=!0)))}),i=i.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),t&&(i+="<\/ul>"),t||(r.html=i,f.vakata.context._trigger("parse")),10<i.length&&i},_show_submenu:function(n){var t,e,r,o,i,s,u,h;(n=f(n)).length&&n.children("ul").length&&(t=n.children("ul"),r=(e=n.offset().left)+n.outerWidth(),o=n.offset().top,i=t.width(),s=t.height(),u=f(window).width()+f(window).scrollLeft(),h=f(window).height()+f(window).scrollTop(),y?n[r-(i+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[u<r+i&&u-r<e?"addClass":"removeClass"]("vakata-context-right"),h<o+s+10&&t.css("bottom","-1px"),n.hasClass("vakata-context-right")?e<i&&t.css("margin-right",e-i):u-r<i&&t.css("margin-left",u-r-i),t.show())},show:function(n,t,i){var h,o,u,s,c,l,a,i;switch(r.element&&r.element.length&&r.element.width(""),!0){case!t&&!n:return!1;case!!t&&!!n:r.reference=n;r.position_x=t.x;r.position_y=t.y;break;case!t&&!!n:h=(r.reference=n).offset();r.position_x=h.left+n.outerHeight();r.position_y=h.top;break;case!!t&&!n:r.position_x=t.x;r.position_y=t.y}n&&!i&&f(n).data("vakata_contextmenu")&&(i=f(n).data("vakata_contextmenu"));f.vakata.context._parse(i)&&r.element.html(r.html);r.items.length&&(r.element.appendTo(e.body),o=r.element,u=r.position_x,s=r.position_y,c=o.width(),l=o.height(),a=f(window).width()+f(window).scrollLeft(),i=f(window).height()+f(window).scrollTop(),y&&(u-=o.outerWidth()-f(n).outerWidth())<f(window).scrollLeft()+20&&(u=f(window).scrollLeft()+20),r.element.css({left:u=a<u+c+20?a-(c+20):u,top:s=i<s+l+20?i-(l+20):s}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),r.is_visible=!0,f.vakata.context._trigger("show"))},hide:function(){r.is_visible&&(r.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),r.is_visible=!1,f.vakata.context._trigger("hide"))}},f(function(){y="rtl"===f(e.body).css("direction");var n=!1;r.element=f("<ul class='vakata-context'><\/ul>");r.element.on("mouseenter","li",function(t){t.stopImmediatePropagation();f.contains(this,t.relatedTarget)||(n&&clearTimeout(n),r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),f(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),f.vakata.context._show_submenu(this))}).on("mouseleave","li",function(n){f.contains(this,n.relatedTarget)||f(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(){var t;f(this).find(".vakata-context-hover").removeClass("vakata-context-hover");f.vakata.context.settings.hide_onmouseleave&&(n=setTimeout((t=this,function(){f.vakata.context.hide()}),f.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(n){n.preventDefault();f(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===f.vakata.context._execute(f(this).attr("rel"))||f.vakata.context.hide()}).on("keydown","a",function(n){var t=null;switch(n.which){case 13:case 32:n.type="click";n.preventDefault();f(n.currentTarget).trigger(n);break;case 37:r.is_visible&&(r.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 38:r.is_visible&&((t=(t=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length?t:r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()).addClass("vakata-context-hover").children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 39:r.is_visible&&(r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 40:r.is_visible&&((t=(t=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length?t:r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()).addClass("vakata-context-hover").children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 27:f.vakata.context.hide();n.preventDefault()}}).on("keydown",function(n){n.preventDefault();var n=r.element.find(".vakata-contextmenu-shortcut-"+n.which).parent();n.parent().not(".vakata-context-disabled")&&n.trigger("click")});f(e).on("mousedown.vakata.jstree",function(n){r.is_visible&&r.element[0]!==n.target&&!f.contains(r.element[0],n.target)&&f.vakata.context.hide()}).on("context_show.vakata.jstree",function(){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent");y&&r.element.addClass("vakata-context-rtl").css("direction","rtl");r.element.find("ul").hide().end()})}),n.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1},n.jstree.plugins.dnd=function(t,i){this.init=function(n,t){i.init.call(this,n,t);this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in e.createElement("span")};this.bind=function(){i.bind.call(this);this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(t){if(this.settings.dnd.large_drag_target&&n(t.target).closest(".jstree-node")[0]!==t.currentTarget||"touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),r=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,u=1<r?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(u=n.vakata.html.escape(u)),i&&(i.id||0===i.id)&&i.id!==n.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||n.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<r?this.get_top_selected(!0):[i],t))){if(c={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:1<r?this.get_top_selected():[i.id]},s=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),n.vakata.dnd.start(t,c,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"><\/i>'+u+'<ins class="jstree-copy">+<\/ins><\/div>');n.vakata.dnd._trigger("start",t,{helper:n(),element:s,data:c})}}.bind(this));this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),n.vakata.dnd._trigger("move",t,{helper:n(),element:s,data:c}),!1}).on("drop.jstree",function(t){return t.preventDefault(),n.vakata.dnd._trigger("stop",t,{helper:n(),element:s,data:c}),!1}.bind(this))};this.redraw_node=function(n){if((n=i.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)n.setAttribute("draggable",!0);else{for(var r=null,t=0,u=n.childNodes.length;t<u;t++)if(n.childNodes[t]&&n.childNodes[t].className&&-1!==n.childNodes[t].className.indexOf("jstree-anchor")){r=n.childNodes[t];break}r&&r.setAttribute("draggable",!0)}return n}},n(function(){var i=!1,o=!1,r=!1,u=!1,f=n('<div id="jstree-marker">&#160;<\/div>').hide();n(e).on("dragover.vakata.jstree",function(t){s&&n.vakata.dnd._trigger("move",t,{helper:n(),element:s,data:c})}).on("drop.vakata.jstree",function(t){s&&(n.vakata.dnd._trigger("stop",t,{helper:n(),element:s,data:c}),c=s=null)}).on("dnd_start.vakata.jstree",function(n,t){r=i=!1;t&&t.data&&t.data.jstree&&f.appendTo(e.body)}).on("dnd_move.vakata.jstree",function(e,s){var ot=s.event.target!==r.target;if(u&&(s.event&&"dragover"===s.event.type&&!ot||clearTimeout(u)),s&&s.data&&s.data.jstree&&(!s.event.target.id||"jstree-marker"!==s.event.target.id)){r=s.event;var h=n.jstree.reference(s.event.target),c=!1,a=!1,d=!1,g,nt,p,v,w,tt,y,l,it,et,rt,st,b,k,ut,ht,ft;if(h&&h._data&&h._data.dnd)if(f.attr("class","jstree-"+h.get_theme()+(h.settings.core.themes.responsive?" jstree-dnd-responsive":"")),ut=s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey)),s.helper.children().attr("class","jstree-"+h.get_theme()+" jstree-"+h.get_theme()+"-"+h.get_theme_variant()+" "+(h.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[ut?"show":"hide"](),(s.event.target===h.element[0]||s.event.target===h.get_container_ul()[0])&&(0===h.get_container_ul().children().length||h.settings.dnd.blank_space_drop)){for(y=!0,l=0,it=s.data.nodes.length;l<it;l++)if(!(y=y&&h.check(s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node",s.data.origin&&s.data.origin!==h?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l],n.jstree.root,"last",{dnd:!0,ref:h.get_node(n.jstree.root),pos:"i",origin:s.data.origin,is_multi:s.data.origin&&s.data.origin!==h,is_foreign:!s.data.origin})))break;if(y)return i={ins:h,par:n.jstree.root,pos:"last"},f.hide(),s.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(s.event.originalEvent&&s.event.originalEvent.dataTransfer&&(s.event.originalEvent.dataTransfer.dropEffect=ut?"copy":"move"))}else if((c=h.settings.dnd.large_drop_target?n(s.event.target).closest(".jstree-node").children(".jstree-anchor"):n(s.event.target).closest(".jstree-anchor"))&&c.length&&c.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(a=c.offset(),d=(s.event.pageY!==t?s.event:s.event.originalEvent).pageY-a.top,p=c.outerHeight(),tt=d<p/3?["b","i","a"]:p-p/3<d?["a","i","b"]:p/2<d?["i","a","b"]:["i","b","a"],n.each(tt,function(t,r){switch(r){case"b":g=a.left-6;nt=a.top;v=h.get_parent(c);w=c.parent().index();ft="jstree-below";break;case"i":b=h.settings.dnd.inside_pos;k=h.get_node(c.parent());g=a.left-2;nt=a.top+p/2+1;v=k.id;w="first"===b?0:"last"===b?k.children.length:Math.min(b,k.children.length);ft="jstree-inside";break;case"a":g=a.left-6;nt=a.top+p;v=h.get_parent(c);w=c.parent().index()+1;ft="jstree-above"}for(y=!0,l=0,it=s.data.nodes.length;l<it;l++)if(et=s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node",rt=w,"move_node"==et&&"a"===r&&s.data.origin&&s.data.origin===h&&v===h.get_parent(s.data.nodes[l])&&(st=h.get_node(v),rt>n.inArray(s.data.nodes[l],st.children)&&--rt),!(y=y&&(h&&h.settings&&h.settings.dnd&&!1===h.settings.dnd.check_while_dragging||h.check(et,s.data.origin&&s.data.origin!==h?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l],v,rt,{dnd:!0,ref:h.get_node(c.parent()),pos:r,origin:s.data.origin,is_multi:s.data.origin&&s.data.origin!==h,is_foreign:!s.data.origin})))){h&&h.last_error&&(o=h.last_error());break}var e,d;if("i"===r&&c.parent().is(".jstree-closed")&&h.settings.dnd.open_timeout&&(s.event&&"dragover"===s.event.type&&!ot||(u&&clearTimeout(u),u=setTimeout((d=c,function(){e.open_node(d)}),(e=h).settings.dnd.open_timeout))),y)return(ht=h.get_node(v,!0)).hasClass(".jstree-dnd-parent")||(n(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),ht.addClass("jstree-dnd-parent")),i={ins:h,par:v,pos:"i"!==r||"last"!==b||0!==w||h.is_loaded(k)?w:"last"},f.css({left:g+"px",top:nt+"px"}).show(),f.removeClass("jstree-above jstree-inside jstree-below").addClass(ft),s.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),s.event.originalEvent&&s.event.originalEvent.dataTransfer&&(s.event.originalEvent.dataTransfer.dropEffect=ut?"copy":"move"),o={},!(tt=!0)}),!0===tt))return;n(".jstree-dnd-parent").removeClass("jstree-dnd-parent");i=!1;s.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er");s.event.originalEvent&&s.event.originalEvent.dataTransfer;f.hide()}}).on("dnd_scroll.vakata.jstree",function(n,t){t&&t.data&&t.data.jstree&&(f.hide(),r=i=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,e){if(n(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),u&&clearTimeout(u),e&&e.data&&e.data.jstree){f.hide().detach();var s,h,c=[];if(i){for(s=0,h=e.data.nodes.length;s<h;s++)c[s]=e.data.origin?e.data.origin.get_node(e.data.nodes[s]):e.data.nodes[s];i.ins[e.data.origin&&(e.data.origin.settings.dnd.always_copy||e.data.origin.settings.dnd.copy&&(e.event.metaKey||e.event.ctrlKey))?"copy_node":"move_node"](c,i.par,i.pos,!1,!1,!1,e.data.origin)}else(s=n(e.event.target).closest(".jstree")).length&&o&&o.error&&"check"===o.error&&(s=s.jstree(!0))&&s.settings.core.error.call(this,o);i=r=!1}}).on("keyup.jstree keydown.jstree",function(t,e){(e=n.vakata.dnd._get())&&e.data&&e.data.jstree&&("keyup"===t.type&&27===t.which?(u&&clearTimeout(u),u=r=o=i=!1,f.hide().detach(),n.vakata.dnd._clean()):(e.helper.find(".jstree-copy").first()[e.data.origin&&(e.data.origin.settings.dnd.always_copy||e.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,n.vakata.dnd._trigger("move",r))))})}),i={element:!((u=n).vakata.html={div:u("<div><\/div>"),escape:function(n){return u.vakata.html.div.text(n).html()},strip:function(n){return u.vakata.html.div.empty().append(u.parseHTML(n)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},u.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,i,r){(r=r===t?u.vakata.dnd._get():r).event=i;u(e).triggerHandler("dnd_"+n+".vakata",r)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove();i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1);i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};s=null;u(e).off("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag);u(e).off("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop)},_scroll:function(n){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(u.vakata.dnd._scroll,100),!1;if(!0===n)return!1;var t=i.scroll_e.scrollTop(),n=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(t+i.scroll_t*u.vakata.dnd.settings.scroll_speed);i.scroll_e.scrollLeft(n+i.scroll_l*u.vakata.dnd.settings.scroll_speed);t===i.scroll_e.scrollTop()&&n===i.scroll_e.scrollLeft()||u.vakata.dnd._trigger("scroll",i.scroll_e)},start:function(n,t,r){"touchstart"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=e.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset));i.is_drag&&u.vakata.dnd.stop({});try{n.currentTarget.unselectable="on";n.currentTarget.onselectstart=function(){return!1};n.currentTarget.style&&(n.currentTarget.style.touchAction="none",n.currentTarget.style.msTouchAction="none",n.currentTarget.style.MozUserSelect="none")}catch(n){}return i.init_x=n.pageX,i.init_y=n.pageY,i.data=t,i.is_down=!0,i.element=n.currentTarget,i.target=n.target,i.is_touch="touchstart"===n.type,!1!==r&&(i.helper=u("<div id='vakata-dnd'><\/div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),u(e).on("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(e).on("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop),!1},drag:function(n){if("touchmove"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=e.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(n.pageX-i.init_x)>(i.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold)||Math.abs(n.pageY-i.init_y)>(i.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold)))return;i.helper&&(i.helper.appendTo(e.body),i.helper_w=i.helper.outerWidth());i.is_drag=!0;u(i.target).one("click.vakata",!1);u.vakata.dnd._trigger("start",n)}var t=!1,l=!1,r=!1,o=!1,f=!1,s=!1,a=!1,v=!1,h=!1,c=!1;return i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,u(u(n.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(u(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var r=u(this),t=r.offset();if(this.scrollHeight>this.offsetHeight&&(t.top+r.height()-n.pageY<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),n.pageY-t.top<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(t.left+r.width()-n.pageX<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),n.pageX-t.left<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l)return i.scroll_e=u(this),!1}),i.scroll_e||(t=u(e),l=u(window),r=t.height(),o=l.height(),f=t.width(),s=l.width(),a=t.scrollTop(),v=t.scrollLeft(),o<r&&n.pageY-a<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),o<r&&o-(n.pageY-a)<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),s<f&&n.pageX-v<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),s<f&&s-(n.pageX-v)<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=t)),i.scroll_e&&u.vakata.dnd._scroll(!0),i.helper&&(h=parseInt(n.pageY+u.vakata.dnd.settings.helper_top,10),c=parseInt(n.pageX+u.vakata.dnd.settings.helper_left,10),f&&c+i.helper_w>f&&(c=f-(i.helper_w+2)),i.helper.css({left:c+"px",top:(h=r&&r<h+25?r-50:h)+"px"})),u.vakata.dnd._trigger("move",n),!1}},stop:function(n){var t;return"touchend"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=e.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag?(n.target!==i.target&&u(i.target).off("click.vakata"),u.vakata.dnd._trigger("stop",n)):"touchend"===n.type&&n.target===i.target&&(t=setTimeout(function(){u(n.target).trigger("click")},100),u(n.target).one("click",function(){t&&clearTimeout(t)})),u.vakata.dnd._clean(),!1}},n.jstree.defaults.massload=null,n.jstree.plugins.massload=function(t,i){this.init=function(n,t){this._data.massload={};i.init.call(this,n,t)};this._load_nodes=function(t,r,u,f){var e=this.settings.massload,h=[],c=this._model.data,s,l,o;if(!u){for(s=0,l=t.length;s<l;s++)c[t[s]]&&(c[t[s]].state.loaded||c[t[s]].state.failed)&&!f||(h.push(t[s]),(o=this.get_node(t[s],!0))&&o.length&&o.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},h.length){if(n.vakata.is_function(e))return e.call(this,h,function(n){var e,s;if(n)for(e in n)n.hasOwnProperty(e)&&(this._data.massload[e]=n[e]);for(e=0,s=t.length;e<s;e++)(o=this.get_node(t[e],!0))&&o.length&&o.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,r,u,f)}.bind(this));if("object"==typeof e&&e&&e.url)return e=n.extend(!0,{},e),n.vakata.is_function(e.url)&&(e.url=e.url.call(this,h)),n.vakata.is_function(e.data)&&(e.data=e.data.call(this,h)),n.ajax(e).done(function(n){var e,s;if(n)for(e in n)n.hasOwnProperty(e)&&(this._data.massload[e]=n[e]);for(e=0,s=t.length;e<s;e++)(o=this.get_node(t[e],!0))&&o.length&&o.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,r,u,f)}.bind(this)).fail(function(){i._load_nodes.call(this,t,r,u,f)}.bind(this))}}return i._load_nodes.call(this,t,r,u,f)};this._load_node=function(t,r){var u=this._data.massload[t.id],f=null;return u?(f=this["string"==typeof u?"_append_html_data":"_append_json_data"](t,"string"==typeof u?n(n.parseHTML(u)).filter(function(){return 3!==this.nodeType}):u,function(n){r.call(this,n)}),(u=this.get_node(t.id,!0))&&u.length&&u.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],f):i._load_node.call(this,t,r)}},n.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},n.jstree.plugins.search=function(i,r){this.bind=function(){r.bind.call(this);this._data.search.str="";this._data.search.dom=n();this._data.search.res=[];this._data.search.opn=[];this._data.search.som=!1;this._data.search.smc=!1;this._data.search.hdn=[];this.element.on("search.jstree",function(t,i){if(this._data.search.som&&i.res.length){for(var u=this._model.data,f=[],e,o,r=0,s=i.res.length;r<s;r++)if(u[i.res[r]]&&!u[i.res[r]].state.hidden&&(f.push(i.res[r]),f=f.concat(u[i.res[r]].parents),this._data.search.smc))for(e=0,o=u[i.res[r]].children_d.length;e<o;e++)u[u[i.res[r]].children_d[e]]&&!u[u[i.res[r]].children_d[e]].state.hidden&&f.push(u[i.res[r]].children_d[e]);f=n.vakata.array_remove_item(n.vakata.array_unique(f),n.jstree.root);this._data.search.hdn=this.hide_all(!0);this.show_node(f,!0);this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(n,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))};this.search=function(i,r,u,f,e,o){if(!1===i||""===n.vakata.trim(i.toString()))return this.clear_search();f=(f=this.get_node(f))&&(f.id||0===f.id)?f.id:null;i=i.toString();var h=this.settings.search,s=h.ajax||!1,v=this._model.data,y=null,a=[],c=[],l,p;if(this._data.search.res.length&&!e&&this.clear_search(),u===t&&(u=h.show_only_matches),o===t&&(o=h.show_only_matches_children),!r&&!1!==s)return n.vakata.is_function(s)?s.call(this,i,function(t){t&&t.d&&(t=t.d);this._load_nodes(n.vakata.is_array(t)?n.vakata.array_unique(t):[],function(){this.search(i,!0,u,f,e,o)})}.bind(this),f):((s=n.extend({},s)).data||(s.data={}),s.data.str=i,f&&(s.data.inside=f),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=n.ajax(s).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(s)};this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(t){t&&t.d&&(t=t.d);this._load_nodes(n.vakata.is_array(t)?n.vakata.array_unique(t):[],function(){this.search(i,!0,u,f,e,o)})}.bind(this)),this._data.search.lastRequest);if(e||(this._data.search.str=i,this._data.search.dom=n(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=u,this._data.search.smc=o),y=new n.vakata.search(i,!0,{caseSensitive:h.case_sensitive,fuzzy:h.fuzzy}),n.each(v[f||n.jstree.root].children_d,function(n,t){var r=v[t];r.text&&!r.state.hidden&&(!h.search_leaves_only||r.state.loaded&&0===r.children.length)&&(h.search_callback&&h.search_callback.call(this,i,r)||!h.search_callback&&y.search(r.text).isMatch)&&(a.push(t),c=c.concat(r.parents))}),a.length){for(l=0,p=(c=n.vakata.array_unique(c)).length;l<p;l++)c[l]!==n.jstree.root&&v[c[l]]&&!0===this.open_node(c[l],null,0)&&this._data.search.opn.push(c[l]);e?(this._data.search.dom=this._data.search.dom.add(n(this.element[0].querySelectorAll("#"+n.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=n.vakata.array_unique(this._data.search.res.concat(a))):(this._data.search.dom=n(this.element[0].querySelectorAll("#"+n.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=a);this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:u})};this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0);this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res});this._data.search.res.length&&(this._data.search.dom=n(this.element[0].querySelectorAll("#"+n.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"));this._data.search.str="";this._data.search.res=[];this._data.search.opn=[];this._data.search.dom=n()};this.redraw_node=function(t){if((t=r.redraw_node.apply(this,arguments))&&-1!==n.inArray(t.id,this._data.search.res)){for(var u=null,i=0,f=t.childNodes.length;i<f;i++)if(t.childNodes[i]&&t.childNodes[i].className&&-1!==t.childNodes[i].className.indexOf("jstree-anchor")){u=t.childNodes[i];break}u&&(u.className+=" jstree-search")}return t}},(b=n).vakata.search=function(n,t,i){i=i||{};!1!==(i=b.extend({},b.vakata.search.defaults,i)).fuzzy&&(i.fuzzy=!0);n=i.caseSensitive?n:n.toLowerCase();var u=i.location,o=i.distance,c=i.threshold,r=n.length,s,h,f,e;return 32<r&&(i.fuzzy=!1),i.fuzzy&&(s=1<<r-1,h=function(){for(var i={},t=0,t=0;t<r;t++)i[n.charAt(t)]=0;for(t=0;t<r;t++)i[n.charAt(t)]|=1<<r-t-1;return i}(),f=function(n,t){var n=n/r,t=Math.abs(u-t);return o?n+t/o:t?1:n}),e=function(t){if(t=i.caseSensitive?t.toString():t.toString().toLowerCase(),n===t||-1!==t.indexOf(n))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var a,e,tt=t.length,v=c,o=t.indexOf(n,u),p,l,w=r+tt,b,d,k,y,g,nt=1,it=[];for(-1!==o&&(v=Math.min(f(0,o),v),-1!==(o=t.lastIndexOf(n,u+r))&&(v=Math.min(f(0,o),v))),o=-1,a=0;a<r;a++){for(p=0,l=w;p<l;)f(a,u+l)<=v?p=l:w=l,l=Math.floor((w-p)/2+p);for(w=l,d=Math.max(1,u-l+1),k=Math.min(u+l,tt)+r,(y=new Array(k+2))[k+1]=(1<<a)-1,e=k;d<=e;e--)if(g=h[t.charAt(e-1)],y[e]=0===a?(y[e+1]<<1|1)&g:(y[e+1]<<1|1)&g|(b[e+1]|b[e])<<1|1|b[e+1],y[e]&s&&(nt=f(a,e-1))<=v){if(v=nt,it.push(o=e-1),!(u<o))break;d=Math.max(1,2*u-o)}if(f(a+1,u)>v)break;b=y}return{isMatch:0<=o,score:nt}},!0===t?{search:e}:e(t)},b.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},n.jstree.defaults.sort=function(n,t){return this.get_text(n)>this.get_text(t)?1:-1},k=!(n.jstree.plugins.sort=function(n,t){this.bind=function(){t.bind.call(this);this.element.on("model.jstree",function(n,t){this.sort(t.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(n,t){this.sort(t.parent||t.node.parent,!1);this.redraw_node(t.parent||t.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(n,t){this.sort(t.parent,!1);this.redraw_node(t.parent,!0)}.bind(this))};this.sort=function(n,t){var i,r;if((n=this.get_node(n))&&n.children&&n.children.length&&(n.children.sort(this.settings.sort.bind(this)),t))for(i=0,r=n.children_d.length;i<r;i++)this.sort(n.children_d[i],!1)}}),n.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},n.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var n=function(){this.element.on(this.settings.state.events,function(){k&&clearTimeout(k);k=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this));this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(){this.element.one("restore_state.jstree",n);this.restore_state()||n()}.bind(this))};this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;t={state:t,ttl:this.settings.state.ttl,sec:+new Date};n.vakata.storage.set(this.settings.state.key,JSON.stringify(t))};this.restore_state=function(){var t=n.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(i){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&!!(t=(t=t&&t.state?t.state:t)&&n.vakata.is_function(this.settings.state.filter)?this.settings.state.filter.call(this,t):t)&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(i,r){r.instance.trigger("restore_state",{state:n.extend(!0,{},t)})}),this.set_state(t),!0)};this.clear_state=function(){return n.vakata.storage.del(this.settings.state.key)}},n.vakata.storage={set:function(n,t){return window.localStorage.setItem(n,t)},get:function(n){return window.localStorage.getItem(n)},del:function(n){return window.localStorage.removeItem(n)}},n.jstree.defaults.types={"default":{}},n.jstree.defaults.types[n.jstree.root]={},n.jstree.plugins.types=function(i,r){this.init=function(i,u){var f,e;if(u&&u.types&&u.types.default)for(f in u.types)if("default"!==f&&f!==n.jstree.root&&u.types.hasOwnProperty(f))for(e in u.types.default)u.types.default.hasOwnProperty(e)&&u.types[f][e]===t&&(u.types[f][e]=u.types.default[e]);r.init.call(this,i,u);this._model.data[n.jstree.root].type=n.jstree.root};this.refresh=function(t,i){r.refresh.call(this,t,i);this._model.data[n.jstree.root].type=n.jstree.root};this.bind=function(){this.element.on("model.jstree",function(i,r){for(var f=this._model.data,e=r.nodes,s=this.settings.types,o="default",h,u=0,c=e.length;u<c;u++){if(o="default",f[e[u]].original&&f[e[u]].original.type&&s[f[e[u]].original.type]&&(o=f[e[u]].original.type),f[e[u]].data&&f[e[u]].data.jstree&&f[e[u]].data.jstree.type&&s[f[e[u]].data.jstree.type]&&(o=f[e[u]].data.jstree.type),f[e[u]].type=o,!0===f[e[u]].icon&&s[o].icon!==t&&(f[e[u]].icon=s[o].icon),s[o].li_attr!==t&&"object"==typeof s[o].li_attr)for(h in s[o].li_attr)s[o].li_attr.hasOwnProperty(h)&&"id"!==h&&(f[e[u]].li_attr[h]===t?f[e[u]].li_attr[h]=s[o].li_attr[h]:"class"===h&&(f[e[u]].li_attr.class=s[o].li_attr.class+" "+f[e[u]].li_attr.class));if(s[o].a_attr!==t&&"object"==typeof s[o].a_attr)for(h in s[o].a_attr)s[o].a_attr.hasOwnProperty(h)&&"id"!==h&&(f[e[u]].a_attr[h]===t?f[e[u]].a_attr[h]=s[o].a_attr[h]:"href"===h&&"#"===f[e[u]].a_attr[h]?f[e[u]].a_attr.href=s[o].a_attr.href:"class"===h&&(f[e[u]].a_attr.class=s[o].a_attr.class+" "+f[e[u]].a_attr.class))}f[n.jstree.root].type=n.jstree.root}.bind(this));r.bind.call(this)};this.get_json=function(t,i,u){var e,s,o=this._model.data,h=i?n.extend(!0,{},i,{no_id:!1}):{},f=r.get_json.call(this,t,h,u);if(!1===f)return!1;if(n.vakata.is_array(f))for(e=0,s=f.length;e<s;e++)f[e].type=(f[e].id||0===f[e].id)&&o[f[e].id]&&o[f[e].id].type?o[f[e].id].type:"default",i&&i.no_id&&(delete f[e].id,f[e].li_attr&&f[e].li_attr.id&&delete f[e].li_attr.id,f[e].a_attr&&f[e].a_attr.id&&delete f[e].a_attr.id);else f.type=(f.id||0===f.id)&&o[f.id]&&o[f.id].type?o[f.id].type:"default",i&&i.no_id&&(f=this._delete_ids(f));return f};this._delete_ids=function(t){if(n.vakata.is_array(t)){for(var i=0,r=t.length;i<r;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&n.vakata.is_array(t.children)&&(t.children=this._delete_ids(t.children)),t};this.check=function(i,u,f,e,o){if(!1===r.check.call(this,i,u,f,e,o))return!1;u=u&&(u.id||0===u.id)?u:this.get_node(u);f=f&&(f.id||0===f.id)?f:this.get_node(f);var s,h,l,a,c=(c=u&&(u.id||0===u.id)?o&&o.origin?o.origin:n.jstree.reference(u.id):null)&&c._model&&c._model.data?c._model.data:null;switch(i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===n.inArray(u.id,f.children)){if((s=this.get_rules(f)).max_children!==t&&-1!==s.max_children&&s.max_children===f.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:!(!u||!u.id&&0!==u.id)&&u.id,par:!(!f||!f.id&&0!==f.id)&&f.id})});if(s.valid_children!==t&&-1!==s.valid_children&&-1===n.inArray(u.type||"default",s.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:!(!u||!u.id&&0!==u.id)&&u.id,par:!(!f||!f.id&&0!==f.id)&&f.id})});if(c&&u.children_d&&u.parents){for(l=h=0,a=u.children_d.length;l<a;l++)h=Math.max(h,c[u.children_d[l]].parents.length);h=h-u.parents.length+1}(h<=0||h===t)&&(h=1);do{if(s.max_depth!==t&&-1!==s.max_depth&&s.max_depth<h)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:!(!u||!u.id&&0!==u.id)&&u.id,par:!(!f||!f.id&&0!==f.id)&&f.id})});f=this.get_node(f.parent);s=this.get_rules(f);h++}while(f)}}return!0};this.get_rules=function(n){if(!(n=this.get_node(n)))return!1;var n=this.get_type(n,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n};this.get_type=function(t,i){return!!(t=this.get_node(t))&&(i?n.extend({type:t.type},this.settings.types[t.type]):t.type)};this.set_type=function(i,r){var o=this._model.data,f,c,a,e,l,u,h,s;if(n.vakata.is_array(i)){for(c=0,a=(i=i.slice()).length;c<a;c++)this.set_type(i[c],r);return!0}if(f=this.settings.types,i=this.get_node(i),!f[r]||!i)return!1;if((h=this.get_node(i,!0))&&h.length&&(s=h.children(".jstree-anchor")),e=i.type,l=this.get_icon(i),i.type=r,!0!==l&&f[e]&&(f[e].icon===t||l!==f[e].icon)||this.set_icon(i,f[r].icon===t||f[r].icon),f[e]&&f[e].li_attr!==t&&"object"==typeof f[e].li_attr)for(u in f[e].li_attr)f[e].li_attr.hasOwnProperty(u)&&"id"!==u&&("class"===u?(o[i.id].li_attr.class=(o[i.id].li_attr.class||"").replace(f[e].li_attr[u],""),h&&h.removeClass(f[e].li_attr[u])):o[i.id].li_attr[u]===f[e].li_attr[u]&&(o[i.id].li_attr[u]=null,h&&h.removeAttr(u)));if(f[e]&&f[e].a_attr!==t&&"object"==typeof f[e].a_attr)for(u in f[e].a_attr)f[e].a_attr.hasOwnProperty(u)&&"id"!==u&&("class"===u?(o[i.id].a_attr.class=(o[i.id].a_attr.class||"").replace(f[e].a_attr[u],""),s&&s.removeClass(f[e].a_attr[u])):o[i.id].a_attr[u]===f[e].a_attr[u]&&("href"===u?(o[i.id].a_attr[u]="#",s&&s.attr("href","#")):(delete o[i.id].a_attr[u],s&&s.removeAttr(u))));if(f[r].li_attr!==t&&"object"==typeof f[r].li_attr)for(u in f[r].li_attr)f[r].li_attr.hasOwnProperty(u)&&"id"!==u&&(o[i.id].li_attr[u]===t?(o[i.id].li_attr[u]=f[r].li_attr[u],h&&("class"===u?h.addClass(f[r].li_attr[u]):h.attr(u,f[r].li_attr[u]))):"class"===u&&(o[i.id].li_attr.class=f[r].li_attr[u]+" "+o[i.id].li_attr.class,h&&h.addClass(f[r].li_attr[u])));if(f[r].a_attr!==t&&"object"==typeof f[r].a_attr)for(u in f[r].a_attr)f[r].a_attr.hasOwnProperty(u)&&"id"!==u&&(o[i.id].a_attr[u]===t?(o[i.id].a_attr[u]=f[r].a_attr[u],s&&("class"===u?s.addClass(f[r].a_attr[u]):s.attr(u,f[r].a_attr[u]))):"href"===u&&"#"===o[i.id].a_attr[u]?(o[i.id].a_attr.href=f[r].a_attr.href,s&&s.attr("href",f[r].a_attr.href)):"class"===u&&(o[i.id].a_attr.class=f[r].a_attr.class+" "+o[i.id].a_attr.class,s&&s.addClass(f[r].a_attr[u])));return!0}},n.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(n,t){return n+" ("+t+")"}},n.jstree.plugins.unique=function(i,r){this.check=function(t,i,u,f,e){if(!1===r.check.call(this,t,i,u,f,e))return!1;if(i=i&&(i.id||0===i.id)?i:this.get_node(i),!(u=u&&(u.id||0===u.id)?u:this.get_node(u))||!u.children)return!0;for(var o="rename_node"===t?f:i.text,c=[],l=this.settings.unique.case_sensitive,a=this.settings.unique.trim_whitespace,v=this._model.data,s,h=0,y=u.children.length;h<y;h++)s=v[u.children[h]].text,l||(s=s.toLowerCase()),a&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(s);switch(l||(o=o.toLowerCase()),a&&(o=o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return s=i.text||"",l||(s=s.toLowerCase()),a&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(h=-1===n.inArray(o,c)||i.text&&s===o)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h;case"create_node":return(h=-1===n.inArray(o,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h;case"copy_node":return(h=-1===n.inArray(o,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h;case"move_node":return(h=i.parent===u.id&&(!e||!e.is_multi)||-1===n.inArray(o,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h}return!0};this.create_node=function(i,u,f,e,o){if(!u||"object"==typeof u&&u.text===t){if((null===i&&(i=n.jstree.root),!(i=this.get_node(i)))||!(f=f===t?"last":f).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i))return r.create_node.call(this,i,u,f,e,o);u=u||{};for(var v,p=this._model.data,c=this.settings.unique.case_sensitive,l=this.settings.unique.trim_whitespace,w=this.settings.unique.duplicate,s,a=v=this.get_string("New node"),y=[],h=0,b=i.children.length;h<b;h++)s=p[i.children[h]].text,c||(s=s.toLowerCase()),l&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),y.push(s);for(h=1,s=a,c||(s=s.toLowerCase()),l&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==n.inArray(s,y);)s=a=w.call(this,v,++h).toString(),c||(s=s.toLowerCase()),l&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));u.text=a}return r.create_node.call(this,i,u,f,e,o)}},v=e.createElement("DIV"),v.setAttribute("unselectable","on"),v.setAttribute("role","presentation"),v.className="jstree-wholerow",v.innerHTML="&#160;",n.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this);this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(n,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var i=!1,r=0,u=t.selected.length;r<u;r++)(i=this.get_node(t.selected[r],!0))&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(n,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(n,t){"hover_node"===n.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===n.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(t){var i;this._data.contextmenu&&(t.preventDefault(),i=n.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY}),n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i))}.bind(this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=n.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=n.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",function(t){t.stopImmediatePropagation();var i=n.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(n){return n.stopImmediatePropagation(),this.is_disabled(n.currentTarget)||this.hover_node(n.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(n){this.dehover_node(n.currentTarget)}.bind(this))};this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove();i.teardown.call(this)};this.redraw_node=function(t){var r;return(t=i.redraw_node.apply(this,arguments))&&(r=v.cloneNode(!0),-1!==n.inArray(t.id,this._data.core.selected)&&(r.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(r.className+=" jstree-wholerow-hovered"),t.insertBefore(r,t.childNodes[0])),t}},window.customElements&&Object&&Object.create){a=Object.create(HTMLElement.prototype);a.createdCallback=function(){var i={core:{},plugins:[]};for(var t in n.jstree.plugins)n.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in n.jstree.defaults.core)n.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));n(this).jstree(i)};try{window.customElements.define("vakata-jstree",function(){},{prototype:a})}catch(a){}}}});
/*!
 * 
 * Bootstrap 5+ Persian Date Time Picker
 * https://github.com/Mds92/MD.BootstrapPersianDateTimePicker
 * version : 4.2.6
 * Written By Mohammad Dayyan, Mordad 1397 - 1402
 * mds.soft@gmail.com - @mdssoft
 *
 */
(()=>{function n(r){var f=t[r],u;return void 0!==f?f.exports:(u=t[r]={exports:{}},i[r](u,u.exports,n),u.exports)}var i={348:(n,t,i)=>{var r=i(155),u=i(672);void 0===u.mds&&(u.mds=r);n.exports=r},672:(n,t,i)=>{n.exports=function(){if("object"==typeof globalThis)return globalThis;var n;try{n=this||new Function("return this")()}catch(n){if("object"==typeof window)return window;if("object"==typeof self)return self;if(void 0!==i.g)return i.g}return n}()},155:(n,t,i)=>{i.r(t);i.d(t,{MdsPersianDateTimePicker:()=>r,MdsPersianDateTimePickerSetting:()=>e});const o=bootstrap;class r{constructor(n,t){var i;if(this.guid="",this.bsPopover=null,this.bsModal=null,this.tempTitleString="",this.hideYearsBox=(n,t)=>{if(t.inLine){const t=n.closest("[data-mds-dtp-guid]");if(null==t)return;const u=t.querySelector("[mds-dtp-inline-header]");this.tempTitleString&&null!=u&&(u.innerHTML=this.tempTitleString);const i=t.querySelector("[data-mds-dtp-year-list-box]");null!=i&&(i.classList.add("w-0"),i.innerHTML="");const r=t.querySelector('[data-name="dtp-years-container"]');null!=r&&(r.classList.add("w-0"),r.innerHTML="");t.classList.remove("overflow-hidden")}else{const i=t.modalMode?this.getModal():this.getPopover(n);if(null==i)return;this.tempTitleString&&(t.modalMode?i.querySelector("[data-mds-dtp-title] .modal-title").innerHTML=this.tempTitleString:i.querySelector("[data-mds-dtp-title]").innerHTML=this.tempTitleString,i.querySelector('[data-name="mds-dtp-body"]').removeAttribute("hidden"));const r=i.querySelector("[data-mds-dtp-year-list-box]");r.classList.add("w-0");r.innerHTML=""}},this.showYearsBox=n=>{const e=r.getInstance(n);if(e){const t=e.setting,i=t.inLine?n.closest("[data-mds-dtp-guid]"):n.closest("[data-mds-dtp]");if(null!=i){this.tempTitleString=t.inLine?i.querySelector("[mds-dtp-inline-header]").textContent.trim():i.querySelector("[data-mds-dtp-title]").textContent.trim();const f=this.getYearsBoxBodyHtml(t,0),o=f.html,u=i.querySelector("[data-mds-dtp-year-list-box]");this.setPopoverHeaderHtml(n,t,this.getYearsBoxHeaderHtml(t,f.yearStart,f.yearEnd));u.innerHTML=o;u.classList.remove("w-0");t.inLine?(i.classList.add("overflow-hidden"),u.classList.add("inline")):t.modalMode?i.querySelector('[data-name="mds-dtp-body"]').setAttribute("hidden",""):u.classList.remove("inline")}}},this.changeYearList=n=>{const u=r.getInstance(n);if(u){const t=u.setting,e="1"==n.getAttribute("data-year-range-button-change"),f=Number(n.getAttribute("data-year")),i=this.getYearsBoxBodyHtml(t,e?f:f-2*t.yearOffset);t.inLine?n.closest("[data-mds-dtp-guid]").querySelector("[data-mds-dtp-year-list-box]").innerHTML=i.html:n.closest("[data-mds-dtp]").querySelector("[data-mds-dtp-year-list-box]").innerHTML=i.html;this.setPopoverHeaderHtml(n,t,this.getYearsBoxHeaderHtml(t,i.yearStart,i.yearEnd))}},this.setPopoverHeaderHtml=(n,t,i)=>{if(null!=this.bsPopover){const t=this.getPopover(n);if(null==t)return;t.querySelector("[data-mds-dtp-title]").innerHTML=i}else if(t.inLine){let t=n.closest("[data-mds-dtp-guid]").querySelector('[data-name="dtp-years-container"]');t.innerHTML=i;t.classList.remove("w-0")}else t.modalMode&&(n.closest("[data-mds-dtp-guid]").querySelector("[data-mds-dtp-title] .modal-title").innerHTML=i)},this.updateCalendarBodyHtml=(n,t,i=!1)=>{const u=this.getDateTimePickerBodyHtml(t),f=u.match(/<th mds-dtp-inline-header\b[^>]*>(.*?)<\/th>/gim)[0];if(this.tempTitleString=f,!t.inLine&&i&&!t.modalMode){const n=this.getBsPopoverInstance();return n?void setTimeout(()=>{n.setContent({".popover-header":f,".popover-body":u})},100):void console.error("mds.bs.datetimepicker: `BsPopoverInstance` is null!")}let r=n.closest('[data-name="mds-dtp-body"]');if(null==r){if(r=n.closest("[data-mds-dtp-guid]"),null==r)return void console.error("mds.bs.datetimepicker: `data-mds-dtp-guid` element not found !");t.modalMode&&(r=r.querySelector('[data-name="mds-dtp-body"]'))}null!=r?(this.setPopoverHeaderHtml(n,t,f.trim()),r.innerHTML=u,this.hideYearsBox(n,t),this.enableEvents(),this.enableInLineEvents()):console.error("mds.bs.datetimepicker: `data-mds-dtp-guid` element not found!")},this.changeMonth=n=>{const i=r.getInstance(n);if(i&&!i.setting.disabled){const e=Number(n.getAttribute("data-number")),t=i.setting;let f=r.getClonedDate(t.selectedDateToShow);f=r.getDateTime4(e,f,t.isGregorian);t.selectedDateToShow=r.getClonedDate(f);u.set(i.guid,i);this.updateCalendarBodyHtml(n,t);null!=t.calendarViewOnChange&&t.calendarViewOnChange(f)}},this.selectDay=n=>{var o;const e=r.getInstance(n);if(e&&!e.setting.disabled&&null==n.getAttribute("disabled")){let h=Number(n.getAttribute("data-number"));const t=e.setting,c=null!=n.getAttribute("disabled");null==t.selectedDate||t.enableTimePicker||(t.selectedDate.setHours(0),t.selectedDate.setMinutes(0),t.selectedDate.setSeconds(0));let i=t.selectedDate?r.getDateTimeJson1(t.selectedDate):null,f=t.selectedDateToShow?r.getClonedDate(t.selectedDateToShow):new Date,s=r.getDateTimeJson1(f);if(c)null!=t.onDayClick&&t.onDayClick(t);else{if(f=r.getDateTime4(h,f,t.isGregorian),t.rangeSelector){if(null!=t.rangeSelectorStartDate&&null!=t.rangeSelectorEndDate){t.selectedRangeDate=[];t.rangeSelectorStartDate=null;t.rangeSelectorEndDate=null;let i="[data-mds-dtp]";t.inLine&&(i="[data-mds-dtp-guid]");null===(o=n.closest(i))||void 0===o||o.querySelectorAll("td.selected-range-days-start-end,td.selected-range-days").forEach(n=>{n.classList.remove("selected-range-days"),n.classList.remove("selected-range-days-start-end")})}if(null==t.rangeSelectorStartDate)n.classList.add("selected-range-days-start-end"),t.rangeSelectorStartDate=r.getClonedDate(f),t.selectedDate=r.getClonedDate(f),t.selectedDateToShow=r.getClonedDate(f);else if(null!=t.rangeSelectorStartDate&&null==t.rangeSelectorEndDate){if(t.rangeSelectorStartDate.getTime()>=f.getTime())return;n.classList.add("selected-range-days-start-end");t.rangeSelectorEndDate=r.getClonedDate(f);r.setSelectedData(t)}return u.set(e.guid,e),void(null!=t.rangeSelectorStartDate&&null!=t.rangeSelectorEndDate&&(t.selectedRangeDate=[r.getClonedDate(t.rangeSelectorStartDate),r.getClonedDate(t.rangeSelectorEndDate)],t.inLine?this.updateCalendarBodyHtml(n,t):e.hide()))}if(t.selectedDate=r.getClonedDate(f),null==t.selectedDate||t.enableTimePicker||(t.selectedDate.setHours(0),t.selectedDate.setMinutes(0),t.selectedDate.setSeconds(0)),t.selectedDateToShow=r.getClonedDate(f),null!=i&&(t.enableTimePicker?(i.hour=s.hour,i.minute=s.minute,i.second=s.second):(i.hour=0,i.minute=0,i.second=0),t.selectedDate.setHours(i.hour),t.selectedDate.setMinutes(i.minute),t.selectedDate.setSeconds(i.second)),u.set(e.guid,e),r.setSelectedData(t),n.setAttribute("data-mds-dtp-selected-day",""),t.toDate||t.fromDate){const i=document.querySelector(`[data-mds-dtp-group="${t.groupId}"][data-to-date]`),u=document.querySelector(`[data-mds-dtp-group="${t.groupId}"][data-from-date]`);if(t.fromDate&&null!=i){const n=r.getInstance(i);null!=n&&(t.inLine?this.updateCalendarBodyHtml(i,n.setting):n.initializeBsPopover(n.setting))}else if(t.toDate&&null!=u){const n=r.getInstance(u);null!=n&&(t.inLine?this.updateCalendarBodyHtml(u,n.setting):n.initializeBsPopover(n.setting))}else this.updateCalendarBodyHtml(n,t)}else this.updateCalendarBodyHtml(n,t,!0);null!=t.onDayClick&&t.onDayClick(t);t.inLine?n.closest(`[data-mds-dtp-guid="${this.guid}"]`).querySelectorAll("[data-day]").forEach(n=>n.removeAttribute("data-mds-dtp-selected-day")):e.hide()}}},this.hoverOnDays=n=>{var f,e;const c=n.target,v=r.getInstance(c);if(v){const t=v.setting;if(null==c.getAttribute("disabled")&&t.rangeSelector&&(null==t.rangeSelectorStartDate||null==t.rangeSelectorEndDate)){const o=Number(c.getAttribute("data-number")),l=[].slice.call(document.querySelectorAll("td[data-day]"));l.forEach(n=>{n.classList.remove("selected-range-days"),n.classList.remove("selected-range-days-nm")});const a=[].slice.call(document.querySelectorAll("td[data-nm]"));a.forEach(n=>{n.classList.remove("selected-range-days"),n.classList.remove("selected-range-days-nm")});const s=t.rangeSelectorStartDate?r.getClonedDate(t.rangeSelectorStartDate):void 0,h=t.rangeSelectorEndDate?r.getClonedDate(t.rangeSelectorEndDate):void 0;let i=0,u=0;if(t.isGregorian?(i=s?r.convertToNumber3(s):0,u=h?r.convertToNumber3(h):0):(i=s?r.convertToNumber1(r.getDateTimeJsonPersian1(s)):0,u=h?r.convertToNumber1(r.getDateTimeJsonPersian1(h)):0),i>0&&o>i)for(f=i;f<=o;f++)l.filter(n=>n.getAttribute("data-number")==f.toString()&&n.classList.value.indexOf("selected-range-days-start-end")<=-1).forEach(n=>n.classList.add("selected-range-days")),a.filter(n=>n.getAttribute("data-number")==f.toString()&&n.classList.value.indexOf("selected-range-days-start-end")<=-1).forEach(n=>n.classList.add("selected-range-days-nm"));else if(u>0&&o<u)for(e=o;e<=u;e++)l.filter(n=>n.getAttribute("data-number")==e.toString()&&n.classList.value.indexOf("selected-range-days-start-end")<=-1).forEach(n=>n.classList.add("selected-range-days")),a.filter(n=>n.getAttribute("data-number")==e.toString()&&n.classList.value.indexOf("selected-range-days-start-end")<=-1).forEach(n=>n.classList.add("selected-range-days-nm"))}}},this.goToday=n=>{const i=n.target,t=r.getInstance(i);if(t){const f=t.setting;f.selectedDateToShow=new Date;u.set(t.guid,t);this.updateCalendarBodyHtml(i,f)}},this.timeChanged=n=>{const f=n.target,i=r.getInstance(f);if(i){const t=i.setting,e=f.value;if(t.enableTimePicker){null==t.selectedDateToShow&&(t.selectedDateToShow=new Date);let o=Number(e.substr(0,2)),s=Number(e.substr(3,2));t.selectedDateToShow=new Date(t.selectedDateToShow.setHours(o));t.selectedDateToShow=new Date(t.selectedDateToShow.setMinutes(s));null==t.selectedDate&&(t.selectedDate=new Date);t.selectedDate=new Date(t.selectedDate.setHours(o));t.selectedDate=new Date(t.selectedDate.setMinutes(s));u.set(i.guid,i);r.setSelectedData(t)}}},this.popoverInsertedEvent=n=>{const t=n.target,i=r.getInstance(t);if(i){const u=i.setting;this.hideYearsBox(t,u)}},this.popoverOrModalShownEvent=()=>{this.enableEvents()},this.popoverOrModalHiddenEvent=()=>{this.disableEvents()},this.selectCorrectClickEvent=n=>{const t=n.target,i=r.getInstance(t);i&&(null==i||!i.setting.disabled&&null==i.element.getAttribute("disabled"))&&(null!=t.getAttribute("mds-pdtp-select-year-button")?i.showYearsBox(t):null!=t.getAttribute("data-mds-dtp-go-today")?this.goToday(n):null!=t.getAttribute("data-day")?this.selectDay(t):t.getAttribute("data-mds-hide-year-list-box")?this.hideYearsBox(t,i.setting):t.getAttribute("data-change-date-button")?this.changeMonth(t):null!=t.getAttribute("data-year-range-button-change")&&null==t.getAttribute("disabled")&&this.changeYearList(t))},this.showPopoverEvent=n=>{u.getAll().forEach(n=>n.hide());const i=n.target,t=r.getInstance(i);null==t||t.setting.disabled||t.show()},this.hidePopoverEvent=n=>{const t=n.target;if("HTML"==t.tagName)return void u.getAll().forEach(n=>n.setting.modalMode?()=>{}:n.hide());null!=t.closest("[data-mds-dtp]")||null!=t.getAttribute("data-mds-dtp-guid")||null!=t.getAttribute("data-mds-dtp-go-today")||u.getAll().forEach(n=>n.hide())},t=r.extend(new e,t),!n)throw new Error("MdsPersianDateTimePicker => element is null!");if(t.rangeSelector&&(t.toDate||t.fromDate))throw new Error("MdsPersianDateTimePicker => You can not set true 'toDate' or 'fromDate' and 'rangeSelector' together");if(t.toDate&&t.fromDate)throw new Error("MdsPersianDateTimePicker => You can not set true 'toDate' and 'fromDate' together");if(!t.groupId&&(t.toDate||t.fromDate))throw new Error("MdsPersianDateTimePicker => When you set 'toDate' or 'fromDate' true, you have to set 'groupId'");t.textFormat||(t.textFormat="yyyy/MM/dd",t.enableTimePicker&&(t.textFormat+=" HH:mm"));t.dateFormat||(t.dateFormat="yyyy/MM/dd",t.enableTimePicker&&(t.dateFormat+=" HH:mm"));t.yearOffset>15&&(t.yearOffset=15);this.setting=t;this.setting.selectedDate=t.selectedDate?r.getClonedDate(t.selectedDate):null;this.setting.selectedDateToShow=null!==(i=r.getClonedDate(t.selectedDateToShow))&&void 0!==i?i:new Date;this.guid=r.newGuid();this.element=n;this.element.setAttribute("data-mds-dtp-guid",this.guid);u.set(this.guid,this);this.initializeBsPopover(t)}static toJalali(n,t,i){return this.d2j(this.g2d(n,t,i))}static toGregorian(n,t,i){return this.d2g(this.j2d(n,t,i))}static isLeapJalaliYear(n){return 0===this.jalCal(n).leap}static jalCal(n){let u,f,t,e,o=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178],c=o.length,h=n+621,r=-14,s=o[0],i=1;if(n<s||n>=o[c-1])throw new Error("Invalid Jalali year "+n);for(e=1;e<c&&(u=o[e],i=u-s,!(n<u));e+=1)r=r+8*this.div(i,33)+this.div(this.mod(i,33),4),s=u;t=n-s;r=r+8*this.div(t,33)+this.div(this.mod(t,33)+3,4);4===this.mod(i,33)&&i-t==4&&(r+=1);let l=20+r-(this.div(h,4)-this.div(3*(this.div(h,100)+1),4)-150);return i-t<6&&(t=t-i+33*this.div(i+4,33)),f=this.mod(this.mod(t+1,33)-1,4),-1===f&&(f=4),{leap:f,gy:h,march:l}}static j2d(n,t,i){let r=this.jalCal(n);return this.g2d(r.gy,3,r.march)+31*(t-1)-this.div(t,7)*(t-7)+i-1}static d2j(n){let i,r,t,f=this.d2g(n).gy,u=f-621,e=this.jalCal(u);if(t=n-this.g2d(f,3,e.march),t>=0){if(t<=185)return r=1+this.div(t,31),i=this.mod(t,31)+1,{jy:u,jm:r,jd:i};t-=186}else u-=1,t+=179,1===e.leap&&(t+=1);return r=7+this.div(t,30),i=this.mod(t,30)+1,{jy:u,jm:r,jd:i}}static g2d(n,t,i){let r=this.div(1461*(n+this.div(t-8,6)+100100),4)+this.div(153*this.mod(t+9,12)+2,5)+i-34840408;return r=r-this.div(3*this.div(n+100100+this.div(t-8,6),100),4)+752,r}static d2g(n){let t;t=4*n+139361631;t=t+4*this.div(3*this.div(4*n+183187720,146097),4)-3908;let i=5*this.div(this.mod(t,1461),4)+308,u=this.div(this.mod(i,153),5)+1,r=this.mod(this.div(i,153),12)+1;return{gy:this.div(t,1461)-100100+this.div(8-r,6),gm:r,gd:u}}static div(n,t){return~~(n/t)}static mod(n,t){return n-~~(n/t)*t}initializeBsPopover(n){if(n.rangeSelector&&(n.toDate||n.fromDate))throw new Error("MdsPersianDateTimePicker => You can not set true 'toDate' or 'fromDate' and 'rangeSelector' together");if(n.toDate&&n.fromDate)throw new Error("MdsPersianDateTimePicker => You can not set true 'toDate' and 'fromDate' together");if(!n.groupId&&(n.toDate||n.fromDate))throw new Error("MdsPersianDateTimePicker => When you set 'toDate' or 'fromDate' true, you have to set 'groupId'");n.disabled?this.element.setAttribute("disabled",""):this.element.removeAttribute("disabled");(n.toDate||n.fromDate)&&(n.rangeSelector=!1,this.element.setAttribute("data-mds-dtp-group",n.groupId),n.toDate?this.element.setAttribute("data-to-date","true"):n.fromDate&&this.element.setAttribute("data-from-date","true"));n.rangeSelector||(n.rangeSelectorMonthsToShow=[0,0]);setTimeout(()=>{this.dispose();const i=this.getPopoverHeaderTitle(n);let t=this.getDateTimePickerBodyHtml(n),u=document.createElement("div");u.innerHTML=t;u.querySelectorAll(".dropdown>button").forEach(t=>{n.disabled?(t.setAttribute("disabled",""),t.classList.add("disabled")):(t.removeAttribute("disabled"),t.classList.remove("disabled"))});t=u.innerHTML;1==n.modalMode?(this.setModalHtml(i,t,n),this.bsPopover=null,setTimeout(()=>{const n=this.getModal();null!=n&&(this.bsModal=new o.Modal(n),this.enableMainEvents())},200)):1==n.inLine?(this.bsPopover=null,this.element.innerHTML=t,this.enableInLineEvents()):(this.bsPopover=new o.Popover(this.element,{container:"body",content:t,title:i,html:!0,placement:n.placement,trigger:"manual",template:r.popoverHtmlTemplate,sanitize:!1}),this.enableMainEvents());r.setSelectedData(n);this.tempTitleString=i},n.inLine?10:100)}static newGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let t=16*Math.random()|0;return("x"==n?t:3&t|8).toString(16)})}static extend(...n){for(let t=1;t<n.length;t++)for(let i in n[t])n[t].hasOwnProperty(i)&&(n[0][i]=n[t][i]);return n[0]}static getClonedDate(n){return new Date(n.getTime())}static getDateTimeJson1(n){return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisecond:n.getMilliseconds(),dayOfWeek:n.getDay()}}static getDateTimeJson2(n){return{year:Math.floor(n/1e4),month:Math.floor(n/100)%100,day:n%100,hour:0,minute:0,second:0,millisecond:0,dayOfWeek:-1}}static getDateTimeJsonPersian1(n){let t=this.toJalali(n.getFullYear(),n.getMonth()+1,n.getDate());return{year:t.jy,month:t.jm,day:t.jd,hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds(),millisecond:n.getMilliseconds(),dayOfWeek:n.getDay()}}static getDateTimeJsonPersian2(n,t,i,u,f,e){this.isNumber(u)||(u=0);this.isNumber(f)||(f=0);this.isNumber(e)||(e=0);let o=this.toGregorian(n,t,i);return r.getDateTimeJsonPersian1(new Date(o.gy,o.gm-1,o.gd,u,f,e))}static getWeekDayName(n,t){return t?this.weekDayNames[n]:this.weekDayNamesPersian[n]}static getMonthName(n,t){return n<0?n=11:n>11&&(n=0),t?this.monthNames[n]:this.monthNamesPersian[n]}static getWeekDayShortName(n,t){return t?this.shortDayNames[n]:this.shortDayNamesPersian[n]}static isLeapYear(n){return this.isLeapJalaliYear(n)}static getDaysInMonthPersian(n,t){let i=31;return t>6&&t<12?i=30:12==t&&(i=this.isLeapYear(n)?30:29),i}static getDaysInMonth(n,t){return new Date(n,t+1,0).getDate()}static getLastDayDateOfPreviousMonth(n,t){let u=r.getClonedDate(n);if(t){let n=new Date(u.getFullYear(),u.getMonth()-1,1),t=r.getDaysInMonth(n.getFullYear(),n.getMonth());return new Date(n.getFullYear(),n.getMonth(),t)}let i=r.getDateTimeJsonPersian1(u);return i.month+=-1,i.month<=0?(i.month=12,i.year--):i.month>12&&(i.year++,i.month=1),r.getDateTime1(i.year,i.month,r.getDaysInMonthPersian(i.year,i.month))}static getFirstDayDateOfNextMonth(n,t){let u=r.getClonedDate(n);if(t){let n=new Date(u.getFullYear(),u.getMonth()+1,1);return new Date(n.getFullYear(),n.getMonth(),1)}let i=r.getDateTimeJsonPersian1(u);return i.month+=1,i.month<=0&&(i.month=12,i.year--),i.month>12&&(i.year++,i.month=1),r.getDateTime1(i.year,i.month,1)}static getDateTime1(n,t,i,r,u,f){this.isNumber(r)||(r=0);this.isNumber(u)||(u=0);this.isNumber(f)||(f=0);let e=this.toGregorian(n,t,i);return new Date(e.gy,e.gm-1,e.gd,r,u,f)}static getDateTime2(n){n.hour||(n.hour=0);n.minute||(n.minute=0);n.second||(n.second=0);let t=this.toGregorian(n.year,n.month,n.day);return new Date(t.gy,t.gm-1,t.gd,n.hour,n.minute,n.second)}static getDateTime3(n){return new Date(n.year,n.month-1,n.day,n.hour,n.minute,n.second)}static getDateTime4(n,t,i){let u=r.getDateTimeJson2(n);if(i)t=new Date(u.year,u.month-1,u.day,t.getHours(),t.getMinutes(),t.getSeconds());else{let n=r.getDateTimeJsonPersian1(t);n.year=u.year;n.month=u.month;n.day=u.day;t=this.getDateTime2(n)}return t}static getLesserDisableBeforeDate(n){let t=null;const i=new Date;return n.disableBeforeToday&&n.disableBeforeDate?t=n.disableBeforeDate.getTime()<=i.getTime()?r.getClonedDate(n.disableBeforeDate):i:n.disableBeforeDate?t=r.getClonedDate(n.disableBeforeDate):n.disableBeforeToday&&(t=i),null==t?null:n.isGregorian?r.getDateTimeJson1(t):r.getDateTimeJsonPersian1(t)}static getBiggerDisableAfterDate(n){let t=null;const i=new Date;return n.disableAfterDate&&n.disableAfterToday?t=n.disableAfterDate.getTime()>=i.getTime()?r.getClonedDate(n.disableAfterDate):i:n.disableAfterDate?t=r.getClonedDate(n.disableAfterDate):n.disableAfterToday&&(t=i),null==t?null:n.isGregorian?r.getDateTimeJson1(t):r.getDateTimeJsonPersian1(t)}static addMonthToDateTimeJson(n,t,i){const u=Object.assign({},n);return u.day=1,u.month+=t,i?r.getDateTimeJson1(this.getDateTime3(u)):(u.month<=0&&(u.month=12,u.year--),u.month>12&&(u.year++,u.month=1),u)}static convertToNumber1(n){return Number(r.zeroPad(n.year)+r.zeroPad(n.month)+r.zeroPad(n.day))}static convertToNumber2(n,t,i){return Number(r.zeroPad(n)+r.zeroPad(t)+r.zeroPad(i))}static convertToNumber3(n){return r.convertToNumber1(r.getDateTimeJson1(n))}static correctOptionValue(n,t){const i=new e;return Object.keys(i).filter(t=>t===n).forEach(r=>{switch(typeof i[r]){case"number":t=+t;break;case"string":t=t.toString();break;case"boolean":t=!!t;break;case"object":if(i[r]instanceof Date)t=new Date(t);else if(Array.isArray(i[r]))switch(n){case"holidays":case"disabledDates":case"specialDates":case"selectedRangeDate":t.forEach((n,i)=>{t[i]=new Date(n)});break;case"disabledDays":case"rangeSelectorMonthsToShow":t.forEach((n,i)=>{t[i]=+n})}}}),t}static getShortHour(n){let t;return t=n>12?n-12:n,t}static getAmPm(n,t){let i;return i=n>12?t?"PM":".":t?"AM":".",i}static addMonthToDateTime(n,t,i){let u;return i?(u=r.getDateTimeJson1(n),u=r.addMonthToDateTimeJson(u,t,i),this.getDateTime3(u)):(u=r.getDateTimeJsonPersian1(n),u=r.addMonthToDateTimeJson(u,t,i),this.getDateTime2(u))}static isNumber(n){return!isNaN(parseFloat(n))&&isFinite(n)}static toPersianNumber(n){if(!n)return"";let t=n.toString().trim();return t?(t=t.replace(/0/gim,""),t=t.replace(/1/gim,""),t=t.replace(/2/gim,""),t=t.replace(/3/gim,""),t=t.replace(/4/gim,""),t=t.replace(/5/gim,""),t=t.replace(/6/gim,""),t=t.replace(/7/gim,""),t=t.replace(/8/gim,""),t=t.replace(/9/gim,""),t):""}static toEnglishNumber(n){if(!n)return"";let t=n.toString().trim();return t?(t=t.replace(//gim,"0"),t=t.replace(//gim,"1"),t=t.replace(//gim,"2"),t=t.replace(//gim,"3"),t=t.replace(//gim,"4"),t=t.replace(//gim,"5"),t=t.replace(//gim,"6"),t=t.replace(//gim,"7"),t=t.replace(//gim,"8"),t=t.replace(//gim,"9"),t):""}static zeroPad(n,t){if(null==n||""==n)return"00";null!=t&&""!=t||(t="00");let i=String(t).length-String(n).length+1;return i>0?new Array(i).join("0")+n:n}static getDateTimeString(n,t,i,u){return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/yyyy/gm,n.year.toString())).replace(/yy/gm,(n.year%100).toString())).replace(/MMMM/gm,r.getMonthName(n.month-1,i))).replace(/MM/gm,r.zeroPad(n.month))).replace(/M/gm,n.month.toString())).replace(/dddd/gm,r.getWeekDayName(n.dayOfWeek,i))).replace(/dd/gm,r.zeroPad(n.day))).replace(/d/gm,n.day.toString())).replace(/HH/gm,r.zeroPad(n.hour))).replace(/H/gm,n.hour.toString())).replace(/hh/gm,r.zeroPad(this.getShortHour(n.hour).toString()))).replace(/h/gm,r.zeroPad(n.hour))).replace(/mm/gm,r.zeroPad(n.minute))).replace(/m/gm,n.minute.toString())).replace(/ss/gm,r.zeroPad(n.second))).replace(/s/gm,n.second.toString())).replace(/fff/gm,r.zeroPad(n.millisecond,"000"))).replace(/ff/gm,r.zeroPad(n.millisecond/10))).replace(/f/gm,(n.millisecond/100).toString())).replace(/tt/gm,this.getAmPm(n.hour,i))).replace(/t/gm,this.getAmPm(n.hour,i)[0]),u&&(t=r.toPersianNumber(t)),t}static getSelectedDateTimeTextFormatted(n){return null==n.selectedDate?"":(n.enableTimePicker||(n.selectedDate.setHours(0),n.selectedDate.setMinutes(0),n.selectedDate.setSeconds(0)),n.rangeSelector&&null!=n.rangeSelectorStartDate&&null!=n.rangeSelectorEndDate?r.getDateTimeString(n.isGregorian?r.getDateTimeJson1(n.rangeSelectorStartDate):r.getDateTimeJsonPersian1(n.rangeSelectorStartDate),n.textFormat,n.isGregorian,n.persianNumber)+" - "+r.getDateTimeString(n.isGregorian?r.getDateTimeJson1(n.rangeSelectorEndDate):r.getDateTimeJsonPersian1(n.rangeSelectorEndDate),n.textFormat,n.isGregorian,n.persianNumber):r.getDateTimeString(n.isGregorian?r.getDateTimeJson1(n.selectedDate):r.getDateTimeJsonPersian1(n.selectedDate),n.textFormat,n.isGregorian,n.persianNumber))}static getSelectedDateFormatted(n){return!n.rangeSelector&&!n.selectedDate||n.rangeSelector&&!n.rangeSelectorStartDate&&!n.rangeSelectorEndDate?"":n.rangeSelector?r.getDateTimeString(r.getDateTimeJson1(n.rangeSelectorStartDate),n.dateFormat,!0,n.persianNumber)+" - "+r.getDateTimeString(r.getDateTimeJson1(n.rangeSelectorEndDate),n.dateFormat,!0,n.persianNumber):r.getDateTimeString(r.getDateTimeJson1(n.selectedDate),n.dateFormat,!0,n.persianNumber)}static getDisabledDateObject(n){var t,i;let u=this.getLesserDisableBeforeDate(n),f=this.getBiggerDisableAfterDate(n);if((n.fromDate||n.toDate)&&n.groupId){const e=document.querySelector(`[data-mds-dtp-group="${n.groupId}"][data-to-date]`),o=document.querySelector(`[data-mds-dtp-group="${n.groupId}"][data-from-date]`);if(null!=e&&n.fromDate){const u=null===(t=r.getInstance(e))||void 0===t?void 0:t.setting,i=u?u.selectedDate:null;f=i?n.isGregorian?r.getDateTimeJson1(i):r.getDateTimeJsonPersian1(i):null}else if(null!=o&&n.toDate){const f=null===(i=r.getInstance(o))||void 0===i?void 0:i.setting,t=f?f.selectedDate:null;u=t?n.isGregorian?r.getDateTimeJson1(t):r.getDateTimeJsonPersian1(t):null}}return[u,f]}static setSelectedData(n){const t=n.targetTextSelector?document.querySelector(n.targetTextSelector):void 0,i=n.targetDateSelector?document.querySelector(n.targetDateSelector):void 0,r=new Event("change");if(null!=t){const i=this.getSelectedDateTimeTextFormatted(n);"input"===t.tagName.toLowerCase()?t.value=i:t.innerHTML=i;t.dispatchEvent(r)}if(null!=i){const t=this.toEnglishNumber(this.getSelectedDateFormatted(n));"input"===i.tagName.toLowerCase()?i.value=t:i.innerHTML=t;i.dispatchEvent(r)}}getPopover(n){let t=n.getAttribute("aria-describedby");return null==t||""==t?n.closest("[data-mds-dtp]"):document.getElementById(t.toString())}getModal(){return document.querySelector(`.modal[data-mds-dtp-guid="${this.guid}"]`)}setModalHtml(n,t,i){const u=this.getModal();if(null==u){let u=r.modalHtmlTemplate;u=u.replace(/\{\{guid\}\}/gim,this.guid);const i=document.createElement("div");i.innerHTML=u;i.querySelector("[data-mds-dtp-title] .modal-title").innerHTML=n;i.querySelector('[data-name="mds-dtp-body"]').innerHTML=t;document.querySelector("body").appendChild(i)}else u.querySelector("[data-mds-dtp-title] .modal-title").innerHTML=n,u.querySelector('[data-name="mds-dtp-body"]').innerHTML=t;const f=document.querySelector(`[data-mds-dtp-guid="${this.guid}"] .modal-dialog`);null!=f?i.rangeSelector&&(i.rangeSelectorMonthsToShow[0]>0||i.rangeSelectorMonthsToShow[1]>0)?f.classList.add("modal-xl"):f.classList.remove("modal-xl"):console.warn("mds.bs.datetimepicker: element with `data-mds-dtp-guid` selector not found !")}getYearsBoxBodyHtml(n,t){n.yearOffset=Number(n.yearOffset);const c=r.getClonedDate(n.selectedDateToShow),l=r.getDisabledDateObject(n),o=l[0],s=l[1];let i,u,f=r.dateTimePickerYearsToSelectHtmlTemplate,h="",e=1;n.isGregorian?(u=r.getDateTimeJson1(c),i=r.getDateTimeJson1(new Date)):(u=r.getDateTimeJsonPersian1(c),i=r.getDateTimeJsonPersian1(new Date));e=1;const a=t||i.year-n.yearOffset,v=t?t+2*n.yearOffset:i.year+n.yearOffset;for(let t=a;t<v;t++){let c="";null!=o&&(c=t<o.year?"disabled":"");c||null==s||(c=t>s.year?"disabled":"");let l=r.getDateTimeJson2(r.convertToNumber2(t,u.month,r.getDaysInMonthPersian(t,u.month))),f="",y=n.isGregorian?t.toString():r.toPersianNumber(t),p=r.convertToNumber2(t,u.month,1),a=i.year==t?'data-current-year="true"':"",w=u.year==t?"data-selected-year":"",v="";a&&(v=n.isGregorian?r.currentYearText:r.currentYearTextPersian);null!=o&&null!=o.year&&l.year<o.year&&(f="disabled");null!=s&&null!=s.year&&l.year>s.year&&(f="disabled");n.disableBeforeToday&&l.year<i.year&&(f="disabled");n.disableAfterToday&&l.year>i.year&&(f="disabled");1==e&&(h+="<tr>");h+=`
<td class="text-center" title="${v}" ${a} ${w}>
  <button class="btn btn-sm btn-light w-100" type="button" data-change-date-button="true" data-number="${p}" ${f} ${c}>${y}</button>
</td>
`;5==e&&(h+="<\/tr>");e++;e>5&&(e=1)}return f=f.replace(/\{\{yearsBoxHtml\}\}/gim,h),f=f.replace(/\{\{cancelText\}\}/gim,n.isGregorian?r.cancelText:r.cancelTextPersian),n.inLine&&n.yearOffset>15&&(f+='<div style="height: 30px;"><\/div>'),{yearStart:a,yearEnd:v,html:f}}getYearsBoxHeaderHtml(n,t,i){const e=` ${t} - ${i-1} `,f=r.getDisabledDateObject(n);let u=r.popoverHeaderSelectYearHtmlTemplate;return u=u.replace(/\{{rtlCssClass\}\}/gim,n.isGregorian?"":"rtl"),u=u.replace(/\{{dirAttrValue\}\}/gim,n.isGregorian?"ltr":"rtl"),u=u.replace(/\{\{yearsRangeText\}\}/gim,n.isGregorian?e:r.toPersianNumber(e)),u=u.replace(/\{\{previousText\}\}/gim,n.isGregorian?r.previousText:r.previousTextPersian),u=u.replace(/\{\{nextText\}\}/gim,n.isGregorian?r.nextText:r.nextTextPersian),u=u.replace(/\{\{latestPreviousYear\}\}/gim,t>i?i.toString():t.toString()),u=u.replace(/\{\{latestNextYear\}\}/gim,t>i?t.toString():i.toString()),u=u.replace(/\{\{prevYearButtonAttr\}\}/gim,null!=f[0]&&t-1<f[0].year?"disabled":""),u=u.replace(/\{\{nextYearButtonAttr\}\}/gim,null!=f[1]&&i+1>f[1].year?"disabled":""),u}getDateTimePickerMonthHtml(n,t,i){let b=r.getClonedDate(n.selectedDateToShow),a=r.getClonedDate(b),lt=null!=n.selectedDate?r.getClonedDate(n.selectedDate):void 0,ri=t||i,u=r.dateTimePickerMonthTableHtmlTemplate;u=u.replace(/\{\{guid\}\}/gim,this.guid);u=u.replace(/\{\{monthTdAttribute\}\}/gim,t?"data-next-month":i?"data-prev-month":"");u=u.replace(/\{\{monthNameAttribute\}\}/gim,ri?"":"hidden");u=u.replace(/\{\{theadSelectDateButtonTrAttribute\}\}/gim,ri?"hidden":"");u=u.replace(/\{\{weekDayShortName1CssClass\}\}/gim,n.isGregorian?"text-danger":"");u=u.replace(/\{\{weekDayShortName7CssClass\}\}/gim,n.isGregorian?"":"text-danger");u=u.replace(/\{\{previousYearText\}\}/gim,n.isGregorian?r.previousYearText:r.previousYearTextPersian);u=u.replace(/\{\{previousMonthText\}\}/gim,n.isGregorian?r.previousMonthText:r.previousMonthTextPersian);u=u.replace(/\{\{nextMonthText\}\}/gim,n.isGregorian?r.nextMonthText:r.nextMonthTextPersian);u=u.replace(/\{\{nextYearText\}\}/gim,n.isGregorian?r.nextYearText:r.nextYearTextPersian);u=u.replace(/\{\{monthName1\}\}/gim,r.getMonthName(0,n.isGregorian));u=u.replace(/\{\{monthName2\}\}/gim,r.getMonthName(1,n.isGregorian));u=u.replace(/\{\{monthName3\}\}/gim,r.getMonthName(2,n.isGregorian));u=u.replace(/\{\{monthName4\}\}/gim,r.getMonthName(3,n.isGregorian));u=u.replace(/\{\{monthName5\}\}/gim,r.getMonthName(4,n.isGregorian));u=u.replace(/\{\{monthName6\}\}/gim,r.getMonthName(5,n.isGregorian));u=u.replace(/\{\{monthName7\}\}/gim,r.getMonthName(6,n.isGregorian));u=u.replace(/\{\{monthName8\}\}/gim,r.getMonthName(7,n.isGregorian));u=u.replace(/\{\{monthName9\}\}/gim,r.getMonthName(8,n.isGregorian));u=u.replace(/\{\{monthName10\}\}/gim,r.getMonthName(9,n.isGregorian));u=u.replace(/\{\{monthName11\}\}/gim,r.getMonthName(10,n.isGregorian));u=u.replace(/\{\{monthName12\}\}/gim,r.getMonthName(11,n.isGregorian));u=u.replace(/\{\{weekDayShortName1\}\}/gim,r.getWeekDayShortName(0,n.isGregorian));u=u.replace(/\{\{weekDayShortName2\}\}/gim,r.getWeekDayShortName(1,n.isGregorian));u=u.replace(/\{\{weekDayShortName3\}\}/gim,r.getWeekDayShortName(2,n.isGregorian));u=u.replace(/\{\{weekDayShortName4\}\}/gim,r.getWeekDayShortName(3,n.isGregorian));u=u.replace(/\{\{weekDayShortName5\}\}/gim,r.getWeekDayShortName(4,n.isGregorian));u=u.replace(/\{\{weekDayShortName6\}\}/gim,r.getWeekDayShortName(5,n.isGregorian));u=u.replace(/\{\{weekDayShortName7\}\}/gim,r.getWeekDayShortName(6,n.isGregorian));const ui=r.getDisabledDateObject(n);let ut,kt,h,f=0,s=0,dt=0,l=0,gt=0,fi="",ni=0,at=0,y=document.createElement("TR"),e=document.createElement("TD"),ft="",c=0,k=0,d=0,g=0,nt=0,vt=n.rangeSelector&&null!=n.rangeSelectorStartDate?r.getClonedDate(n.rangeSelectorStartDate):void 0,yt=n.rangeSelector&&null!=n.rangeSelectorEndDate?r.getClonedDate(n.rangeSelectorEndDate):void 0,p=0,w=0,et="0",ti="",o={month1DateNumber:0,month2DateNumber:0,month3DateNumber:0,month4DateNumber:0,month5DateNumber:0,month6DateNumber:0,month7DateNumber:0,month8DateNumber:0,month9DateNumber:0,month10DateNumber:0,month11DateNumber:0,month12DateNumber:0,selectMonth1ButtonCssClass:"",selectMonth2ButtonCssClass:"",selectMonth3ButtonCssClass:"",selectMonth4ButtonCssClass:"",selectMonth5ButtonCssClass:"",selectMonth6ButtonCssClass:"",selectMonth7ButtonCssClass:"",selectMonth8ButtonCssClass:"",selectMonth9ButtonCssClass:"",selectMonth10ButtonCssClass:"",selectMonth11ButtonCssClass:"",selectMonth12ButtonCssClass:""},pt=[],wt=[],bt=[],ei=ui[0],oi=ui[1],ot="",ht="",si="",ct="",st="",tt=!1;if(n.isGregorian){for(h=r.getDateTimeJson1(a),kt=r.getDateTimeJson1(new Date),ut=new Date(h.year,h.month-1,1).getDay(),gt=lt?r.convertToNumber1(r.getDateTimeJson1(lt)):0,ni=r.getDaysInMonth(h.year,h.month-1),at=r.getDaysInMonth(h.year,h.month-2),k=r.convertToNumber1(r.getDateTimeJson1(r.getLastDayDateOfPreviousMonth(a,!0))),d=r.convertToNumber1(r.getDateTimeJson1(r.getFirstDayDateOfNextMonth(a,!0))),a=r.getClonedDate(b),g=r.convertToNumber1(r.getDateTimeJson1(new Date(a.setFullYear(a.getFullYear()-1)))),a=r.getClonedDate(b),nt=r.convertToNumber1(r.getDateTimeJson1(new Date(a.setFullYear(a.getFullYear()+1)))),a=r.getClonedDate(b),p=n.rangeSelector&&vt?r.convertToNumber3(vt):0,w=n.rangeSelector&&yt?r.convertToNumber3(yt):0,f=1;f<=12;f++)o["month"+f.toString()+"DateNumber"]=r.convertToNumber1(r.getDateTimeJson1(new Date(a.setMonth(f-1)))),a=r.getClonedDate(b);for(f=0;f<n.holidays.length;f++)pt.push(r.convertToNumber1(r.getDateTimeJson1(n.holidays[f])));for(f=0;f<n.disabledDates.length;f++)wt.push(r.convertToNumber1(r.getDateTimeJson1(n.disabledDates[f])));for(f=0;f<n.specialDates.length;f++)bt.push(r.convertToNumber1(r.getDateTimeJson1(n.specialDates[f])))}else{for(h=r.getDateTimeJsonPersian1(a),kt=r.getDateTimeJsonPersian1(new Date),ut=r.getDateTimeJsonPersian2(h.year,h.month,1,0,0,0).dayOfWeek,gt=lt?r.convertToNumber1(r.getDateTimeJsonPersian1(lt)):0,ni=r.getDaysInMonthPersian(h.year,h.month),at=r.getDaysInMonthPersian(h.year-1,h.month-1),k=r.convertToNumber1(r.getDateTimeJsonPersian1(r.getLastDayDateOfPreviousMonth(a,!1))),a=r.getClonedDate(b),d=r.convertToNumber1(r.getDateTimeJsonPersian1(r.getFirstDayDateOfNextMonth(a,!1))),a=r.getClonedDate(b),g=r.convertToNumber2(h.year-1,h.month,h.day),nt=r.convertToNumber2(h.year+1,h.month,h.day),a=r.getClonedDate(b),p=n.rangeSelector&&vt?r.convertToNumber1(r.getDateTimeJsonPersian1(vt)):0,w=n.rangeSelector&&yt?r.convertToNumber1(r.getDateTimeJsonPersian1(yt)):0,f=1;f<=12;f++)o["month"+f.toString()+"DateNumber"]=r.convertToNumber2(h.year,f,r.getDaysInMonthPersian(h.year,f)),a=r.getClonedDate(b);for(f=0;f<n.holidays.length;f++)pt.push(r.convertToNumber1(r.getDateTimeJsonPersian1(n.holidays[f])));for(f=0;f<n.disabledDates.length;f++)wt.push(r.convertToNumber1(r.getDateTimeJsonPersian1(n.disabledDates[f])));for(f=0;f<n.specialDates.length;f++)bt.push(r.convertToNumber1(r.getDateTimeJsonPersian1(n.specialDates[f])))}let v=r.convertToNumber1(kt),ci=n.isGregorian?h.year.toString():r.toPersianNumber(h.year),it=ei?r.convertToNumber1(ei):void 0,rt=oi?r.convertToNumber1(oi):void 0,ii=r.getMonthName(h.month-1,n.isGregorian)+" "+h.year.toString();if(n.isGregorian||(ii=r.toPersianNumber(ii)),fi=r.getMonthName(h.month-1,n.isGregorian),n.yearOffset<=0&&(ot="disabled",st="disabled",si="disabled"),!n.isGregorian&&6!=ut||n.isGregorian&&0!=ut){n.isGregorian&&ut--;let t=r.addMonthToDateTimeJson(h,-1,n.isGregorian);for(f=at-ut;f<=at;f++)c=r.convertToNumber2(t.year,t.month,f),et=n.isGregorian?r.zeroPad(f):r.toPersianNumber(r.zeroPad(f)),e=document.createElement("TD"),e.setAttribute("data-nm",""),e.setAttribute("data-number",c.toString()),e.innerHTML=et,n.rangeSelector&&(c==p||c==w?e.classList.add("selected-range-days-start-end"):p>0&&w>0&&c>p&&c<w&&e.classList.add("selected-range-days-nm")),n.isGregorian||6!=l?n.isGregorian&&0==l&&e.classList.add("text-danger"):e.classList.add("text-danger"),y.appendChild(e),dt++,l++,l>=7&&(l=0,ft+=y.outerHTML,tt=!0,y=document.createElement("TR"))}for(f=1;f<=ni;f++){for(l>=7&&(l=0,ft+=y.outerHTML,tt=!0,y=document.createElement("TR")),c=r.convertToNumber2(h.year,h.month,f),et=n.isGregorian?r.zeroPad(f):r.toPersianNumber(r.zeroPad(f)),e=document.createElement("TD"),e.setAttribute("data-day",""),e.setAttribute("data-number",c.toString()),e.innerHTML=et,c==v&&(e.setAttribute("data-today",""),e.setAttribute("title",n.isGregorian?r.todayText:r.todayTextPersian),ti||(ti=r.getWeekDayName(l-1<0?0:l-1,n.isGregorian))),n.rangeSelector||gt!=c||(e.setAttribute("data-mds-dtp-selected-day",""),ti=r.getWeekDayName(l-1<0?0:l-1,n.isGregorian)),s=0;s<pt.length;s++)if(pt[s]==c){e.classList.add("text-danger");break}if(n.isGregorian||6!=l?n.isGregorian&&0==l&&e.classList.add("text-danger"):e.classList.add("text-danger"),n.disableBeforeToday)for(c<v&&e.setAttribute("disabled",""),d<v&&(ct="disabled"),nt<v&&(st="disabled"),k<v&&(ht="disabled"),g<v&&(ot="disabled"),s=1;s<=12;s++)o["month"+s.toString()+"DateNumber"]<v&&(o["selectMonth"+s.toString()+"ButtonCssClass"]="disabled");if(n.disableAfterToday)for(c>v&&e.setAttribute("disabled",""),d>v&&(ct="disabled"),nt>v&&(st="disabled"),k>v&&(ht="disabled"),g>v&&(ot="disabled"),s=1;s<=12;s++)o["month"+s.toString()+"DateNumber"]>v&&(o["selectMonth"+s.toString()+"ButtonCssClass"]="disabled");if(rt)for(c>rt&&e.setAttribute("disabled",""),d>rt&&(ct="disabled"),nt>rt&&(st="disabled"),k>rt&&(ht="disabled"),g>rt&&(ot="disabled"),s=1;s<=12;s++)o["month"+s.toString()+"DateNumber"]>rt&&(o["selectMonth"+s.toString()+"ButtonCssClass"]="disabled");if(it)for(c<it&&e.setAttribute("disabled",""),d<it&&(ct="disabled"),nt<it&&(st="disabled"),k<it&&(ht="disabled"),g<it&&(ot="disabled"),s=1;s<=12;s++)o["month"+s.toString()+"DateNumber"]<it&&(o["selectMonth"+s.toString()+"ButtonCssClass"]="disabled");for(s=0;s<wt.length;s++)c==wt[s]&&e.setAttribute("disabled","");for(s=0;s<bt.length;s++)c==bt[s]&&e.setAttribute("data-special-date","");null!=n.disabledDays&&n.disabledDays.length>0&&n.disabledDays.indexOf(l)>=0&&e.setAttribute("disabled","");n.rangeSelector&&(c==p||c==w?e.classList.add("selected-range-days-start-end"):p>0&&w>0&&c>p&&c<w&&e.classList.add("selected-range-days"));y.appendChild(e);tt=!1;l++;dt++}l>=7&&(l=0,ft+=y.outerHTML,tt=!0,y=document.createElement("TR"));let hi=r.addMonthToDateTimeJson(h,1,n.isGregorian);for(f=1;f<=42-dt;f++)et=n.isGregorian?r.zeroPad(f):r.toPersianNumber(r.zeroPad(f)),c=r.convertToNumber2(hi.year,hi.month,f),e=document.createElement("TD"),e.setAttribute("data-nm",""),e.setAttribute("data-number",c.toString()),e.innerHTML=et,n.rangeSelector&&(c==p||c==w?e.classList.add("selected-range-days-start-end"):p>0&&w>0&&c>p&&c<w&&e.classList.add("selected-range-days-nm")),n.isGregorian||6!=l?n.isGregorian&&0==l&&e.classList.add("text-danger"):e.classList.add("text-danger"),y.appendChild(e),l++,l>=7&&(l=0,ft+=y.outerHTML,tt=!0,y=document.createElement("TR"));return tt||(ft+=y.outerHTML,tt=!0),u=u.replace(/\{\{currentMonthInfo\}\}/gim,ii),u=u.replace(/\{\{selectedYear\}\}/gim,ci),u=u.replace(/\{\{selectedMonthName\}\}/gim,fi),u=u.replace(/\{\{daysHtml\}\}/gim,ft),u=u.replace(/\{\{previousYearButtonDisabledAttribute\}\}/gim,ot),u=u.replace(/\{\{previousYearButtonDateNumber\}\}/gim,g.toString()),u=u.replace(/\{\{previousMonthButtonDisabledAttribute\}\}/gim,ht),u=u.replace(/\{\{previousMonthButtonDateNumber\}\}/gim,k.toString()),u=u.replace(/\{\{selectYearButtonDisabledAttribute\}\}/gim,si),u=u.replace(/\{\{nextMonthButtonDisabledAttribute\}\}/gim,ct),u=u.replace(/\{\{nextMonthButtonDateNumber\}\}/gim,d.toString()),u=u.replace(/\{\{nextYearButtonDisabledAttribute\}\}/gim,st),u=u.replace(/\{\{nextYearButtonDateNumber\}\}/gim,nt.toString()),u=u.replace(/\{\{dropDownMenuMonth1DateNumber\}\}/gim,o.month1DateNumber),u=u.replace(/\{\{dropDownMenuMonth2DateNumber\}\}/gim,o.month2DateNumber),u=u.replace(/\{\{dropDownMenuMonth3DateNumber\}\}/gim,o.month3DateNumber),u=u.replace(/\{\{dropDownMenuMonth4DateNumber\}\}/gim,o.month4DateNumber),u=u.replace(/\{\{dropDownMenuMonth5DateNumber\}\}/gim,o.month5DateNumber),u=u.replace(/\{\{dropDownMenuMonth6DateNumber\}\}/gim,o.month6DateNumber),u=u.replace(/\{\{dropDownMenuMonth7DateNumber\}\}/gim,o.month7DateNumber),u=u.replace(/\{\{dropDownMenuMonth8DateNumber\}\}/gim,o.month8DateNumber),u=u.replace(/\{\{dropDownMenuMonth9DateNumber\}\}/gim,o.month9DateNumber),u=u.replace(/\{\{dropDownMenuMonth10DateNumber\}\}/gim,o.month10DateNumber),u=u.replace(/\{\{dropDownMenuMonth11DateNumber\}\}/gim,o.month11DateNumber),u=u.replace(/\{\{dropDownMenuMonth12DateNumber\}\}/gim,o.month12DateNumber),u=u.replace(/\{\{selectMonth1ButtonCssClass\}\}/gim,o.selectMonth1ButtonCssClass),u=u.replace(/\{\{selectMonth2ButtonCssClass\}\}/gim,o.selectMonth2ButtonCssClass),u=u.replace(/\{\{selectMonth3ButtonCssClass\}\}/gim,o.selectMonth3ButtonCssClass),u=u.replace(/\{\{selectMonth4ButtonCssClass\}\}/gim,o.selectMonth4ButtonCssClass),u=u.replace(/\{\{selectMonth5ButtonCssClass\}\}/gim,o.selectMonth5ButtonCssClass),u=u.replace(/\{\{selectMonth6ButtonCssClass\}\}/gim,o.selectMonth6ButtonCssClass),u=u.replace(/\{\{selectMonth7ButtonCssClass\}\}/gim,o.selectMonth7ButtonCssClass),u=u.replace(/\{\{selectMonth8ButtonCssClass\}\}/gim,o.selectMonth8ButtonCssClass),u=u.replace(/\{\{selectMonth9ButtonCssClass\}\}/gim,o.selectMonth9ButtonCssClass),u=u.replace(/\{\{selectMonth10ButtonCssClass\}\}/gim,o.selectMonth10ButtonCssClass),u=u.replace(/\{\{selectMonth11ButtonCssClass\}\}/gim,o.selectMonth11ButtonCssClass),u=u.replace(/\{\{selectMonth12ButtonCssClass\}\}/gim,o.selectMonth12ButtonCssClass),u}getPopoverHeaderTitle(n){let i,t="";if(i=n.isGregorian?r.getDateTimeJson1(n.selectedDateToShow):r.getDateTimeJsonPersian1(n.selectedDateToShow),n.rangeSelector){const f=r.addMonthToDateTime(n.selectedDateToShow,-n.rangeSelectorMonthsToShow[0],n.isGregorian),e=r.addMonthToDateTime(n.selectedDateToShow,n.rangeSelectorMonthsToShow[1],n.isGregorian);let i,u;n.isGregorian?(i=r.getDateTimeJson1(f),u=r.getDateTimeJson1(e)):(i=r.getDateTimeJsonPersian1(f),u=r.getDateTimeJsonPersian1(e));const o=r.getMonthName(i.month-1,n.isGregorian),s=r.getMonthName(u.month-1,n.isGregorian);t=`${o} ${i.year} - ${s} ${u.year}`}else t=`${r.getMonthName(i.month-1,n.isGregorian)} ${i.year}`;return n.isGregorian||(t=r.toPersianNumber(t)),t}getDateTimePickerBodyHtml(n){let e=r.getClonedDate(n.selectedDateToShow),t=r.dateTimePickerHtmlTemplate;t=t.replace(/\{\{inlineAttr\}\}/gim,n.inLine?"data-inline":"");t=t.replace(/\{\{rtlCssClass\}\}/gim,n.isGregorian?"":"rtl");t=t.replace(/\{\{selectedDateStringAttribute\}\}/gim,n.inLine?"":"hidden");t=t.replace(/\{\{goTodayText\}\}/gim,n.isGregorian?r.goTodayText:r.goTodayTextPersian);t=t.replace(/\{\{timePickerAttribute\}\}/gim,n.enableTimePicker?"":"hidden");const l=r.getDisabledDateObject(n);let s,i,a="",h="",u=l[0],f=l[1];n.isGregorian?(i=r.getDateTimeJson1(e),s=r.getDateTimeJson1(new Date)):(i=r.getDateTimeJsonPersian1(e),s=r.getDateTimeJsonPersian1(new Date));a=this.getPopoverHeaderTitle(n);h=`${n.isGregorian?"Today,":""} ${s.day} ${r.getMonthName(s.month-1,n.isGregorian)} ${s.year}`;n.isGregorian||(h=r.toPersianNumber(h));null!=f&&f.year<=i.year&&f.month<i.month&&(e=n.isGregorian?new Date(f.year,f.month-1,1):r.getDateTime1(f.year,f.month,f.day));null!=u&&u.year>=i.year&&u.month>i.month&&(e=n.isGregorian?new Date(u.year,u.month-1,1):r.getDateTime1(u.year,u.month,u.day));let o="",v=n.rangeSelectorMonthsToShow[1]<=0?0:n.rangeSelectorMonthsToShow[1],c=n.rangeSelectorMonthsToShow[0]<=0?0:n.rangeSelectorMonthsToShow[0];c*=-1;for(let t=c;t<0;t++)n.selectedDateToShow=r.addMonthToDateTime(r.getClonedDate(e),t,n.isGregorian),o+=this.getDateTimePickerMonthHtml(n,!1,!0);n.selectedDateToShow=r.getClonedDate(e);o+=this.getDateTimePickerMonthHtml(n,!1,!1);for(let t=1;t<=v;t++)n.selectedDateToShow=r.addMonthToDateTime(r.getClonedDate(e),t,n.isGregorian),o+=this.getDateTimePickerMonthHtml(n,!0,!1);let y=Math.abs(c)+1+v,p=y>1?"width: "+(100/y).toString()+"%;":"";return o=o.replace(/\{\{monthTdStyle\}\}/gim,p),t=t.replace(/\{\{dtpInlineHeader\}\}/gim,a),t=t.replace(/\{\{todayDateString\}\}/gim,h),t=t.replace(/\{\{time\}\}/gim,`${r.zeroPad(i.hour)}:${r.zeroPad(i.minute)}`),t=t.replace(/\{\{monthsTdHtml\}\}/gim,o),t}enableMainEvents(){if(!this.setting.inLine)if(null!=this.bsPopover)this.element.addEventListener("shown.bs.popover",this.popoverOrModalShownEvent),this.element.addEventListener("hidden.bs.popover",this.popoverOrModalHiddenEvent),this.element.addEventListener("inserted.bs.popover",this.popoverInsertedEvent),this.element.addEventListener("click",this.showPopoverEvent,!0);else if(null!=this.bsModal){const n=this.getModal();if(null==n)return void console.error("mds.bs.datetimepicker: `modalElement` not found!");n.addEventListener("shown.bs.modal",this.popoverOrModalShownEvent);n.addEventListener("hidden.bs.modal",this.popoverOrModalHiddenEvent)}}enableInLineEvents(){this.setting.inLine&&setTimeout(()=>{var t;const n=document.querySelector(`[data-mds-dtp-guid="${this.guid}"]`);null!=n&&(null===(t=n.querySelector("[data-mds-dtp-time]"))||void 0===t||t.addEventListener("change",this.timeChanged,!1),n.addEventListener("click",this.selectCorrectClickEvent),n.querySelectorAll("[data-day]").forEach(n=>n.addEventListener("mouseenter",this.hoverOnDays,!0)))},100)}enableEvents(){this.setting.inLine||setTimeout(()=>{document.addEventListener("click",this.selectCorrectClickEvent,!1),document.querySelector("html").addEventListener("click",this.hidePopoverEvent,!0),document.querySelectorAll("[data-mds-dtp-time]").forEach(n=>n.addEventListener("change",this.timeChanged,!1)),document.querySelectorAll("[data-mds-dtp] [data-day]").forEach(n=>n.addEventListener("mouseenter",this.hoverOnDays,!0))},500)}disableEvents(){var n,t;document.removeEventListener("click",this.selectCorrectClickEvent);document.querySelector("html").removeEventListener("click",this.hidePopoverEvent);null===(n=document.querySelectorAll("[data-mds-dtp-time]"))||void 0===n||n.forEach(n=>n.removeEventListener("change",this.timeChanged));document.querySelectorAll("[data-mds-dtp] [data-day]").forEach(n=>n.removeEventListener("mouseenter",this.hoverOnDays));const i=document.querySelector(`[data-mds-dtp-guid="${this.guid}"]`);null!=i&&(i.removeEventListener("click",this.selectCorrectClickEvent,!1),null===(t=i.querySelectorAll("[data-day]"))||void 0===t||t.forEach(n=>n.removeEventListener("mouseenter",this.hoverOnDays,!0)))}show(){var n,t;null===(n=this.bsModal)||void 0===n||n.show();null===(t=this.bsPopover)||void 0===t||t.show()}hide(){var n,t;null===(n=this.bsModal)||void 0===n||n.hide();null===(t=this.bsPopover)||void 0===t||t.hide()}toggle(){null!=this.bsPopover&&this.bsPopover.toggle()}enable(){this.setting.disabled=!1;this.element.removeAttribute("disabled");u.set(this.guid,this);null!=this.bsPopover&&this.bsPopover.enable()}disable(){this.setting.disabled=!0;this.element.setAttribute("disabled","");u.set(this.guid,this);null!=this.bsPopover&&this.bsPopover.disable()}updatePosition(){var n,t;null===(n=this.bsPopover)||void 0===n||n.update();null===(t=this.bsModal)||void 0===t||t.handleUpdate()}updateSelectedDateText(){r.setSelectedData(this.setting)}dispose(){null!=this.bsPopover&&this.bsPopover.dispose();null!=this.bsModal&&this.bsModal.dispose();this.element.removeEventListener("click",this.showPopoverEvent);this.bsPopover=null;this.bsModal=null}getBsPopoverInstance(){return this.bsPopover}getBsModalInstance(){return this.bsModal}getText(){return r.getSelectedDateFormatted(this.setting)}getSelectedDate(){return this.setting.selectedDate}getSelectedDateRange(){return this.setting.selectedRangeDate}setDate(n){this.updateOptions({selectedDate:n,selectedDateToShow:n})}setDatePersian(n,t,i){const u=r.toGregorian(n,t,i);console.log(u);const f=new Date(u.gy,u.gm-1,u.gd);this.updateOptions({selectedDate:f,selectedDateToShow:f})}setDateRange(n,t){this.updateOptions({selectedDate:n,selectedDateToShow:n,selectedRangeDate:[n,t]})}clearDate(){this.updateOptions({selectedDate:null,selectedDateToShow:new Date})}updateOption(n,t){n&&(t=r.correctOptionValue(n,t),this.setting[n]=t,u.set(this.guid,this),this.initializeBsPopover(this.setting))}updateOptions(n){Object.keys(n).forEach(t=>{this.setting[t]=r.correctOptionValue(t,n[t])});u.set(this.guid,this);this.initializeBsPopover(this.setting)}static getInstance(n){var i,r,f,e,o;let t=n.getAttribute("data-mds-dtp-guid");if(!t&&(t=null!==(r=null===(i=n.closest("[data-mds-dtp-guid]"))||void 0===i?void 0:i.getAttribute("data-mds-dtp-guid"))&&void 0!==r?r:null,!t)){const i=null===(f=n.closest("[data-mds-dtp]"))||void 0===f?void 0:f.getAttribute("id");if(!i||(t=null!==(o=null===(e=document.querySelector('[aria-describedby="'+i+'"]'))||void 0===e?void 0:e.getAttribute("data-mds-dtp-guid"))&&void 0!==o?o:null,!t))return null}return u.get(t)}}r.modalHtmlTemplate='<div data-mds-dtp data-mds-dtp-guid="{{guid}}" class="modal fade mds-bs-persian-datetime-picker-modal" tabindex="-1" role="dialog" aria-hidden="true">\n  <div class="modal-dialog">\n\t  <div class="modal-content">\n      <div class="modal-header" data-mds-dtp-title="true">\n        <h5 class="modal-title">Modal title<\/h5>\n      <\/div>\n      <div class="modal-body">\n        <div class="select-year-box w-0" data-mds-dtp-year-list-box="true"><\/div>\n        <div data-name="mds-dtp-body"><\/div>\n      <\/div>\n    <\/div>\n  <\/div>\n<\/div>';r.popoverHtmlTemplate='<div class="popover mds-bs-persian-datetime-picker-popover" role="tooltip" data-mds-dtp>\n<div class="popover-arrow"><\/div>\n<h3 class="popover-header text-center p-1" data-mds-dtp-title="true"><\/h3>\n<div class="popover-body p-0" data-name="mds-dtp-body"><\/div>\n<\/div>';r.popoverHeaderSelectYearHtmlTemplate='<table class="table table-sm table-borderless text-center p-0 m-0 {{rtlCssClass}}" dir="{{dirAttrValue}}">\n<tr>\n<th>\n<button type="button" class="btn btn-sm btn-light w-100" title="{{previousText}}" data-year="{{latestPreviousYear}}" data-year-range-button-change="-1" {{prevYearButtonAttr}}> &lt; <\/button>\n<\/th>\n<th class="pt-1">\n{{yearsRangeText}}\n<\/th>\n<th>\n<button type="button" class="btn btn-sm btn-light w-100" title="{{nextText}}" data-year="{{latestNextYear}}" data-year-range-button-change="1" {{nextYearButtonAttr}}> &gt; <\/button>\n<\/th>\n<\/tr>\n<\/table>';r.dateTimePickerYearsToSelectHtmlTemplate='<table class="table table-sm text-center p-0 m-0">\n<tbody>\n{{yearsBoxHtml}}\n<tr>\n<td colspan="100" class="text-center">\n<button class="btn btn-sm btn-light w-100" data-mds-hide-year-list-box="true">{{cancelText}}<\/button>\n<\/td>\n<\/tr>\n<\/tbody>\n<\/table>';r.dateTimePickerHtmlTemplate='<div class="mds-bs-dtp-container {{rtlCssClass}}" {{inlineAttr}}>\n<div class="select-year-inline-box w-0" data-name="dtp-years-container">\n<\/div>\n<div class="select-year-box w-0" data-mds-dtp-year-list-box="true"><\/div>\n<table class="table table-sm text-center p-0 m-0">\n<thead>\n<tr {{selectedDateStringAttribute}}>\n<th mds-dtp-inline-header colspan="100">{{dtpInlineHeader}}<\/th>\n<\/tr>\n<\/thead>\n<tbody>\n<tr>\n{{monthsTdHtml}}\n<\/tr>\n<\/tbody>\n<tfoot>\n<tr {{timePickerAttribute}}>\n<td colspan="100" class="text-center border-0">\n<input type="time" value="{{time}}" maxlength="2" data-mds-dtp-time />\n<\/td>\n<\/tr>\n<tr>\n<td colspan="100">\n<button type="button" class="btn btn-light" title="{{goTodayText}}" data-mds-dtp-go-today>{{todayDateString}}<\/button>\n<\/td>\n<\/tr>\n<\/tfoot>\n<\/table>\n<\/div>';r.dateTimePickerMonthTableHtmlTemplate='<td class="border-0" style="{{monthTdStyle}}" {{monthTdAttribute}} data-td-month>\n<table class="table table-sm table-striped table-borderless">\n<thead>\n<tr {{monthNameAttribute}}>\n<th colspan="100" class="border-0">\n<table class="table table-sm table-borderless">\n<thead>\n<tr>\n<th>\n<button type="button" class="btn btn-light"> {{currentMonthInfo}} <\/button>\n<\/th>\n<\/tr>\n<\/thead>\n<\/table>\n<\/th>\n<\/tr>\n<tr {{theadSelectDateButtonTrAttribute}}>\n<td colspan="100" class="border-0">\n<table class="table table-sm table-borderless">\n<tr>\n<th>\n<button type="button" class="btn btn-light btn-sm w-100" title="{{previousYearText}}" data-change-date-button="true" data-number="{{previousYearButtonDateNumber}}" {{previousYearButtonDisabledAttribute}}> &lt;&lt; <\/button>\n<\/th>\n<th>\n<button type="button" class="btn btn-light btn-sm w-100" title="{{previousMonthText}}" data-change-date-button="true" data-number="{{previousMonthButtonDateNumber}}" {{previousMonthButtonDisabledAttribute}}> &lt; <\/button>\n<\/th>\n<th style="width: 120px;">\n<div class="dropdown">\n<button type="button" class="btn btn-light btn-sm dropdown-toggle w-100" id="mdtp-month-selector-button-{{guid}}"\ndata-bs-toggle="dropdown" aria-expanded="false">\n{{selectedMonthName}}\n<\/button>\n<div class="dropdown-menu" aria-labelledby="mdtp-month-selector-button-{{guid}}">\n<a class="dropdown-item {{selectMonth1ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth1DateNumber}}">{{monthName1}}<\/a>\n<a class="dropdown-item {{selectMonth2ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth2DateNumber}}">{{monthName2}}<\/a>\n<a class="dropdown-item {{selectMonth3ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth3DateNumber}}">{{monthName3}}<\/a>\n<div class="dropdown-divider"><\/div>\n<a class="dropdown-item {{selectMonth4ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth4DateNumber}}">{{monthName4}}<\/a>\n<a class="dropdown-item {{selectMonth5ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth5DateNumber}}">{{monthName5}}<\/a>\n<a class="dropdown-item {{selectMonth6ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth6DateNumber}}">{{monthName6}}<\/a>\n<div class="dropdown-divider"><\/div>\n<a class="dropdown-item {{selectMonth7ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth7DateNumber}}">{{monthName7}}<\/a>\n<a class="dropdown-item {{selectMonth8ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth8DateNumber}}">{{monthName8}}<\/a>\n<a class="dropdown-item {{selectMonth9ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth9DateNumber}}">{{monthName9}}<\/a>\n<div class="dropdown-divider"><\/div>\n<a class="dropdown-item {{selectMonth10ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth10DateNumber}}">{{monthName10}}<\/a>\n<a class="dropdown-item {{selectMonth11ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth11DateNumber}}">{{monthName11}}<\/a>\n<a class="dropdown-item {{selectMonth12ButtonCssClass}}" data-change-date-button="true" data-number="{{dropDownMenuMonth12DateNumber}}">{{monthName12}}<\/a>\n<\/div>\n<\/div>\n<\/th>\n<th style="width: 50px;">\n<button type="button" class="btn btn-light btn-sm w-100" mds-pdtp-select-year-button {{selectYearButtonDisabledAttribute}}>{{selectedYear}}<\/button>\n<\/th>\n<th>\n<button type="button" class="btn btn-light btn-sm w-100" title="{{nextMonthText}}" data-change-date-button="true" data-number="{{nextMonthButtonDateNumber}}" {{nextMonthButtonDisabledAttribute}}> &gt; <\/button>\n<\/th>\n<th>\n<button type="button" class="btn btn-light btn-sm w-100" title="{{nextYearText}}" data-change-date-button="true" data-number="{{nextYearButtonDateNumber}}" {{nextYearButtonDisabledAttribute}}> &gt;&gt; <\/button>\n<\/th>\n<\/tr>\n<\/table>\n<\/td>\n<\/tr>\n<\/thead>\n<tbody class="days">\n<tr>\n<td class="{{weekDayShortName1CssClass}}">{{weekDayShortName1}}<\/td>\n<td>{{weekDayShortName2}}<\/td>\n<td>{{weekDayShortName3}}<\/td>\n<td>{{weekDayShortName4}}<\/td>\n<td>{{weekDayShortName5}}<\/td>\n<td>{{weekDayShortName6}}<\/td>\n<td class="{{weekDayShortName7CssClass}}">{{weekDayShortName7}}<\/td>\n<\/tr>\n{{daysHtml}}\n<\/tbody>\n<\/table>\n<\/td>';r.previousYearTextPersian=" ";r.previousMonthTextPersian=" ";r.previousTextPersian="";r.nextYearTextPersian=" ";r.nextMonthTextPersian=" ";r.nextTextPersian="";r.todayTextPersian="";r.goTodayTextPersian="  ";r.cancelTextPersian="";r.currentYearTextPersian=" ";r.previousText="Previous";r.previousYearText="Previous Year";r.previousMonthText="Previous Month";r.nextText="Next";r.nextYearText="Next Year";r.nextMonthText="Next Month";r.todayText="Today";r.goTodayText="Go Today";r.cancelText="Cancel";r.currentYearText="Current Year";r.shortDayNamesPersian=["","","","","","",""];r.shortDayNames=["Su","Mo","Tu","We","Th","Fr","Sa"];r.monthNamesPersian=["","","","","","","","","","","",""];r.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];r.weekDayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];r.weekDayNamesPersian=[" ",""," ",""," ","",""];r.convertDateToString=(n,t,i)=>r.getDateTimeString(t?r.getDateTimeJson1(n):r.getDateTimeJsonPersian1(n),i,t,!t);r.convertDateToJalali=n=>{const t=r.getDateTimeJson1(n),i=r.toJalali(t.year,t.month,t.day);return{year:i.jy,month:i.jm,day:i.jd}};class e{constructor(){this.placement="bottom";this.enableTimePicker=!1;this.targetTextSelector="";this.targetDateSelector="";this.toDate=!1;this.fromDate=!1;this.groupId="";this.disabled=!1;this.textFormat="";this.dateFormat="";this.isGregorian=!1;this.inLine=!1;this.selectedDate=null;this.selectedDateToShow=new Date;this.yearOffset=15;this.holidays=[];this.disabledDates=[];this.disabledDays=[];this.specialDates=[];this.disableBeforeToday=!1;this.disableAfterToday=!1;this.disableBeforeDate=null;this.disableAfterDate=null;this.rangeSelector=!1;this.rangeSelectorStartDate=null;this.rangeSelectorEndDate=null;this.rangeSelectorMonthsToShow=[0,0];this.selectedRangeDate=[];this.modalMode=!1;this.persianNumber=!1;this.calendarViewOnChange=()=>{};this.onDayClick=()=>{}}}const f=new Map;var u={set(n,t){f.has(n);f.set(n,t)},get:n=>f.get(n)||null,getAll:()=>Array.from(f,([,n])=>n),remove(n){f.has(n)&&f.delete(n)}}}},t={};n.d=(t,i)=>{for(var r in i)n.o(i,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})};n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}();n.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);n.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};n(348)})();typeof define!="undefined"?define(["jquery"],factory):factory(jQuery,factory);
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
(function(){function f(n,t,i){switch(i.length){case 0:return n.call(t);case 1:return n.call(t,i[0]);case 2:return n.call(t,i[0],i[1]);case 3:return n.call(t,i[0],i[1],i[2])}return n.apply(t,i)}function ph(n,t,i,r){for(var f=-1,e=n==null?0:n.length,u;++f<e;)u=n[f],t(r,u,i(u),n);return r}function c(n,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(n[i],i,n)===!1)break;return n}function wh(n,t){for(var i=n==null?0:n.length;i--;)if(t(n[i],i,n)===!1)break;return n}function re(n,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(!t(n[i],i,n))return!1;return!0}function tt(n,t){for(var i=-1,f=n==null?0:n.length,e=0,u=[],r;++i<f;)r=n[i],t(r,i,n)&&(u[e++]=r);return u}function pi(n,t){var i=n==null?0:n.length;return!!i&&yt(n,t,0)>-1}function br(n,t,i){for(var r=-1,u=n==null?0:n.length;++r<u;)if(i(t,n[r]))return!0;return!1}function r(n,t){for(var i=-1,r=n==null?0:n.length,u=Array(r);++i<r;)u[i]=t(n[i],i,n);return u}function it(n,t){for(var i=-1,r=t.length,u=n.length;++i<r;)n[u+i]=t[i];return n}function kr(n,t,i,r){var u=-1,f=n==null?0:n.length;for(r&&f&&(i=n[++u]);++u<f;)i=t(i,n[u],u,n);return i}function bh(n,t,i,r){var u=n==null?0:n.length;for(r&&u&&(i=n[--u]);u--;)i=t(i,n[u],u,n);return i}function dr(n,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(n[i],i,n))return!0;return!1}function kh(n){return n.split("")}function dh(n){return n.match(ss)||[]}function fe(n,t,i){var r;return i(n,function(n,i,u){if(t(n,i,u))return r=i,!1}),r}function wi(n,t,i,r){for(var f=n.length,u=i+(r?1:-1);r?u--:++u<f;)if(t(n[u],u,n))return u;return-1}function yt(n,t,i){return t===t?sc(n,t,i):wi(n,ee,i)}function gh(n,t,i,r){for(var u=i-1,f=n.length;++u<f;)if(r(n[u],t))return u;return-1}function ee(n){return n!==n}function oe(n,t){var i=n==null?0:n.length;return i?tu(n,t)/i:oi}function gr(t){return function(i){return i==null?n:i[t]}}function nu(t){return function(i){return t==null?n:t[i]}}function se(n,t,i,r,u){return u(n,function(n,u,f){i=r?(r=!1,n):t(i,n,u,f)}),i}function nc(n,t){var i=n.length;for(n.sort(t);i--;)n[i]=n[i].value;return n}function tu(t,i){for(var r,f=-1,e=t.length,u;++f<e;)u=i(t[f]),u!==n&&(r=r===n?u:r+u);return r}function iu(n,t){for(var i=-1,r=Array(n);++i<n;)r[i]=t(i);return r}function tc(n,t){return r(t,function(t){return[t,n[t]]})}function e(n){return function(t){return n(t)}}function ru(n,t){return r(t,function(t){return n[t]})}function ui(n,t){return n.has(t)}function he(n,t){for(var i=-1,r=n.length;++i<r&&yt(t,n[i],0)>-1;);return i}function ce(n,t){for(var i=n.length;i--&&yt(t,n[i],0)>-1;);return i}function ic(n,t){for(var i=n.length,r=0;i--;)n[i]===t&&++r;return r}function rc(n){return"\\"+lh[n]}function uc(t,i){return t==null?n:t[i]}function pt(n){return oh.test(n)}function fc(n){return sh.test(n)}function ec(n){for(var t,i=[];!(t=n.next()).done;)i.push(t.value);return i}function uu(n){var i=-1,t=Array(n.size);return n.forEach(function(n,r){t[++i]=[r,n]}),t}function ve(n,t){return function(i){return n(t(i))}}function rt(n,t){for(var i=-1,f=n.length,e=0,u=[],r;++i<f;)r=n[i],(r===t||r===fi)&&(n[i]=fi,u[e++]=i);return u}function bi(n){var i=-1,t=Array(n.size);return n.forEach(function(n){t[++i]=n}),t}function oc(n){var i=-1,t=Array(n.size);return n.forEach(function(n){t[++i]=[n,n]}),t}function sc(n,t,i){for(var r=i-1,u=n.length;++r<u;)if(n[r]===t)return r;return-1}function hc(n,t,i){for(var r=i+1;r--;)if(n[r]===t)return r;return r}function wt(n){return pt(n)?cc(n):ue(n)}function v(n){return pt(n)?lc(n):kh(n)}function cc(n){for(var t=yr.lastIndex=0;yr.test(n);)++t;return t}function lc(n){return n.match(yr)||[]}function ac(n){return n.match(eh)||[]}var n,pe="4.17.15",ki=200,we="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",di="__lodash_hash_undefined__",be=500,fi="__lodash_placeholder__",g=1,eu=2,ot=4,st=1,ei=2,s=1,ut=2,ou=4,y=8,ht=16,p=32,ct=64,b=128,bt=256,gi=512,ke=30,de="...",ge=800,no=16,su=1,to=2,io=3,ft=1/0,nt=9007199254740991,ro=17976931348623157e292,oi=NaN,w=4294967295,uo=w-1,fo=w>>>1,eo=[["ary",b],["bind",s],["bindKey",ut],["curry",y],["curryRight",ht],["flip",gi],["partial",p],["partialRight",ct],["rearg",bt]],lt="[object Arguments]",si="[object Array]",oo="[object AsyncFunction]",kt="[object Boolean]",dt="[object Date]",so="[object DOMException]",hi="[object Error]",ci="[object Function]",hu="[object GeneratorFunction]",l="[object Map]",gt="[object Number]",ho="[object Null]",k="[object Object]",cu="[object Promise]",co="[object Proxy]",ni="[object RegExp]",a="[object Set]",ti="[object String]",li="[object Symbol]",lo="[object Undefined]",ii="[object WeakMap]",ao="[object WeakSet]",ri="[object ArrayBuffer]",at="[object DataView]",nr="[object Float32Array]",tr="[object Float64Array]",ir="[object Int8Array]",rr="[object Int16Array]",ur="[object Int32Array]",fr="[object Uint8Array]",er="[object Uint8ClampedArray]",or="[object Uint16Array]",sr="[object Uint32Array]",vo=/\b__p \+= '';/g,yo=/\b(__p \+=) '' \+/g,po=/(__e\(.*?\)|\b__t\)) \+\n'';/g,lu=/&(?:amp|lt|gt|quot|#39);/g,au=/[&<>"']/g,wo=RegExp(lu.source),bo=RegExp(au.source),ko=/<%-([\s\S]+?)%>/g,go=/<%([\s\S]+?)%>/g,vu=/<%=([\s\S]+?)%>/g,ns=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ts=/^\w*$/,is=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hr=/[\\^$.*+?()[\]{}|]/g,rs=RegExp(hr.source),yu=/^\s+|\s+$/g,pu=/^\s+/,us=/\s+$/,fs=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,es=/\{\n\/\* \[wrapped with (.+)\] \*/,os=/,? & /,ss=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hs=/\\(\\)?/g,cs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wu=/\w*$/,ls=/^[-+]0x[0-9a-f]+$/i,as=/^0b[01]+$/i,vs=/^\[object .+?Constructor\]$/,ys=/^0o[0-7]+$/i,ps=/^(?:0|[1-9]\d*)$/,ws=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ai=/($^)/,bs=/['\n\r\u2028\u2029\\]/g,vi="\\ud800-\\udfff",bu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ku="\\u2700-\\u27bf",du="a-z\\xdf-\\xf6\\xf8-\\xff",gu="A-Z\\xc0-\\xd6\\xd8-\\xde",nf="\\ufe0e\\ufe0f",tf="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",cr="[']",ks="["+vi+"]",rf="["+tf+"]",yi="["+bu+"]",uf="\\d+",ds="["+ku+"]",ff="["+du+"]",ef="[^"+vi+tf+uf+ku+du+gu+"]",lr="\\ud83c[\\udffb-\\udfff]",gs="(?:"+yi+"|"+lr+")",sf="[^"+vi+"]",ar="(?:\\ud83c[\\udde6-\\uddff]){2}",vr="[\\ud800-\\udbff][\\udc00-\\udfff]",vt="["+gu+"]",hf="\\u200d",cf="(?:"+ff+"|"+ef+")",nh="(?:"+vt+"|"+ef+")",lf="(?:"+cr+"(?:d|ll|m|re|s|t|ve))?",af="(?:"+cr+"(?:D|LL|M|RE|S|T|VE))?",vf=gs+"?",yf="["+nf+"]?",th="(?:"+hf+"(?:"+[sf,ar,vr].join("|")+")"+yf+vf+")*",pf=yf+vf+th,ih="(?:"+[ds,ar,vr].join("|")+")"+pf,rh="(?:"+[sf+yi+"?",yi,ar,vr,ks].join("|")+")",uh=RegExp(cr,"g"),fh=RegExp(yi,"g"),yr=RegExp(lr+"(?="+lr+")|"+rh+pf,"g"),eh=RegExp([vt+"?"+ff+"+"+lf+"(?="+[rf,vt,"$"].join("|")+")",nh+"+"+af+"(?="+[rf,vt+cf,"$"].join("|")+")",vt+"?"+cf+"+"+lf,vt+"+"+af,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",uf,ih].join("|"),"g"),oh=RegExp("["+hf+vi+bu+nf+"]"),sh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ch=-1,i={},t,ue,le,ae,ye,fu,d;i[nr]=i[tr]=i[ir]=i[rr]=i[ur]=i[fr]=i[er]=i[or]=i[sr]=!0;i[lt]=i[si]=i[ri]=i[kt]=i[at]=i[dt]=i[hi]=i[ci]=i[l]=i[gt]=i[k]=i[ni]=i[a]=i[ti]=i[ii]=!1;t={};t[lt]=t[si]=t[ri]=t[at]=t[kt]=t[dt]=t[nr]=t[tr]=t[ir]=t[rr]=t[ur]=t[l]=t[gt]=t[k]=t[ni]=t[a]=t[ti]=t[li]=t[fr]=t[er]=t[or]=t[sr]=!0;t[hi]=t[ci]=t[ii]=!1;var lh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ah=parseFloat,vh=parseInt,wf=typeof global=="object"&&global&&global.Object===Object&&global,yh=typeof self=="object"&&self&&self.Object===Object&&self,u=wf||yh||Function("return this")(),pr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,et=pr&&typeof module=="object"&&module&&!module.nodeType&&module,bf=et&&et.exports===pr,wr=bf&&wf.process,h=function(){try{var n=et&&et.require&&et.require("util").types;return n?n:wr&&wr.binding&&wr.binding("util")}catch(t){}}(),kf=h&&h.isArrayBuffer,df=h&&h.isDate,gf=h&&h.isMap,ne=h&&h.isRegExp,te=h&&h.isSet,ie=h&&h.isTypedArray;ue=gr("length");le=nu({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});ae=nu({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});ye=nu({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});fu=function fu(h){function et(n){if(wr(n)&&!vi(n)&&!(n instanceof lr)){if(n instanceof vf)return n;if(vr.call(n,"__wrapped__"))return bd(n)}return new vf(n)}function ga(){}function vf(t,i){this.__wrapped__=t;this.__actions__=[];this.__chain__=!!i;this.__index__=0;this.__values__=n}function lr(n){this.__wrapped__=n;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=w;this.__views__=[]}function vit(){var n=new lr(this.__wrapped__);return n.__actions__=ff(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=ff(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=ff(this.__views__),n}function yit(){if(this.__filtered__){var n=new lr(this);n.__dir__=-1;n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function pit(){var n=this.__wrapped__.value(),f=this.__dir__,e=vi(n),o=f<0,s=e?n.length:0,h=pft(0,s,this.__views__),c=h.start,l=h.end,t=l-c,a=o?l:c-1,v=this.__iteratees__,d=v.length,y=0,p=nf(t,this.__takeCount__),r,u,i;if(!e||!o&&s==t&&p==t)return ek(n,this.__actions__);r=[];n:while(t--&&y<p){for(a+=f,u=-1,i=n[a];++u<d;){var w=v[u],g=w.iteratee,b=w.type,k=g(i);if(b==to)i=k;else if(!k)if(b==su)continue n;else break n}r[y++]=i}return r}function bc(n){var i=-1,r=n==null?0:n.length,t;for(this.clear();++i<r;)t=n[i],this.set(t[0],t[1])}function wit(){this.__data__=pl?pl(null):{};this.size=0}function bit(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function kit(t){var i=this.__data__,r;return pl?(r=i[t],r===di?n:r):vr.call(i,t)?i[t]:n}function dit(t){var i=this.__data__;return pl?i[t]!==n:vr.call(i,t)}function git(t,i){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=pl&&i===n?di:i,this}function th(n){var i=-1,r=n==null?0:n.length,t;for(this.clear();++i<r;)t=n[i],this.set(t[0],t[1])}function nrt(){this.__data__=[];this.size=0}function trt(n){var t=this.__data__,i=nv(t,n),r;return i<0?!1:(r=t.length-1,i==r?t.pop():ya.call(t,i,1),--this.size,!0)}function irt(t){var i=this.__data__,r=nv(i,t);return r<0?n:i[r][1]}function rrt(n){return nv(this.__data__,n)>-1}function urt(n,t){var i=this.__data__,r=nv(i,n);return r<0?(++this.size,i.push([n,t])):i[r][1]=t,this}function ih(n){var i=-1,r=n==null?0:n.length,t;for(this.clear();++i<r;)t=n[i],this.set(t[0],t[1])}function frt(){this.size=0;this.__data__={hash:new bc,map:new(vl||th),string:new bc}}function ert(n){var t=yv(this,n)["delete"](n);return this.size-=t?1:0,t}function ort(n){return yv(this,n).get(n)}function srt(n){return yv(this,n).has(n)}function hrt(n,t){var i=yv(this,n),r=i.size;return i.set(n,t),this.size+=i.size==r?0:1,this}function kc(n){var t=-1,i=n==null?0:n.length;for(this.__data__=new ih;++t<i;)this.add(n[t])}function crt(n){return this.__data__.set(n,di),this}function lrt(n){return this.__data__.has(n)}function ss(n){var t=this.__data__=new th(n);this.size=t.size}function art(){this.__data__=new th;this.size=0}function vrt(n){var t=this.__data__,i=t["delete"](n);return this.size=t.size,i}function yrt(n){return this.__data__.get(n)}function prt(n){return this.__data__.has(n)}function wrt(n,t){var i=this.__data__,r;if(i instanceof th){if(r=i.__data__,!vl||r.length<ki-1)return r.push([n,t]),this.size=++i.size,this;i=this.__data__=new ih(r)}return i.set(n,t),this.size=i.size,this}function eb(n,t){var r=vi(n),u=!r&&tl(n),f=!r&&!u&&yh(n),o=!r&&!u&&!f&&il(n),s=r||u||f||o,e=s?iu(n.length,ytt):[],h=e.length;for(var i in n)!(t||vr.call(n,i))||s&&(i=="length"||f&&(i=="offset"||i=="parent")||o&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||lh(i,h))||e.push(i);return e}function ob(t){var i=t.length;return i?t[gy(0,i-1)]:n}function brt(n,t){return pv(ff(n),dc(t,0,n.length))}function krt(n){return pv(ff(n))}function hy(t,i,r){(r===n||ks(t[i],r))&&(r!==n||i in t)||rh(t,i,r)}function bl(t,i,r){var u=t[i];vr.call(t,i)&&ks(u,r)&&(r!==n||i in t)||rh(t,i,r)}function nv(n,t){for(var i=n.length;i--;)if(ks(n[i][0],t))return i;return-1}function drt(n,t,i,r){return eh(n,function(n,u,f){t(r,n,i(n),f)}),r}function sb(n,t){return n&&gs(t,du(t),n)}function grt(n,t){return n&&gs(t,sf(t),n)}function rh(n,t,i){t=="__proto__"&&pa?pa(n,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[t]=i}function cy(t,i){for(var r=-1,u=i.length,f=bu(u),e=t==null;++r<u;)f[r]=e?n:ew(t,i[r]);return f}function dc(t,i,r){return t===t&&(r!==n&&(t=t<=r?t:r),i!==n&&(t=t>=i?t:i)),t}function yf(i,r,u,f,e,o){var s,l=r&g,a=r&eu,d=r&ot,v,h,y,p,b,w;if(u&&(s=e?u(i,f,e,o):u(i)),s!==n)return s;if(!pr(i))return i;if(v=vi(i),v){if(s=bft(i),!l)return ff(i,s)}else{if(h=tf(i),y=h==ci||h==hu,yh(i))return hk(i,l);if(h==k||h==lt||y&&!e){if(s=a||y?{}:sd(i),!l)return a?oft(i,grt(s,i)):eft(i,sb(s,i))}else{if(!t[h])return e?i:{};s=kft(i,h,l)}}return(o||(o=new ss),p=o.get(i),p)?p:(o.set(i,s),fw(i)?i.forEach(function(n){s.add(yf(n,r,u,n,i,o))}):uw(i)&&i.forEach(function(n,t){s.set(t,yf(n,r,u,t,i,o))}),b=d?a?ap:lp:a?sf:du,w=v?n:b(i),c(w||i,function(n,t){w&&(t=n,n=i[t]);bl(s,t,yf(n,r,u,t,i,o))}),s)}function nut(n){var t=du(n);return function(i){return hb(i,n,t)}}function hb(t,i,r){var u=r.length;if(t==null)return!u;for(t=yr(t);u--;){var f=r[u],o=i[f],e=t[f];if(e===n&&!(f in t)||!o(e))return!1}return!0}function cb(t,i,r){if(typeof t!="function")throw new af(o);return ra(function(){t.apply(n,r)},i)}function kl(n,t,i,u){var a=-1,h=pi,c=!0,v=n.length,s=[],y=t.length,f,o,l;if(!v)return s;i&&(t=r(t,e(i)));u?(h=br,c=!1):t.length>=ki&&(h=ui,c=!1,t=new kc(t));n:while(++a<v)if(f=n[a],o=i==null?f:i(f),f=u||f!==0?f:0,c&&o===o){for(l=y;l--;)if(t[l]===o)continue n;s.push(f)}else h(t,o,u)||s.push(f);return s}function tut(n,t){var i=!0;return eh(n,function(n,r,u){return i=!!t(n,r,u)}),i}function tv(t,i,r){for(var o=-1,h=t.length,f,u,e,s;++o<h;)f=t[o],u=i(f),u!=null&&(e===n?u===u&&!lf(u):r(u,e))&&(e=u,s=f);return s}function iut(t,i,r,u){var f=t.length;for(r=yi(r),r<0&&(r=-r>f?0:f+r),u=u===n||u>f?f:yi(u),u<0&&(u+=f),u=r>u?0:an(u);r<u;)t[r++]=i;return t}function lb(n,t){var i=[];return eh(n,function(n,r,u){t(n,r,u)&&i.push(n)}),i}function gu(n,t,i,r,u){var e=-1,o=n.length,f;for(i||(i=gft),u||(u=[]);++e<o;)f=n[e],t>0&&i(f)?t>1?gu(f,t-1,i,r,u):it(u,f):r||(u[u.length]=f);return u}function ds(n,t){return n&&iv(n,t,du)}function vy(n,t){return n&&ay(n,t,du)}function rv(n,t){return tt(t,function(t){return kh(n[t])})}function ol(t,i){i=vc(i,t);for(var r=0,u=i.length;t!=null&&r<u;)t=t[nh(i[r++])];return r&&r==u?t:n}function ab(n,t,i){var r=t(n);return vi(n)?r:it(r,i(n))}function rf(t){return t==null?t===n?lo:ho:pc&&pc in yr(t)?yft(t):fet(t)}function yy(n,t){return n>t}function rut(n,t){return n!=null&&vr.call(n,t)}function uut(n,t){return n!=null&&t in yr(n)}function fut(n,t,i){return n>=nf(t,i)&&n<ku(t,i)}function py(t,i,u){for(var b=u?br:pi,k=t[0].length,a=t.length,f=a,v=bu(a),y=Infinity,l=[],o,p,c,s,h,w;f--;)o=t[f],f&&i&&(o=r(o,e(i))),y=nf(o.length,y),v[f]=!u&&(i||k>=120&&o.length>=120)?new kc(f&&o):n;o=t[0];p=-1;c=v[0];n:while(++p<k&&l.length<y)if(s=o[p],h=i?i(s):s,s=u||s!==0?s:0,!(c?ui(c,h):b(l,h,u))){for(f=a;--f;)if(w=v[f],!(w?ui(w,h):b(t[f],h,u)))continue n;c&&c.push(h);l.push(s)}return l}function eut(n,t,i,r){return ds(n,function(n,u,f){t(r,i(n),u,f)}),r}function dl(t,i,r){i=vc(i,t);t=vd(t,i);var u=t==null?t:t[nh(wf(i))];return u==null?n:f(u,t,r)}function vb(n){return wr(n)&&rf(n)==lt}function out(n){return wr(n)&&rf(n)==ri}function sut(n){return wr(n)&&rf(n)==dt}function gl(n,t,i,r,u){return n===t?!0:n==null||t==null||!wr(n)&&!wr(t)?n!==n&&t!==t:hut(n,t,i,r,gl,u)}function hut(n,t,i,r,u,f){var s=vi(n),p=vi(t),e=s?si:tf(n),o=p?si:tf(t),l,a,v,y;e=e==lt?k:e;o=o==lt?k:o;var h=e==k,w=o==k,c=e==o;if(c&&yh(n)){if(!yh(t))return!1;s=!0;h=!1}return c&&!h?(f||(f=new ss),s||il(n)?fd(n,t,i,r,u,f):aft(n,t,e,i,r,u,f)):!(i&st)&&(l=h&&vr.call(n,"__wrapped__"),a=w&&vr.call(t,"__wrapped__"),l||a)?(v=l?n.value():n,y=a?t.value():t,f||(f=new ss),u(v,y,i,r,f)):c?(f||(f=new ss),vft(n,t,i,r,u,f)):!1}function cut(n){return wr(n)&&tf(n)==l}function wy(t,i,r,u){var e=r.length,l=e,a=!u,f,h,c;if(t==null)return!l;for(t=yr(t);e--;)if(f=r[e],a&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1;while(++e<l){f=r[e];var o=f[0],s=t[o],v=f[1];if(a&&f[2]){if(s===n&&!(o in t))return!1}else if(h=new ss,u&&(c=u(s,v,o,t,i,h)),!(c===n?gl(v,s,st|ei,u,h):c))return!1}return!0}function yb(n){if(!pr(n)||tet(n))return!1;var t=kh(n)?dtt:vs;return t.test(nl(n))}function lut(n){return wr(n)&&rf(n)==ni}function aut(n){return wr(n)&&tf(n)==a}function vut(n){return wr(n)&&ny(n.length)&&!!i[rf(n)]}function pb(n){return typeof n=="function"?n:n==null?hf:typeof n=="object"?vi(n)?kb(n[0],n[1]):bb(n):ltt(n)}function by(n){var i,t;if(!ia(n))return uit(n);i=[];for(t in yr(n))vr.call(n,t)&&t!="constructor"&&i.push(t);return i}function yut(n){var r,i,t;if(!pr(n))return uet(n);r=ia(n);i=[];for(t in n)t=="constructor"&&(r||!vr.call(n,t))||i.push(t);return i}function ky(n,t){return n<t}function wb(n,t){var r=-1,i=ef(n)?bu(n.length):[];return eh(n,function(n,u,f){i[++r]=t(n,u,f)}),i}function bb(n){var t=vp(n);return t.length==1&&t[0][2]?ld(t[0][0],t[0][1]):function(i){return i===n||wy(i,n,t)}}function kb(t,i){return pp(t)&&cd(i)?ld(nh(t),i):function(r){var u=ew(r,t);return u===n&&u===i?ow(r,t):gl(i,u,st|ei)}}function uv(t,i,r,u,f){t!==i&&iv(i,function(e,o){if(f||(f=new ss),pr(e))put(t,i,o,r,uv,u,f);else{var s=u?u(bp(t,o),e,o+"",t,i,f):n;s===n&&(s=e);hy(t,o,s)}},sf)}function put(t,i,r,u,f,e,o){var c=bp(t,r),s=bp(i,r),y=o.get(s),h,l;if(y){hy(t,r,y);return}if(h=e?e(c,s,r+"",t,i,o):n,l=h===n,l){var a=vi(s),v=!a&&yh(s),p=!a&&!v&&il(s);h=s;a||v||p?vi(c)?h=c:nu(c)?h=ff(c):v?(l=!1,h=hk(s,!0)):p?(l=!1,h=ck(s,!0)):h=[]:fa(s)||tl(s)?(h=c,tl(c)?h=vn(c):(!pr(c)||kh(c))&&(h=sd(s))):l=!1}l&&(o.set(s,h),f(h,s,u,e,o),o["delete"](s));hy(t,r,h)}function db(t,i){var r=t.length;if(r)return i+=i<0?r:0,lh(i,r)?t[i]:n}function gb(n,t,i){var f=-1,u;return t=r(t.length?t:[hf],e(vt())),u=wb(n,function(n){var i=r(t,function(t){return t(n)});return{criteria:i,index:++f,value:n}}),nc(u,function(n,t){return fft(n,t,i)})}function wut(n,t){return nk(n,t,function(t,i){return ow(n,i)})}function nk(n,t,i){for(var f=-1,o=t.length,e={},r,u;++f<o;)r=t[f],u=ol(n,r),i(u,r)&&na(e,vc(r,n),u);return e}function but(n){return function(t){return ol(t,n)}}function dy(n,t,i,u){var c=u?gh:yt,s=-1,l=t.length,f=n;for(n===t&&(t=ff(t)),i&&(f=r(n,e(i)));++s<l;)for(var o=0,h=t[s],a=i?i(h):h;(o=c(f,a,o,u))>-1;)f!==n&&ya.call(f,o,1),ya.call(n,o,1);return n}function tk(n,t){for(var r=n?t.length:0,f=r-1,i,u;r--;)i=t[r],(r==f||i!==u)&&(u=i,lh(i)?ya.call(n,i,1):rp(n,i));return n}function gy(n,t){return n+ba(ub()*(t-n+1))}function kut(n,t,i,r){for(var e=-1,u=ku(wa((t-n)/(i||1)),0),f=bu(u);u--;)f[r?u:++e]=n,n+=i;return f}function np(n,t){var i="";if(!n||t<1||t>nt)return i;do t%2&&(i+=n),t=ba(t/2),t&&(n+=n);while(t);return i}function cr(n,t){return kp(ad(n,t,hf),n+"")}function dut(n){return ob(ll(n))}function gut(n,t){var i=ll(n);return pv(i,dc(t,0,i.length))}function na(t,i,r,u){var e,o,h;if(!pr(t))return t;i=vc(i,t);for(var s=-1,c=i.length,l=c-1,f=t;f!=null&&++s<c;)e=nh(i[s]),o=r,s!=l&&(h=f[e],o=u?u(h,e,f):n,o===n&&(o=pr(h)?h:lh(i[s+1])?[]:{})),bl(f,e,o),f=f[e];return t}function nft(n){return pv(ll(n))}function pf(n,t,i){var u=-1,r=n.length,f;for(t<0&&(t=-t>r?0:r+t),i=i>r?r:i,i<0&&(i+=r),r=t>i?0:i-t>>>0,t>>>=0,f=bu(r);++u<r;)f[u]=n[u+t];return f}function tft(n,t){var i;return eh(n,function(n,r,u){return i=t(n,r,u),!i}),!!i}function fv(n,t,i){var f=0,r=n==null?f:n.length,e,u;if(typeof t=="number"&&t===t&&r<=fo){while(f<r)e=f+r>>>1,u=n[e],u!==null&&!lf(u)&&(i?u<=t:u<t)?f=e+1:r=e;return r}return ip(n,t,hf,i)}function ip(t,i,r,u){var v;i=r(i);for(var s=0,e=t==null?0:t.length,y=i!==i,p=i===null,w=lf(i),b=i===n;s<e;){var h=ba((s+e)/2),f=r(t[h]),c=f!==n,l=f===null,o=f===f,a=lf(f);v=y?u||o:b?o&&(u||c):p?o&&c&&(u||!l):w?o&&c&&!l&&(u||!a):l||a?!1:u?f<=i:f<i;v?s=h+1:e=h}return nf(e,uo)}function rk(n,t){for(var r=-1,o=n.length,s=0,f=[],i,u,e;++r<o;)i=n[r],u=t?t(i):i,r&&ks(u,e)||(e=u,f[s++]=i===0?0:i);return f}function uk(n){return typeof n=="number"?n:lf(n)?oi:+n}function cf(n){if(typeof n=="string")return n;if(vi(n))return r(n,cf)+"";if(lf(n))return fb?fb.call(n):"";var t=n+"";return t=="0"&&1/n==-ft?"-0":t}function lc(n,t,i){var l=-1,o=pi,a=n.length,s=!0,e=[],r=e,h,u,f,c;if(i)s=!1,o=br;else if(a>=ki){if(h=t?null:td(n),h)return bi(h);s=!1;o=ui;r=new kc}else r=t?[]:e;n:while(++l<a)if(u=n[l],f=t?t(u):u,u=i||u!==0?u:0,s&&f===f){for(c=r.length;c--;)if(r[c]===f)continue n;t&&r.push(f);e.push(u)}else o(r,f,i)||(r!==e&&r.push(f),e.push(u));return e}function rp(n,t){return t=vc(t,n),n=vd(n,t),n==null||delete n[nh(wf(t))]}function fk(n,t,i,r){return na(n,t,i(ol(n,t)),r)}function ev(n,t,i,r){for(var f=n.length,u=r?f:-1;(r?u--:++u<f)&&t(n[u],u,n););return i?pf(n,r?0:u,r?u+1:f):pf(n,r?u+1:0,r?f:u)}function ek(n,t){var i=n;return i instanceof lr&&(i=i.value()),kr(t,function(n,t){return t.func.apply(t.thisArg,it([n],t.args))},i)}function up(n,t,i){var u=n.length,r,f,o,e;if(u<2)return u?lc(n[0]):[];for(r=-1,f=bu(u);++r<u;)for(o=n[r],e=-1;++e<u;)e!=r&&(f[r]=kl(f[r]||o,n[e],t,i));return lc(gu(f,1),t,i)}function ok(t,i,r){for(var u=-1,o=t.length,s=i.length,f={},e;++u<o;)e=u<s?i[u]:n,r(f,t[u],e);return f}function fp(n){return nu(n)?n:[]}function ep(n){return typeof n=="function"?n:hf}function vc(n,t){return vi(n)?n:pp(n,t)?[n]:dp(ar(n))}function yc(t,i,r){var u=t.length;return r=r===n?u:r,!i&&r>=u?t:pf(t,i,r)}function hk(n,t){if(t)return n.slice();var i=n.length,r=gw?gw(i):new n.constructor(i);return n.copy(r),r}function sp(n){var t=new n.constructor(n.byteLength);return new aa(t).set(new aa(n)),t}function ift(n,t){var i=t?sp(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}function rft(n){var t=new n.constructor(n.source,wu.exec(n));return t.lastIndex=n.lastIndex,t}function uft(n){return wl?yr(wl.call(n)):{}}function ck(n,t){var i=t?sp(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}function lk(t,i){if(t!==i){var o=t!==n,s=t===null,r=t===t,u=lf(t),h=i!==n,c=i===null,f=i===i,e=lf(i);if(!c&&!e&&!u&&t>i||u&&h&&f&&!c&&!e||s&&h&&f||!o&&f||!r)return 1;if(!s&&!u&&!e&&t<i||e&&o&&r&&!s&&!u||c&&o&&r||!h&&r||!f)return-1}return 0}function fft(n,t,i){for(var r=-1,f=n.criteria,o=t.criteria,s=f.length,h=i.length,u,e;++r<s;)if(u=lk(f[r],o[r]),u)return r>=h?u:(e=i[r],u*(e=="desc"?-1:1));return n.index-t.index}function ak(n,t,i,r){for(var u=-1,o=n.length,s=i.length,f=-1,h=t.length,c=ku(o-s,0),e=bu(h+c),l=!r;++f<h;)e[f]=t[f];while(++u<s)(l||u<o)&&(e[i[u]]=n[u]);while(c--)e[f++]=n[u++];return e}function vk(n,t,i,r){for(var u=-1,s=n.length,h=-1,c=i.length,e=-1,l=t.length,a=ku(s-c,0),f=bu(a+l),v=!r,o;++u<a;)f[u]=n[u];for(o=u;++e<l;)f[o+e]=t[e];while(++h<c)(v||u<s)&&(f[o+i[h]]=n[u++]);return f}function ff(n,t){var i=-1,r=n.length;for(t||(t=bu(r));++i<r;)t[i]=n[i];return t}function gs(t,i,r,u){var h=!r,o,s,f,e;for(r||(r={}),o=-1,s=i.length;++o<s;)f=i[o],e=u?u(r[f],t[f],f,r,t):n,e===n&&(e=t[f]),h?rh(r,f,e):bl(r,f,e);return r}function eft(n,t){return gs(n,yp(n),t)}function oft(n,t){return gs(n,ed(n),t)}function ov(n,t){return function(i,r){var u=vi(i)?ph:drt,f=t?t():{};return u(i,n,vt(r,2),f)}}function sl(t){return cr(function(i,r){var e=-1,u=r.length,f=u>1?r[u-1]:n,s=u>2?r[2]:n,o;for(f=t.length>3&&typeof f=="function"?(u--,f):n,s&&uf(r[0],r[1],s)&&(f=u<3?n:f,u=1),i=yr(i);++e<u;)o=r[e],o&&t(i,o,e,f);return i})}function yk(n,t){return function(i,r){if(i==null)return i;if(!ef(i))return n(i,r);for(var f=i.length,u=t?f:-1,e=yr(i);t?u--:++u<f;)if(r(e[u],u,e)===!1)break;return i}}function pk(n){return function(t,i,r){for(var s=-1,f=yr(t),e=r(t),o=e.length,u;o--;)if(u=e[n?o:++s],i(f[u],u,f)===!1)break;return t}}function sft(n,t,i){function r(){var t=this&&this!==u&&this instanceof r?e:n;return t.apply(f?i:this,arguments)}var f=t&s,e=ta(n);return r}function wk(t){return function(i){i=ar(i);var r=pt(i)?v(i):n,u=r?r[0]:i.charAt(0),f=r?yc(r,1).join(""):i.slice(1);return u[t]()+f}}function hl(n){return function(t){return kr(ftt(ttt(t).replace(uh,"")),n,"")}}function ta(n){return function(){var t=arguments,i,r;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}return i=wc(n.prototype),r=n.apply(i,t),pr(r)?r:i}}function hft(t,i,r){function e(){for(var s=arguments.length,h=bu(s),c=s,l=cl(e),a,v;c--;)h[c]=arguments[c];return(a=s<3&&h[0]!==l&&h[s-1]!==l?[]:rt(h,l),s-=a.length,s<r)?nd(t,i,sv,e.placeholder,n,h,a,n,n,r-s):(v=this&&this!==u&&this instanceof e?o:t,f(v,this,h))}var o=ta(t);return e}function bk(t){return function(i,r,u){var e=yr(i),o,f;return ef(i)||(o=vt(r,3),i=du(i),r=function(n){return o(e[n],n,e)}),f=t(i,r,u),f>-1?e[o?i[f]:f]:n}}function kk(t){return sh(function(i){var s=i.length,e=s,c=vf.prototype.thru,u,r,h,f;for(t&&i.reverse();e--;){if(u=i[e],typeof u!="function")throw new af(o);c&&!r&&vv(u)=="wrapper"&&(r=new vf([],!0))}for(e=r?e:s;++e<s;)u=i[e],h=vv(u),f=h=="wrapper"?av(u):n,r=f&&wp(f[0])&&f[1]==(b|y|p|bt)&&!f[4].length&&f[9]==1?r[vv(f[0])].apply(r,f[3]):u.length==1&&wp(u)?r[h]():r.thru(u);return function(){var u=arguments,f=u[0],n,t;if(r&&u.length==1&&vi(f))return r.plant(f).value();for(n=0,t=s?i[n].apply(this,u):f;++n<s;)t=i[n].call(this,t);return t}})}function sv(t,i,r,f,e,o,h,c,l,a){function p(){for(var s=arguments.length,n=bu(s),b=s,tt,ut,ft,it,y;b--;)n[b]=arguments[b];return(v&&(tt=cl(p),ut=ic(n,tt)),f&&(n=ak(n,f,e,v)),o&&(n=vk(n,o,h,v)),s-=ut,v&&s<a)?(ft=rt(n,tt),nd(t,i,sv,p.placeholder,r,n,ft,c,l,a-s)):(it=d?r:this,y=w?it[t]:t,s=n.length,c?n=eet(n,c):g&&s>1&&n.reverse(),k&&l<s&&(n.length=l),this&&this!==u&&this instanceof p&&(y=nt||ta(y)),y.apply(it,n))}var k=i&b,d=i&s,w=i&ut,v=i&(y|ht),g=i&gi,nt=w?n:ta(t);return p}function dk(n,t){return function(i,r){return eut(i,n,t(r),{})}}function hv(t,i){return function(r,u){var f;if(r===n&&u===n)return i;if(r!==n&&(f=r),u!==n){if(f===n)return u;typeof r=="string"||typeof u=="string"?(r=cf(r),u=cf(u)):(r=uk(r),u=uk(u));f=t(r,u)}return f}}function hp(n){return sh(function(t){return t=r(t,e(vt())),cr(function(i){var r=this;return n(t,function(n){return f(n,r,i)})})})}function cv(t,i){var r,u;return(i=i===n?" ":cf(i),r=i.length,r<2)?r?np(i,t):i:(u=np(i,wa(t/wt(i))),pt(i)?yc(v(u),0,t).join(""):u.slice(0,t))}function cft(n,t,i,r){function e(){for(var a=-1,c=arguments.length,t=-1,l=r.length,s=bu(l+c),v=this&&this!==u&&this instanceof e?h:n;++t<l;)s[t]=r[t];while(c--)s[t++]=arguments[++a];return f(v,o?i:this,s)}var o=t&s,h=ta(n);return e}function gk(t){return function(i,r,u){return u&&typeof u!="number"&&uf(i,r,u)&&(r=u=n),i=sc(i),r===n?(r=i,i=0):r=sc(r),u=u===n?i<r?1:-1:sc(u),kut(i,r,u,t)}}function lv(n){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=ue(t),i=ue(i)),n(t,i)}}function nd(t,i,r,u,f,e,o,h,c,l){var a=i&y,b=a?o:n,k=a?n:o,d=a?e:n,g=a?n:e,w,v;return i|=a?p:ct,i&=~(a?ct:p),i&ou||(i&=~(s|ut)),w=[t,i,f,d,b,g,k,h,c,l],v=r.apply(n,w),wp(t)&&yd(v,w),v.placeholder=u,pd(v,t,i)}function cp(n){var t=rl[n];return function(n,i){if(n=ue(n),i=i==null?0:nf(yi(i),292),i&&rb(n)){var r=(ar(n)+"e").split("e"),u=t(r[0]+"e"+(+r[1]+i));return r=(ar(u)+"e").split("e"),+(r[0]+"e"+(+r[1]-i))}return t(n)}}function id(n){return function(t){var i=tf(t);return i==l?uu(t):i==a?oc(t):tc(t,n(t))}}function oh(t,i,r,u,f,e,h,c){var w=i&ut,a,b,k,v,l,d,g;if(!w&&typeof t!="function")throw new af(o);return a=u?u.length:0,a||(i&=~(p|ct),u=f=n),h=h===n?h:ku(yi(h),0),c=c===n?c:yi(c),a-=f?f.length:0,i&ct&&(b=u,k=f,u=f=n),v=w?n:av(t),l=[t,i,r,u,f,b,k,e,h,c],v&&ret(l,v),t=l[0],i=l[1],r=l[2],u=l[3],f=l[4],c=l[9]=l[9]===n?w?0:t.length:ku(l[9]-a,0),!c&&i&(y|ht)&&(i&=~(y|ht)),d=i&&i!=s?i==y||i==ht?hft(t,i,c):i!=p&&i!=(s|p)||f.length?sv.apply(n,l):cft(t,i,r,u):sft(t,i,r),g=v?tp:yd,pd(g(d,l),t,i)}function rd(t,i,r,u){return t===n||ks(t,ul[r])&&!vr.call(u,r)?i:t}function ud(t,i,r,u,f,e){return pr(t)&&pr(i)&&(e.set(i,t),uv(t,i,n,ud,e),e["delete"](i)),t}function lft(t){return fa(t)?n:t}function fd(t,i,r,u,f,e){var p=r&st,l=t.length,w=i.length,a,o,h,y;if(l!=w&&!(p&&w>l))return!1;if(a=e.get(t),a&&e.get(i))return a==i;var s=-1,c=!0,v=r&ei?new kc:n;for(e.set(t,i),e.set(i,t);++s<l;){if(o=t[s],h=i[s],u&&(y=p?u(h,o,s,i,t,e):u(o,h,s,t,i,e)),y!==n){if(y)continue;c=!1;break}if(v){if(!dr(i,function(n,t){if(!ui(v,t)&&(o===n||f(o,n,r,u,e)))return v.push(t)})){c=!1;break}}else if(!(o===h||f(o,h,r,u,e))){c=!1;break}}return e["delete"](t),e["delete"](i),c}function aft(n,t,i,r,u,f,e){var o,h,s,c;switch(i){case at:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer;t=t.buffer;case ri:return n.byteLength!=t.byteLength||!f(new aa(n),new aa(t))?!1:!0;case kt:case dt:case gt:return ks(+n,+t);case hi:return n.name==t.name&&n.message==t.message;case ni:case ti:return n==t+"";case l:o=uu;case a:return(h=r&st,o||(o=bi),n.size!=t.size&&!h)?!1:(s=e.get(n),s)?s==t:(r|=ei,e.set(n,t),c=fd(o(n),o(t),r,u,f,e),e["delete"](n),c);case li:if(wl)return wl.call(n)==wl.call(t)}return!1}function vft(t,i,r,u,f,e){var y=r&st,w=lp(t),b=w.length,g=lp(i),nt=g.length,s,o,k,h,p,c,l,d,a,v;if(b!=nt&&!y)return!1;for(s=b;s--;)if(o=w[s],!(y?o in i:vr.call(i,o)))return!1;if(k=e.get(t),k&&e.get(i))return k==i;for(h=!0,e.set(t,i),e.set(i,t),p=y;++s<b;){if(o=w[s],c=t[o],l=i[o],u&&(d=y?u(l,c,o,i,t,e):u(c,l,o,t,i,e)),!(d===n?c===l||f(c,l,r,u,e):d)){h=!1;break}p||(p=o=="constructor")}return h&&!p&&(a=t.constructor,v=i.constructor,a!=v&&"constructor"in t&&"constructor"in i&&!(typeof a=="function"&&a instanceof a&&typeof v=="function"&&v instanceof v)&&(h=!1)),e["delete"](t),e["delete"](i),h}function sh(t){return kp(ad(t,n,gd),t+"")}function lp(n){return ab(n,du,yp)}function ap(n){return ab(n,sf,ed)}function vv(n){for(var t=n.name+"",u=el[t],f=vr.call(el,t)?u.length:0,i,r;f--;)if(i=u[f],r=i.func,r==null||r==n)return i.name;return t}function cl(n){var t=vr.call(et,"placeholder")?et:n;return t.placeholder}function vt(){var n=et.iteratee||aw;return n=n===aw?pb:n,arguments.length?n(arguments[0],arguments[1]):n}function yv(n,t){var i=n.__data__;return net(t)?i[typeof t=="string"?"string":"hash"]:i.map}function vp(n){for(var t=du(n),i=t.length,r,u;i--;)r=t[i],u=n[r],t[i]=[r,u,cd(u)];return t}function gc(t,i){var r=uc(t,i);return yb(r)?r:n}function yft(t){var u=vr.call(t,pc),f=t[pc],i,r;try{t[pc]=n;i=!0}catch(e){}return r=ca.call(t),i&&(u?t[pc]=f:delete t[pc]),r}function pft(n,t,i){for(var f=-1,e=i.length,u,r;++f<e;){u=i[f];r=u.size;switch(u.type){case"drop":n+=r;break;case"dropRight":t-=r;break;case"take":t=nf(t,n+r);break;case"takeRight":n=ku(n,t-r)}}return{start:n,end:t}}function wft(n){var t=n.match(es);return t?t[1].split(os):[]}function od(n,t,i){var u;t=vc(t,n);for(var f=-1,r=t.length,e=!1;++f<r;){if(u=nh(t[f]),!(e=n!=null&&i(n,u)))break;n=n[u]}return e||++f!=r?e:(r=n==null?0:n.length,!!r&&ny(r)&&lh(u,r)&&(vi(n)||tl(n)))}function bft(n){var i=n.length,t=new n.constructor(i);return i&&typeof n[0]=="string"&&vr.call(n,"index")&&(t.index=n.index,t.input=n.input),t}function sd(n){return typeof n.constructor=="function"&&!ia(n)?wc(va(n)):{}}function kft(n,t,i){var r=n.constructor;switch(t){case ri:return sp(n);case kt:case dt:return new r(+n);case at:return ift(n,i);case nr:case tr:case ir:case rr:case ur:case fr:case er:case or:case sr:return ck(n,i);case l:return new r;case gt:case ti:return new r(n);case ni:return rft(n);case a:return new r;case li:return uft(n)}}function dft(n,t){var i=t.length,r;return i?(r=i-1,t[r]=(i>1?"& ":"")+t[r],t=t.join(i>2?", ":" "),n.replace(fs,"{\n/* [wrapped with "+t+"] */\n")):n}function gft(n){return vi(n)||tl(n)||!!(ib&&n&&n[ib])}function lh(n,t){var i=typeof n;return t=t==null?nt:t,!!t&&(i=="number"||i!="symbol"&&ps.test(n))&&n>-1&&n%1==0&&n<t}function uf(n,t,i){if(!pr(i))return!1;var r=typeof t;return(r=="number"?ef(i)&&lh(t,i.length):r=="string"&&t in i)?ks(i[t],n):!1}function pp(n,t){if(vi(n))return!1;var i=typeof n;return i=="number"||i=="symbol"||i=="boolean"||n==null||lf(n)?!0:ts.test(n)||!ns.test(n)||t!=null&&n in yr(t)}function net(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function wp(n){var r=vv(n),t=et[r],i;return typeof t!="function"||!(r in lr.prototype)?!1:n===t?!0:(i=av(t),!!i&&n===i[0])}function tet(n){return!!dw&&dw in n}function ia(n){var t=n&&n.constructor,i=typeof t=="function"&&t.prototype||ul;return n===i}function cd(n){return n===n&&!pr(n)}function ld(t,i){return function(r){return r==null?!1:r[t]===i&&(i!==n||t in yr(r))}}function iet(n){var t=dv(n,function(n){return i.size===be&&i.clear(),n}),i=t.cache;return t}function ret(n,t){var f=n[1],u=t[1],e=f|u,o=e<(s|ut|b),h=u==b&&f==y||u==b&&f==bt&&n[7].length<=t[8]||u==(b|bt)&&t[7].length<=t[8]&&f==y,i,r;return(o||h)?(u&s&&(n[2]=t[2],e|=f&s?0:ou),i=t[3],i&&(r=n[3],n[3]=r?ak(r,i,t[4]):i,n[4]=r?rt(n[3],fi):t[4]),i=t[5],i&&(r=n[5],n[5]=r?vk(r,i,t[6]):i,n[6]=r?rt(n[5],fi):t[6]),i=t[7],i&&(n[7]=i),u&b&&(n[8]=n[8]==null?t[8]:nf(n[8],t[8])),n[9]==null&&(n[9]=t[9]),n[0]=t[0],n[1]=e,n):n}function uet(n){var t=[],i;if(n!=null)for(i in yr(n))t.push(i);return t}function fet(n){return ca.call(n)}function ad(t,i,r){return i=ku(i===n?t.length-1:i,0),function(){for(var e=arguments,n=-1,o=ku(e.length-i,0),s=bu(o),u;++n<o;)s[n]=e[i+n];for(n=-1,u=bu(i+1);++n<i;)u[n]=e[n];return u[i]=r(s),f(t,this,u)}}function vd(n,t){return t.length<2?n:ol(n,pf(t,0,-1))}function eet(t,i){for(var f=t.length,r=nf(i.length,f),e=ff(t),u;r--;)u=i[r],t[r]=lh(u,f)?e[u]:n;return t}function bp(n,t){if(t!=="constructor"||typeof n[t]!="function")return t=="__proto__"?void 0:n[t]}function pd(n,t,i){var r=t+"";return kp(n,dft(r,oet(wft(r),i)))}function wd(t){var i=0,r=0;return function(){var u=fit(),f=no-(u-r);if(r=u,f>0){if(++i>=ge)return arguments[0]}else i=0;return t.apply(n,arguments)}}function pv(t,i){var r=-1,f=t.length,o=f-1,u,e;for(i=i===n?f:i;++r<i;)u=gy(r,o),e=t[u],t[u]=t[r],t[r]=e;return t.length=i,t}function nh(n){if(typeof n=="string"||lf(n))return n;var t=n+"";return t=="0"&&1/n==-ft?"-0":t}function nl(n){if(n!=null){try{return ha.call(n)}catch(t){}try{return n+""}catch(t){}}return""}function oet(n,t){return c(eo,function(i){var r="_."+i[0];t&i[1]&&!pi(n,r)&&n.push(r)}),n.sort()}function bd(n){if(n instanceof lr)return n.clone();var t=new vf(n.__wrapped__,n.__chain__);return t.__actions__=ff(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function set(t,i,r){var u;if(i=(r?uf(t,i,r):i===n)?1:ku(yi(i),0),u=t==null?0:t.length,!u||i<1)return[];for(var f=0,o=0,e=bu(wa(u/i));f<u;)e[o++]=pf(t,f,f+=i);return e}function het(n){for(var i=-1,u=n==null?0:n.length,f=0,r=[],t;++i<u;)t=n[i],t&&(r[f++]=t);return r}function cet(){var n=arguments.length;if(!n)return[];for(var r=bu(n-1),t=arguments[0],i=n;i--;)r[i-1]=arguments[i];return it(vi(t)?ff(t):[t],gu(r,1))}function pet(t,i,r){var u=t==null?0:t.length;return u?(i=r||i===n?1:yi(i),pf(t,i<0?0:i,u)):[]}function wet(t,i,r){var u=t==null?0:t.length;return u?(i=r||i===n?1:yi(i),i=u-i,pf(t,0,i<0?0:i)):[]}function bet(n,t){return n&&n.length?ev(n,vt(t,3),!0,!0):[]}function ket(n,t){return n&&n.length?ev(n,vt(t,3),!0):[]}function det(n,t,i,r){var u=n==null?0:n.length;return u?(i&&typeof i!="number"&&uf(n,t,i)&&(i=0,r=u),iut(n,t,i,r)):[]}function kd(n,t,i){var u=n==null?0:n.length,r;return u?(r=i==null?0:yi(i),r<0&&(r=ku(u+r,0)),wi(n,vt(t,3),r)):-1}function dd(t,i,r){var f=t==null?0:t.length,u;return f?(u=f-1,r!==n&&(u=yi(r),u=r<0?ku(f+u,0):nf(u,f-1)),wi(t,vt(i,3),u,!0)):-1}function gd(n){var t=n==null?0:n.length;return t?gu(n,1):[]}function get(n){var t=n==null?0:n.length;return t?gu(n,ft):[]}function not(t,i){var r=t==null?0:t.length;return r?(i=i===n?1:yi(i),gu(t,i)):[]}function tot(n){for(var i=-1,u=n==null?0:n.length,r={},t;++i<u;)t=n[i],r[t[0]]=t[1];return r}function ng(t){return t&&t.length?t[0]:n}function iot(n,t,i){var u=n==null?0:n.length,r;return u?(r=i==null?0:yi(i),r<0&&(r=ku(u+r,0)),yt(n,t,r)):-1}function rot(n){var t=n==null?0:n.length;return t?pf(n,0,-1):[]}function oot(n,t){return n==null?"":rit.call(n,t)}function wf(t){var i=t==null?0:t.length;return i?t[i-1]:n}function sot(t,i,r){var f=t==null?0:t.length,u;return f?(u=f,r!==n&&(u=yi(r),u=u<0?ku(f+u,0):nf(u,f-1)),i===i?hc(t,i,u):wi(t,ee,u,!0)):-1}function hot(t,i){return t&&t.length?db(t,yi(i)):n}function ig(n,t){return n&&n.length&&t&&t.length?dy(n,t):n}function cot(n,t,i){return n&&n.length&&t&&t.length?dy(n,t,vt(i,2)):n}function lot(t,i,r){return t&&t.length&&i&&i.length?dy(t,i,n,r):t}function aot(n,t){var r=[],u;if(!(n&&n.length))return r;var i=-1,f=[],e=n.length;for(t=vt(t,3);++i<e;)u=n[i],t(u,i,n)&&(r.push(u),f.push(i));return tk(n,f),r}function gp(n){return n==null?n:oit.call(n)}function vot(t,i,r){var u=t==null?0:t.length;return u?(r&&typeof r!="number"&&uf(t,i,r)?(i=0,r=u):(i=i==null?0:yi(i),r=r===n?u:yi(r)),pf(t,i,r)):[]}function yot(n,t){return fv(n,t)}function pot(n,t,i){return ip(n,t,vt(i,2))}function wot(n,t){var r=n==null?0:n.length,i;return r&&(i=fv(n,t),i<r&&ks(n[i],t))?i:-1}function bot(n,t){return fv(n,t,!0)}function kot(n,t,i){return ip(n,t,vt(i,2),!0)}function dot(n,t){var r=n==null?0:n.length,i;return r&&(i=fv(n,t,!0)-1,ks(n[i],t))?i:-1}function got(n){return n&&n.length?rk(n):[]}function nst(n,t){return n&&n.length?rk(n,vt(t,2)):[]}function tst(n){var t=n==null?0:n.length;return t?pf(n,1,t):[]}function ist(t,i,r){return(t&&t.length)?(i=r||i===n?1:yi(i),pf(t,0,i<0?0:i)):[]}function rst(t,i,r){var u=t==null?0:t.length;return u?(i=r||i===n?1:yi(i),i=u-i,pf(t,i<0?0:i,u)):[]}function ust(n,t){return n&&n.length?ev(n,vt(t,3),!1,!0):[]}function fst(n,t){return n&&n.length?ev(n,vt(t,3)):[]}function hst(n){return n&&n.length?lc(n):[]}function cst(n,t){return n&&n.length?lc(n,vt(t,2)):[]}function lst(t,i){return i=typeof i=="function"?i:n,t&&t.length?lc(t,n,i):[]}function nw(n){if(!(n&&n.length))return[];var t=0;return n=tt(n,function(n){if(nu(n))return t=ku(n.length,t),!0}),iu(t,function(t){return r(n,gr(t))})}function ug(t,i){if(!(t&&t.length))return[];var u=nw(t);return i==null?u:r(u,function(t){return f(i,n,t)})}function bst(n,t){return ok(n||[],t||[],bl)}function kst(n,t){return ok(n||[],t||[],na)}function eg(n){var t=et(n);return t.__chain__=!0,t}function dst(n,t){return t(n),n}function wv(n,t){return t(n)}function gst(){return eg(this)}function nht(){return new vf(this.value(),this.__chain__)}function tht(){this.__values__===n&&(this.__values__=ln(this.value()));var t=this.__index__>=this.__values__.length,i=t?n:this.__values__[this.__index__++];return{done:t,value:i}}function iht(){return this}function rht(t){for(var u,r=this,i,f;r instanceof ga;)i=bd(r),i.__index__=0,i.__values__=n,u?f.__wrapped__=i:u=i,f=i,r=r.__wrapped__;return f.__wrapped__=t,u}function uht(){var i=this.__wrapped__,t;return i instanceof lr?(t=i,this.__actions__.length&&(t=new lr(this)),t=t.reverse(),t.__actions__.push({func:wv,args:[gp],thisArg:n}),new vf(t,this.__chain__)):this.thru(gp)}function fht(){return ek(this.__wrapped__,this.__actions__)}function eht(t,i,r){var u=vi(t)?re:tut;return r&&uf(t,i,r)&&(i=n),u(t,vt(i,3))}function oht(n,t){var i=vi(n)?tt:lb;return i(n,vt(t,3))}function sht(n,t){return gu(bv(n,t),1)}function hht(n,t){return gu(bv(n,t),ft)}function cht(t,i,r){return r=r===n?1:yi(r),gu(bv(t,i),r)}function lg(n,t){var i=vi(n)?c:eh;return i(n,vt(t,3))}function ag(n,t){var i=vi(n)?wh:ly;return i(n,vt(t,3))}function lht(n,t,i,r){n=ef(n)?n:ll(n);i=i&&!r?yi(i):0;var u=n.length;return i<0&&(i=ku(u+i,0)),iy(n)?i<=u&&n.indexOf(t,i)>-1:!!u&&yt(n,t,i)>-1}function bv(n,t){var i=vi(n)?r:wb;return i(n,vt(t,3))}function aht(t,i,r,u){return t==null?[]:(vi(i)||(i=i==null?[]:[i]),r=u?n:r,vi(r)||(r=r==null?[]:[r]),gb(t,i,r))}function vht(n,t,i){var r=vi(n)?kr:se,u=arguments.length<3;return r(n,vt(t,4),i,u,eh)}function yht(n,t,i){var r=vi(n)?bh:se,u=arguments.length<3;return r(n,vt(t,4),i,u,ly)}function pht(n,t){var i=vi(n)?tt:lb;return i(n,gv(vt(t,3)))}function wht(n){var t=vi(n)?ob:dut;return t(n)}function bht(t,i,r){i=(r?uf(t,i,r):i===n)?1:yi(i);var u=vi(t)?brt:gut;return u(t,i)}function kht(n){var t=vi(n)?krt:nft;return t(n)}function dht(n){if(n==null)return 0;if(ef(n))return iy(n)?wt(n):n.length;var t=tf(n);return t==l||t==a?n.size:by(n).length}function ght(t,i,r){var u=vi(t)?dr:tft;return r&&uf(t,i,r)&&(i=n),u(t,vt(i,3))}function nct(n,t){if(typeof t!="function")throw new af(o);return n=yi(n),function(){if(--n<1)return t.apply(this,arguments)}}function kg(t,i,r){return i=r?n:i,i=t&&i==null?t.length:i,oh(t,b,n,n,n,n,i)}function dg(t,i){var r;if(typeof i!="function")throw new af(o);return t=yi(t),function(){return--t>0&&(r=i.apply(this,arguments)),t<=1&&(i=n),r}}function gg(t,i,r){i=r?n:i;var u=oh(t,y,n,n,n,n,n,i);return u.placeholder=gg.placeholder,u}function nn(t,i,r){i=r?n:i;var u=oh(t,ht,n,n,n,n,n,i);return u.placeholder=nn.placeholder,u}function tn(t,i,r){function p(i){var r=e,u=h;return e=h=n,c=i,s=t.apply(u,r)}function g(n){return c=n,u=ra(v,i),b?p(n):s}function nt(n){var r=n-f,u=n-c,t=i-r;return l?nf(t,a-u):t}function k(t){var r=t-f,u=t-c;return f===n||r>=i||r<0||l&&u>=a}function v(){var n=ua();if(k(n))return d(n);u=ra(v,nt(n))}function d(t){return(u=n,y&&e)?p(t):(e=h=n,s)}function tt(){u!==n&&op(u);c=0;e=f=h=u=n}function it(){return u===n?s:d(ua())}function w(){var t=ua(),r=k(t);if(e=arguments,h=this,f=t,r){if(u===n)return g(f);if(l)return op(u),u=ra(v,i),p(f)}return u===n&&(u=ra(v,i)),s}var e,h,a,s,u,f,c=0,b=!1,l=!1,y=!0;if(typeof t!="function")throw new af(o);return i=ue(i)||0,pr(r)&&(b=!!r.leading,l="maxWait"in r,a=l?ku(ue(r.maxWait)||0,i):a,y="trailing"in r?!!r.trailing:y),w.cancel=tt,w.flush=it,w}function tct(n){return oh(n,gi)}function dv(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new af(o);var i=function(){var u=arguments,f=t?t.apply(this,u):u[0],r=i.cache,e;return r.has(f)?r.get(f):(e=n.apply(this,u),i.cache=r.set(f,e)||r,e)};return i.cache=new(dv.Cache||ih),i}function gv(n){if(typeof n!="function")throw new af(o);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function ict(n){return dg(2,n)}function fct(t,i){if(typeof t!="function")throw new af(o);return i=i===n?i:yi(i),cr(t,i)}function ect(n,t){if(typeof n!="function")throw new af(o);return t=t==null?0:ku(yi(t),0),cr(function(i){var r=i[t],u=yc(i,0,t);return r&&it(u,r),f(n,this,u)})}function oct(n,t,i){var r=!0,u=!0;if(typeof n!="function")throw new af(o);return pr(i)&&(r="leading"in i?!!i.leading:r,u="trailing"in i?!!i.trailing:u),tn(n,t,{leading:r,maxWait:t,trailing:u})}function sct(n){return kg(n,1)}function hct(n,t){return iw(ep(t),n)}function cct(){if(!arguments.length)return[];var n=arguments[0];return vi(n)?n:[n]}function lct(n){return yf(n,ot)}function act(t,i){return i=typeof i=="function"?i:n,yf(t,ot,i)}function vct(n){return yf(n,g|ot)}function yct(t,i){return i=typeof i=="function"?i:n,yf(t,g|ot,i)}function pct(n,t){return t==null||hb(n,t,du(t))}function ks(n,t){return n===t||n!==n&&t!==t}function ef(n){return n!=null&&ny(n.length)&&!kh(n)}function nu(n){return wr(n)&&ef(n)}function dct(n){return n===!0||n===!1||wr(n)&&rf(n)==kt}function gct(n){return wr(n)&&n.nodeType===1&&!fa(n)}function nlt(n){var t,i;if(n==null)return!0;if(ef(n)&&(vi(n)||typeof n=="string"||typeof n.splice=="function"||yh(n)||il(n)||tl(n)))return!n.length;if(t=tf(n),t==l||t==a)return!n.size;if(ia(n))return!by(n).length;for(i in n)if(vr.call(n,i))return!1;return!0}function tlt(n,t){return gl(n,t)}function ilt(t,i,r){r=typeof r=="function"?r:n;var u=r?r(t,i):n;return u===n?gl(t,i,n,r):!!u}function rw(n){if(!wr(n))return!1;var t=rf(n);return t==hi||t==so||typeof n.message=="string"&&typeof n.name=="string"&&!fa(n)}function rlt(n){return typeof n=="number"&&rb(n)}function kh(n){if(!pr(n))return!1;var t=rf(n);return t==ci||t==hu||t==oo||t==co}function on(n){return typeof n=="number"&&n==yi(n)}function ny(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=nt}function pr(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function wr(n){return n!=null&&typeof n=="object"}function ult(n,t){return n===t||wy(n,t,vp(t))}function flt(t,i,r){return r=typeof r=="function"?r:n,wy(t,i,vp(i),r)}function elt(n){return sn(n)&&n!=+n}function olt(n){if(hd(n))throw new bw(we);return yb(n)}function slt(n){return n===null}function hlt(n){return n==null}function sn(n){return typeof n=="number"||wr(n)&&rf(n)==gt}function fa(n){var i,t;return!wr(n)||rf(n)!=k?!1:(i=va(n),i===null)?!0:(t=vr.call(i,"constructor")&&i.constructor,typeof t=="function"&&t instanceof t&&ha.call(t)==btt)}function clt(n){return on(n)&&n>=-nt&&n<=nt}function iy(n){return typeof n=="string"||!vi(n)&&wr(n)&&rf(n)==ti}function lf(n){return typeof n=="symbol"||wr(n)&&rf(n)==li}function llt(t){return t===n}function alt(n){return wr(n)&&tf(n)==ii}function vlt(n){return wr(n)&&rf(n)==ao}function ln(n){if(!n)return[];if(ef(n))return iy(n)?v(n):ff(n);if(al&&n[al])return ec(n[al]());var t=tf(n),i=t==l?uu:t==a?bi:ll;return i(n)}function sc(n){if(!n)return n===0?n:0;if(n=ue(n),n===ft||n===-ft){var t=n<0?-1:1;return t*ro}return n===n?n:0}function yi(n){var t=sc(n),i=t%1;return t===t?i?t-i:t:0}function an(n){return n?dc(yi(n),0,w):0}function ue(n){var t,i;return typeof n=="number"?n:lf(n)?oi:(pr(n)&&(t=typeof n.valueOf=="function"?n.valueOf():n,n=pr(t)?t+"":t),typeof n!="string")?n===0?n:+n:(n=n.replace(yu,""),i=as.test(n),i||ys.test(n)?vh(n.slice(2),i?2:8):ls.test(n)?oi:+n)}function vn(n){return gs(n,sf(n))}function ylt(n){return n?dc(yi(n),-nt,nt):n===0?n:0}function ar(n){return n==null?"":cf(n)}function klt(n,t){var i=wc(n);return t==null?i:sb(i,t)}function dlt(n,t){return fe(n,vt(t,3),ds)}function glt(n,t){return fe(n,vt(t,3),vy)}function nat(n,t){return n==null?n:iv(n,vt(t,3),sf)}function tat(n,t){return n==null?n:ay(n,vt(t,3),sf)}function iat(n,t){return n&&ds(n,vt(t,3))}function rat(n,t){return n&&vy(n,vt(t,3))}function uat(n){return n==null?[]:rv(n,du(n))}function fat(n){return n==null?[]:rv(n,sf(n))}function ew(t,i,r){var u=t==null?n:ol(t,i);return u===n?r:u}function eat(n,t){return n!=null&&od(n,t,rut)}function ow(n,t){return n!=null&&od(n,t,uut)}function du(n){return ef(n)?eb(n):by(n)}function sf(n){return ef(n)?eb(n,!0):yut(n)}function cat(n,t){var i={};return t=vt(t,3),ds(n,function(n,r,u){rh(i,t(n,r,u),n)}),i}function lat(n,t){var i={};return t=vt(t,3),ds(n,function(n,r,u){rh(i,r,t(n,r,u))}),i}function yat(n,t){return dn(n,gv(vt(t)))}function dn(n,t){if(n==null)return{};var i=r(ap(n),function(n){return[n]});return t=vt(t),nk(n,i,function(n,i){return t(n,i[0])})}function pat(t,i,r){var e,f,u;for(i=vc(i,t),e=-1,f=i.length,f||(f=1,t=n);++e<f;)u=t==null?n:t[nh(i[e])],u===n&&(e=f,u=r),t=kh(u)?u.call(t):u;return t}function wat(n,t,i){return n==null?n:na(n,t,i)}function bat(t,i,r,u){return u=typeof u=="function"?u:n,t==null?t:na(t,i,r,u)}function kat(n,t,i){var u=vi(n),f=u||yh(n)||il(n),r;return t=vt(t,4),i==null&&(r=n&&n.constructor,i=f?u?new r:[]:pr(n)?kh(r)?wc(va(n)):{}:{}),(f?c:ds)(n,function(n,r,u){return t(i,n,r,u)}),i}function dat(n,t){return n==null?!0:rp(n,t)}function gat(n,t,i){return n==null?n:fk(n,t,ep(i))}function nvt(t,i,r,u){return u=typeof u=="function"?u:n,t==null?t:fk(t,i,ep(r),u)}function ll(n){return n==null?[]:ru(n,du(n))}function tvt(n){return n==null?[]:ru(n,sf(n))}function ivt(t,i,r){return r===n&&(r=i,i=n),r!==n&&(r=ue(r),r=r===r?r:0),i!==n&&(i=ue(i),i=i===i?i:0),dc(ue(t),i,r)}function rvt(t,i,r){return i=sc(i),r===n?(r=i,i=0):r=sc(r),t=ue(t),fut(t,i,r)}function uvt(t,i,r){var f,u;return(r&&typeof r!="boolean"&&uf(t,i,r)&&(i=r=n),r===n&&(typeof i=="boolean"?(r=i,i=n):typeof t=="boolean"&&(r=t,t=n)),t===n&&i===n?(t=0,i=1):(t=sc(t),i===n?(i=t,t=0):i=sc(i)),t>i&&(f=t,t=i,i=f),r||t%1||i%1)?(u=ub(),nf(t+u*(i-t+ah("1e-"+((u+"").length-1))),i)):gy(t,i)}function ntt(n){return uy(ar(n).toLowerCase())}function ttt(n){return n=ar(n),n&&n.replace(ws,le).replace(fh,"")}function fvt(t,i,r){var u,f;return t=ar(t),i=cf(i),u=t.length,r=r===n?u:dc(yi(r),0,u),f=r,r-=i.length,r>=0&&t.slice(r,f)==i}function evt(n){return n=ar(n),n&&bo.test(n)?n.replace(au,ae):n}function ovt(n){return n=ar(n),n&&rs.test(n)?n.replace(hr,"\\$&"):n}function lvt(n,t,i){var r,u;return(n=ar(n),t=yi(t),r=t?wt(n):0,!t||r>=t)?n:(u=(t-r)/2,cv(ba(u),i)+n+cv(wa(u),i))}function avt(n,t,i){n=ar(n);t=yi(t);var r=t?wt(n):0;return t&&r<t?n+cv(t-r,i):n}function vvt(n,t,i){n=ar(n);t=yi(t);var r=t?wt(n):0;return t&&r<t?cv(t-r,i)+n:n}function yvt(n,t,i){return i||t==null?t=0:t&&(t=+t),eit(ar(n).replace(pu,""),t||0)}function pvt(t,i,r){return i=(r?uf(t,i,r):i===n)?1:yi(i),np(ar(t),i)}function wvt(){var n=arguments,t=ar(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function bvt(t,i,r){return(r&&typeof r!="number"&&uf(t,i,r)&&(i=r=n),r=r===n?w:r>>>0,!r)?[]:(t=ar(t),t&&(typeof i=="string"||i!=null&&!ty(i))&&(i=cf(i),!i&&pt(t)))?yc(v(t),0,r):t.split(i,r)}function kvt(n,t,i){return n=ar(n),i=i==null?0:dc(yi(i),0,n.length),t=cf(t),n.slice(i,i+t.length)==t}function dvt(t,i,r){var s=et.templateSettings,e,f;r&&uf(t,i,r)&&(i=n);t=ar(t);i=ry({},i,s,rd);var h=ry({},i.imports,s.imports,rd),c=du(h),y=ru(h,c),l,o,a=0,v=i.interpolate||ai,u="__p += '",p=fy((i.escape||ai).source+"|"+v.source+"|"+(v===vu?cs:ai).source+"|"+(i.evaluate||ai).source+"|$","g"),w="//# sourceURL="+(vr.call(i,"sourceURL")?(i.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++ch+"]")+"\n";if(t.replace(p,function(n,i,r,f,e,s){return r||(r=f),u+=t.slice(a,s).replace(bs,rc),i&&(l=!0,u+="' +\n__e("+i+") +\n'"),e&&(o=!0,u+="';\n"+e+";\n__p += '"),r&&(u+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),a=s+n.length,n}),u+="';\n",e=vr.call(i,"variable")&&i.variable,e||(u="with (obj) {\n"+u+"\n}\n"),u=(o?u.replace(vo,""):u).replace(yo,"$1").replace(po,"$1;"),u="function("+(e||"obj")+") {\n"+(e?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}",f=cw(function(){return kw(c,w+"return "+u).apply(n,y)}),f.source=u,rw(f))throw f;return f}function gvt(n){return ar(n).toLowerCase()}function nyt(n){return ar(n).toUpperCase()}function tyt(t,i,r){if(t=ar(t),t&&(r||i===n))return t.replace(yu,"");if(!t||!(i=cf(i)))return t;var u=v(t),f=v(i),e=he(u,f),o=ce(u,f)+1;return yc(u,e,o).join("")}function iyt(t,i,r){if(t=ar(t),t&&(r||i===n))return t.replace(us,"");if(!t||!(i=cf(i)))return t;var u=v(t),f=ce(u,v(i))+1;return yc(u,0,f).join("")}function ryt(t,i,r){if(t=ar(t),t&&(r||i===n))return t.replace(pu,"");if(!t||!(i=cf(i)))return t;var u=v(t),f=he(u,v(i));return yc(u,f).join("")}function uyt(t,i){var s=ke,e=de,r,h,o,u,f,a,y,c,l;if(pr(i)&&(r="separator"in i?i.separator:r,s="length"in i?yi(i.length):s,e="omission"in i?cf(i.omission):e),t=ar(t),h=t.length,pt(t)&&(o=v(t),h=o.length),s>=h)return t;if(u=s-wt(e),u<1)return e;if(f=o?yc(o,0,u).join(""):t.slice(0,u),r===n)return f+e;if(o&&(u+=f.length-u),ty(r)){if(t.slice(u).search(r)){for(y=f,r.global||(r=fy(r.source,ar(wu.exec(r))+"g")),r.lastIndex=0;a=r.exec(y);)c=a.index;f=f.slice(0,c===n?u:c)}}else t.indexOf(cf(r),u)!=u&&(l=f.lastIndexOf(r),l>-1&&(f=f.slice(0,l)));return f+e}function fyt(n){return n=ar(n),n&&wo.test(n)?n.replace(lu,ye):n}function ftt(t,i,r){return(t=ar(t),i=r?n:i,i===n)?fc(t)?ac(t):dh(t):t.match(i)||[]}function eyt(n){var t=n==null?0:n.length,i=vt();return n=t?r(n,function(n){if(typeof n[1]!="function")throw new af(o);return[i(n[0]),n[1]]}):[],cr(function(i){for(var u=-1,r;++u<t;)if(r=n[u],f(r[0],this,i))return f(r[1],this,i)})}function oyt(n){return nut(yf(n,g))}function lw(n){return function(){return n}}function syt(n,t){return n==null||n!==n?t:n}function hf(n){return n}function aw(n){return pb(typeof n=="function"?n:yf(n,g))}function hyt(n){return bb(yf(n,g))}function cyt(n,t){return kb(n,yf(t,g))}function vw(n,t,i){var u=du(t),r=rv(t,u),f,e;return i!=null||pr(t)&&(r.length||!u.length)||(i=t,t=n,n=this,r=rv(t,du(t))),f=!(pr(i)&&"chain"in i)||!!i.chain,e=kh(n),c(r,function(i){var r=t[i];n[i]=r;e&&(n.prototype[i]=function(){var i=this.__chain__,t,u;return f||i?(t=n(this.__wrapped__),u=t.__actions__=ff(this.__actions__),u.push({func:r,args:arguments,thisArg:n}),t.__chain__=i,t):r.apply(n,it([this.value()],arguments))})}),n}function lyt(){return u._===this&&(u._=ktt),this}function yw(){}function ayt(n){return n=yi(n),cr(function(t){return db(t,n)})}function ltt(n){return pp(n)?gr(nh(n)):but(n)}function wyt(t){return function(i){return t==null?n:ol(t,i)}}function pw(){return[]}function ww(){return!1}function byt(){return{}}function kyt(){return""}function dyt(){return!0}function gyt(n,t){var i,r,u;if(n=yi(n),n<1||n>nt)return[];for(i=w,r=nf(n,w),t=vt(t),n-=w,u=iu(r,t);++i<n;)t(i);return u}function npt(n){return vi(n)?r(n,nh):lf(n)?[n]:ff(dp(ar(n)))}function tpt(n){var t=++wtt;return ar(n)+t}function ept(t){return t&&t.length?tv(t,hf,yy):n}function opt(t,i){return t&&t.length?tv(t,vt(i,2),yy):n}function spt(n){return oe(n,hf)}function hpt(n,t){return oe(n,vt(t,2))}function cpt(t){return t&&t.length?tv(t,hf,ky):n}function lpt(t,i){return t&&t.length?tv(t,vt(i,2),ky):n}function ppt(n){return n&&n.length?tu(n,hf):0}function wpt(n,t){return n&&n.length?tu(n,vt(t,2)):0}var wc,eh,ly,iv,ay,tp,ik,sk,op,td,av,hd,dp,tg,rg,fg,og,sg,hg,cg,vg,yg,pg,wg,bg,ua,kv,tw,rn,un,yh,en,uw,ty,fw,il,hn,cn,pn,wn,kn,sw,hw,gn,itt,rtt,utt,uy,cw,ett,ott,stt,htt,ctt,att,vtt;h=h==null?u:d.defaults(u.Object(),h,d.pick(u,hh));var bu=h.Array,ea=h.Date,bw=h.Error,kw=h.Function,rl=h.Math,yr=h.Object,fy=h.RegExp,ytt=h.String,af=h.TypeError,oa=bu.prototype,ptt=kw.prototype,ul=yr.prototype,sa=h["__core-js_shared__"],ha=ptt.toString,vr=ul.hasOwnProperty,wtt=0,dw=function(){var n=/[^.]+$/.exec(sa&&sa.keys&&sa.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),ca=ul.toString,btt=ha.call(yr),ktt=u._,dtt=fy("^"+ha.call(vr).replace(hr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),la=bf?h.Buffer:n,cc=h.Symbol,aa=h.Uint8Array,gw=la?la.allocUnsafe:n,va=ve(yr.getPrototypeOf,yr),nb=yr.create,tb=ul.propertyIsEnumerable,ya=oa.splice,ib=cc?cc.isConcatSpreadable:n,al=cc?cc.iterator:n,pc=cc?cc.toStringTag:n,pa=function(){try{var n=gc(yr,"defineProperty");return n({},"",{}),n}catch(t){}}(),gtt=h.clearTimeout!==u.clearTimeout&&h.clearTimeout,nit=ea&&ea.now!==u.Date.now&&ea.now,tit=h.setTimeout!==u.setTimeout&&h.setTimeout,wa=rl.ceil,ba=rl.floor,ey=yr.getOwnPropertySymbols,iit=la?la.isBuffer:n,rb=h.isFinite,rit=oa.join,uit=ve(yr.keys,yr),ku=rl.max,nf=rl.min,fit=ea.now,eit=h.parseInt,ub=rl.random,oit=oa.reverse,oy=gc(h,"DataView"),vl=gc(h,"Map"),sy=gc(h,"Promise"),fl=gc(h,"Set"),yl=gc(h,"WeakMap"),pl=gc(yr,"create"),ka=yl&&new yl,el={},sit=nl(oy),hit=nl(vl),cit=nl(sy),lit=nl(fl),ait=nl(yl),da=cc?cc.prototype:n,wl=da?da.valueOf:n,fb=da?da.toString:n;wc=function(){function t(){}return function(i){if(!pr(i))return{};if(nb)return nb(i);t.prototype=i;var r=new t;return t.prototype=n,r}}();et.templateSettings={escape:ko,evaluate:go,interpolate:vu,variable:"",imports:{_:et}};et.prototype=ga.prototype;et.prototype.constructor=et;vf.prototype=wc(ga.prototype);vf.prototype.constructor=vf;lr.prototype=wc(ga.prototype);lr.prototype.constructor=lr;bc.prototype.clear=wit;bc.prototype["delete"]=bit;bc.prototype.get=kit;bc.prototype.has=dit;bc.prototype.set=git;th.prototype.clear=nrt;th.prototype["delete"]=trt;th.prototype.get=irt;th.prototype.has=rrt;th.prototype.set=urt;ih.prototype.clear=frt;ih.prototype["delete"]=ert;ih.prototype.get=ort;ih.prototype.has=srt;ih.prototype.set=hrt;kc.prototype.add=kc.prototype.push=crt;kc.prototype.has=lrt;ss.prototype.clear=art;ss.prototype["delete"]=vrt;ss.prototype.get=yrt;ss.prototype.has=prt;ss.prototype.set=wrt;eh=yk(ds);ly=yk(vy,!0);iv=pk();ay=pk(!0);tp=ka?function(n,t){return ka.set(n,t),n}:hf;ik=pa?function(n,t){return pa(n,"toString",{configurable:!0,enumerable:!1,value:lw(t),writable:!0})}:hf;sk=cr;op=gtt||function(n){return u.clearTimeout(n)};td=(fl&&1/bi(new fl([,-0]))[1]==ft)?function(n){return new fl(n)}:yw;av=ka?function(n){return ka.get(n)}:yw;var yp=ey?function(n){return n==null?[]:(n=yr(n),tt(ey(n),function(t){return tb.call(n,t)}))}:pw,ed=ey?function(n){for(var t=[];n;)it(t,yp(n)),n=va(n);return t}:pw,tf=rf;(oy&&tf(new oy(new ArrayBuffer(1)))!=at||vl&&tf(new vl)!=l||sy&&tf(sy.resolve())!=cu||fl&&tf(new fl)!=a||yl&&tf(new yl)!=ii)&&(tf=function(t){var i=rf(t),r=i==k?t.constructor:n,u=r?nl(r):"";if(u)switch(u){case sit:return at;case hit:return l;case cit:return cu;case lit:return a;case ait:return ii}return i});hd=sa?kh:ww;var yd=wd(tp),ra=tit||function(n,t){return u.setTimeout(n,t)},kp=wd(ik);dp=iet(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(is,function(n,i,r,u){t.push(r?u.replace(hs,"$1"):i||n)}),t});var aet=cr(function(n,t){return nu(n)?kl(n,gu(t,1,nu,!0)):[]}),vet=cr(function(t,i){var r=wf(i);return nu(r)&&(r=n),nu(t)?kl(t,gu(i,1,nu,!0),vt(r,2)):[]}),yet=cr(function(t,i){var r=wf(i);return nu(r)&&(r=n),nu(t)?kl(t,gu(i,1,nu,!0),n,r):[]});var uot=cr(function(n){var t=r(n,fp);return t.length&&t[0]===n[0]?py(t):[]}),fot=cr(function(t){var u=wf(t),i=r(t,fp);return u===wf(i)?u=n:i.pop(),i.length&&i[0]===t[0]?py(i,vt(u,2)):[]}),eot=cr(function(t){var i=wf(t),u=r(t,fp);return i=typeof i=="function"?i:n,i&&u.pop(),u.length&&u[0]===t[0]?py(u,n,i):[]});tg=cr(ig);rg=sh(function(n,t){var i=n==null?0:n.length,u=cy(n,t);return tk(n,r(t,function(n){return lh(n,i)?+n:n}).sort(lk)),u});var est=cr(function(n){return lc(gu(n,1,nu,!0))}),ost=cr(function(t){var i=wf(t);return nu(i)&&(i=n),lc(gu(t,1,nu,!0),vt(i,2))}),sst=cr(function(t){var i=wf(t);return i=typeof i=="function"?i:n,lc(gu(t,1,nu,!0),n,i)});var ast=cr(function(n,t){return nu(n)?kl(n,t):[]}),vst=cr(function(n){return up(tt(n,nu))}),yst=cr(function(t){var i=wf(t);return nu(i)&&(i=n),up(tt(t,nu),vt(i,2))}),pst=cr(function(t){var i=wf(t);return i=typeof i=="function"?i:n,up(tt(t,nu),n,i)}),wst=cr(nw);fg=cr(function(t){var r=t.length,i=r>1?t[r-1]:n;return i=typeof i=="function"?(t.pop(),i):n,ug(t,i)});og=sh(function(t){var r=t.length,u=r?t[0]:0,i=this.__wrapped__,f=function(n){return cy(n,t)};return r>1||this.__actions__.length||!(i instanceof lr)||!lh(u)?this.thru(f):(i=i.slice(u,+u+(r?1:0)),i.__actions__.push({func:wv,args:[f],thisArg:n}),new vf(i,this.__chain__).thru(function(t){return r&&!t.length&&t.push(n),t}))});sg=ov(function(n,t,i){vr.call(n,i)?++n[i]:rh(n,i,1)});hg=bk(kd);cg=bk(dd);vg=ov(function(n,t,i){vr.call(n,i)?n[i].push(t):rh(n,i,[t])});yg=cr(function(n,t,i){var u=-1,e=typeof t=="function",r=ef(n)?bu(n.length):[];return eh(n,function(n){r[++u]=e?f(t,n,i):dl(n,t,i)}),r});pg=ov(function(n,t,i){rh(n,i,t)});wg=ov(function(n,t,i){n[i?0:1].push(t)},function(){return[[],[]]});bg=cr(function(n,t){if(n==null)return[];var i=t.length;return i>1&&uf(n,t[0],t[1])?t=[]:i>2&&uf(t[0],t[1],t[2])&&(t=[t[0]]),gb(n,gu(t,1),[])});ua=nit||function(){return u.Date.now()};kv=cr(function(n,t,i){var r=s,u;return i.length&&(u=rt(i,cl(kv)),r|=p),oh(n,r,t,i,u)});tw=cr(function(n,t,i){var r=s|ut,u;return i.length&&(u=rt(i,cl(tw)),r|=p),oh(t,r,n,i,u)});rn=cr(function(n,t){return cb(n,1,t)});un=cr(function(n,t,i){return cb(n,ue(t)||0,i)});dv.Cache=ih;var rct=sk(function(n,t){t=t.length==1&&vi(t[0])?r(t[0],e(vt())):r(gu(t,1),e(vt()));var i=t.length;return cr(function(r){for(var u=-1,e=nf(r.length,i);++u<e;)r[u]=t[u].call(this,r[u]);return f(n,this,r)})}),iw=cr(function(t,i){var r=rt(i,cl(iw));return oh(t,p,n,i,r)}),fn=cr(function(t,i){var r=rt(i,cl(fn));return oh(t,ct,n,i,r)}),uct=sh(function(t,i){return oh(t,bt,n,n,n,i)});var wct=lv(yy),bct=lv(function(n,t){return n>=t}),tl=vb(function(){return arguments}())?vb:function(n){return wr(n)&&vr.call(n,"callee")&&!tb.call(n,"callee")},vi=bu.isArray,kct=kf?e(kf):out;yh=iit||ww;en=df?e(df):sut;uw=gf?e(gf):cut;ty=ne?e(ne):lut;fw=te?e(te):aut;il=ie?e(ie):vut;hn=lv(ky);cn=lv(function(n,t){return n<=t});var plt=sl(function(n,t){if(ia(t)||ef(t)){gs(t,du(t),n);return}for(var i in t)vr.call(t,i)&&bl(n,i,t[i])}),yn=sl(function(n,t){gs(t,sf(t),n)}),ry=sl(function(n,t,i,r){gs(t,sf(t),n,r)}),wlt=sl(function(n,t,i,r){gs(t,du(t),n,r)}),blt=sh(cy);pn=cr(function(t,i){var r,f;t=yr(t);var e=-1,u=i.length,o=u>2?i[2]:n;for(o&&uf(i[0],i[1],o)&&(u=1);++e<u;)for(var s=i[e],h=sf(s),c=-1,l=h.length;++c<l;)r=h[c],f=t[r],(f===n||ks(f,ul[r])&&!vr.call(t,r))&&(t[r]=s[r]);return t});wn=cr(function(t){return t.push(n,ud),f(bn,n,t)});var oat=dk(function(n,t,i){t!=null&&typeof t.toString!="function"&&(t=ca.call(t));n[t]=i},lw(hf)),sat=dk(function(n,t,i){t!=null&&typeof t.toString!="function"&&(t=ca.call(t));vr.call(n,t)?n[t].push(i):n[t]=[i]},vt),hat=cr(dl);var aat=sl(function(n,t,i){uv(n,t,i)}),bn=sl(function(n,t,i,r){uv(n,t,i,r)}),vat=sh(function(n,t){var i={},u,f;if(n==null)return i;for(u=!1,t=r(t,function(t){return t=vc(t,n),u||(u=t.length>1),t}),gs(n,ap(n),i),u&&(i=yf(i,g|eu|ot,lft)),f=t.length;f--;)rp(i,t[f]);return i});kn=sh(function(n,t){return n==null?{}:wut(n,t)});sw=id(du);hw=id(sf);gn=hl(function(n,t,i){return t=t.toLowerCase(),n+(i?ntt(t):t)});var svt=hl(function(n,t,i){return n+(i?"-":"")+t.toLowerCase()}),hvt=hl(function(n,t,i){return n+(i?" ":"")+t.toLowerCase()}),cvt=wk("toLowerCase");itt=hl(function(n,t,i){return n+(i?"_":"")+t.toLowerCase()});rtt=hl(function(n,t,i){return n+(i?" ":"")+uy(t)});utt=hl(function(n,t,i){return n+(i?" ":"")+t.toUpperCase()});uy=wk("toUpperCase");cw=cr(function(t,i){try{return f(t,n,i)}catch(r){return rw(r)?r:new bw(r)}});ett=sh(function(n,t){return c(t,function(t){t=nh(t);rh(n,t,kv(n[t],n))}),n});ott=kk();stt=kk(!0);htt=cr(function(n,t){return function(i){return dl(i,n,t)}});ctt=cr(function(n,t){return function(i){return dl(n,i,t)}});var vyt=hp(r),yyt=hp(re),pyt=hp(dr);att=gk();vtt=gk(!0);var ipt=hv(function(n,t){return n+t},0),rpt=cp("ceil"),upt=hv(function(n,t){return n/t},1),fpt=cp("floor");var apt=hv(function(n,t){return n*t},1),vpt=cp("round"),ypt=hv(function(n,t){return n-t},0);return et.after=nct,et.ary=kg,et.assign=plt,et.assignIn=yn,et.assignInWith=ry,et.assignWith=wlt,et.at=blt,et.before=dg,et.bind=kv,et.bindAll=ett,et.bindKey=tw,et.castArray=cct,et.chain=eg,et.chunk=set,et.compact=het,et.concat=cet,et.cond=eyt,et.conforms=oyt,et.constant=lw,et.countBy=sg,et.create=klt,et.curry=gg,et.curryRight=nn,et.debounce=tn,et.defaults=pn,et.defaultsDeep=wn,et.defer=rn,et.delay=un,et.difference=aet,et.differenceBy=vet,et.differenceWith=yet,et.drop=pet,et.dropRight=wet,et.dropRightWhile=bet,et.dropWhile=ket,et.fill=det,et.filter=oht,et.flatMap=sht,et.flatMapDeep=hht,et.flatMapDepth=cht,et.flatten=gd,et.flattenDeep=get,et.flattenDepth=not,et.flip=tct,et.flow=ott,et.flowRight=stt,et.fromPairs=tot,et.functions=uat,et.functionsIn=fat,et.groupBy=vg,et.initial=rot,et.intersection=uot,et.intersectionBy=fot,et.intersectionWith=eot,et.invert=oat,et.invertBy=sat,et.invokeMap=yg,et.iteratee=aw,et.keyBy=pg,et.keys=du,et.keysIn=sf,et.map=bv,et.mapKeys=cat,et.mapValues=lat,et.matches=hyt,et.matchesProperty=cyt,et.memoize=dv,et.merge=aat,et.mergeWith=bn,et.method=htt,et.methodOf=ctt,et.mixin=vw,et.negate=gv,et.nthArg=ayt,et.omit=vat,et.omitBy=yat,et.once=ict,et.orderBy=aht,et.over=vyt,et.overArgs=rct,et.overEvery=yyt,et.overSome=pyt,et.partial=iw,et.partialRight=fn,et.partition=wg,et.pick=kn,et.pickBy=dn,et.property=ltt,et.propertyOf=wyt,et.pull=tg,et.pullAll=ig,et.pullAllBy=cot,et.pullAllWith=lot,et.pullAt=rg,et.range=att,et.rangeRight=vtt,et.rearg=uct,et.reject=pht,et.remove=aot,et.rest=fct,et.reverse=gp,et.sampleSize=bht,et.set=wat,et.setWith=bat,et.shuffle=kht,et.slice=vot,et.sortBy=bg,et.sortedUniq=got,et.sortedUniqBy=nst,et.split=bvt,et.spread=ect,et.tail=tst,et.take=ist,et.takeRight=rst,et.takeRightWhile=ust,et.takeWhile=fst,et.tap=dst,et.throttle=oct,et.thru=wv,et.toArray=ln,et.toPairs=sw,et.toPairsIn=hw,et.toPath=npt,et.toPlainObject=vn,et.transform=kat,et.unary=sct,et.union=est,et.unionBy=ost,et.unionWith=sst,et.uniq=hst,et.uniqBy=cst,et.uniqWith=lst,et.unset=dat,et.unzip=nw,et.unzipWith=ug,et.update=gat,et.updateWith=nvt,et.values=ll,et.valuesIn=tvt,et.without=ast,et.words=ftt,et.wrap=hct,et.xor=vst,et.xorBy=yst,et.xorWith=pst,et.zip=wst,et.zipObject=bst,et.zipObjectDeep=kst,et.zipWith=fg,et.entries=sw,et.entriesIn=hw,et.extend=yn,et.extendWith=ry,vw(et,et),et.add=ipt,et.attempt=cw,et.camelCase=gn,et.capitalize=ntt,et.ceil=rpt,et.clamp=ivt,et.clone=lct,et.cloneDeep=vct,et.cloneDeepWith=yct,et.cloneWith=act,et.conformsTo=pct,et.deburr=ttt,et.defaultTo=syt,et.divide=upt,et.endsWith=fvt,et.eq=ks,et.escape=evt,et.escapeRegExp=ovt,et.every=eht,et.find=hg,et.findIndex=kd,et.findKey=dlt,et.findLast=cg,et.findLastIndex=dd,et.findLastKey=glt,et.floor=fpt,et.forEach=lg,et.forEachRight=ag,et.forIn=nat,et.forInRight=tat,et.forOwn=iat,et.forOwnRight=rat,et.get=ew,et.gt=wct,et.gte=bct,et.has=eat,et.hasIn=ow,et.head=ng,et.identity=hf,et.includes=lht,et.indexOf=iot,et.inRange=rvt,et.invoke=hat,et.isArguments=tl,et.isArray=vi,et.isArrayBuffer=kct,et.isArrayLike=ef,et.isArrayLikeObject=nu,et.isBoolean=dct,et.isBuffer=yh,et.isDate=en,et.isElement=gct,et.isEmpty=nlt,et.isEqual=tlt,et.isEqualWith=ilt,et.isError=rw,et.isFinite=rlt,et.isFunction=kh,et.isInteger=on,et.isLength=ny,et.isMap=uw,et.isMatch=ult,et.isMatchWith=flt,et.isNaN=elt,et.isNative=olt,et.isNil=hlt,et.isNull=slt,et.isNumber=sn,et.isObject=pr,et.isObjectLike=wr,et.isPlainObject=fa,et.isRegExp=ty,et.isSafeInteger=clt,et.isSet=fw,et.isString=iy,et.isSymbol=lf,et.isTypedArray=il,et.isUndefined=llt,et.isWeakMap=alt,et.isWeakSet=vlt,et.join=oot,et.kebabCase=svt,et.last=wf,et.lastIndexOf=sot,et.lowerCase=hvt,et.lowerFirst=cvt,et.lt=hn,et.lte=cn,et.max=ept,et.maxBy=opt,et.mean=spt,et.meanBy=hpt,et.min=cpt,et.minBy=lpt,et.stubArray=pw,et.stubFalse=ww,et.stubObject=byt,et.stubString=kyt,et.stubTrue=dyt,et.multiply=apt,et.nth=hot,et.noConflict=lyt,et.noop=yw,et.now=ua,et.pad=lvt,et.padEnd=avt,et.padStart=vvt,et.parseInt=yvt,et.random=uvt,et.reduce=vht,et.reduceRight=yht,et.repeat=pvt,et.replace=wvt,et.result=pat,et.round=vpt,et.runInContext=fu,et.sample=wht,et.size=dht,et.snakeCase=itt,et.some=ght,et.sortedIndex=yot,et.sortedIndexBy=pot,et.sortedIndexOf=wot,et.sortedLastIndex=bot,et.sortedLastIndexBy=kot,et.sortedLastIndexOf=dot,et.startCase=rtt,et.startsWith=kvt,et.subtract=ypt,et.sum=ppt,et.sumBy=wpt,et.template=dvt,et.times=gyt,et.toFinite=sc,et.toInteger=yi,et.toLength=an,et.toLower=gvt,et.toNumber=ue,et.toSafeInteger=ylt,et.toString=ar,et.toUpper=nyt,et.trim=tyt,et.trimEnd=iyt,et.trimStart=ryt,et.truncate=uyt,et.unescape=fyt,et.uniqueId=tpt,et.upperCase=utt,et.upperFirst=uy,et.each=lg,et.eachRight=ag,et.first=ng,vw(et,function(){var n={};return ds(et,function(t,i){vr.call(et.prototype,i)||(n[i]=t)}),n}(),{chain:!1}),et.VERSION=pe,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){et[n].placeholder=et}),c(["drop","take"],function(t,i){lr.prototype[t]=function(r){r=r===n?1:ku(yi(r),0);var u=this.__filtered__&&!i?new lr(this):this.clone();return u.__filtered__?u.__takeCount__=nf(r,u.__takeCount__):u.__views__.push({size:nf(r,w),type:t+(u.__dir__<0?"Right":"")}),u};lr.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),c(["filter","map","takeWhile"],function(n,t){var i=t+1,r=i==su||i==io;lr.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:vt(n,3),type:i}),t.__filtered__=t.__filtered__||r,t}}),c(["head","last"],function(n,t){var i="take"+(t?"Right":"");lr.prototype[n]=function(){return this[i](1).value()[0]}}),c(["initial","tail"],function(n,t){var i="drop"+(t?"":"Right");lr.prototype[n]=function(){return this.__filtered__?new lr(this):this[i](1)}}),lr.prototype.compact=function(){return this.filter(hf)},lr.prototype.find=function(n){return this.filter(n).head()},lr.prototype.findLast=function(n){return this.reverse().find(n)},lr.prototype.invokeMap=cr(function(n,t){return typeof n=="function"?new lr(this):this.map(function(i){return dl(i,n,t)})}),lr.prototype.reject=function(n){return this.filter(gv(vt(n)))},lr.prototype.slice=function(t,i){t=yi(t);var r=this;return r.__filtered__&&(t>0||i<0)?new lr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),i!==n&&(i=yi(i),r=i<0?r.dropRight(-i):r.take(i-t)),r)},lr.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},lr.prototype.toArray=function(){return this.take(w)},ds(lr.prototype,function(t,i){var e=/^(?:filter|find|map|reject)|While$/.test(i),r=/^(?:head|last)$/.test(i),u=et[r?"take"+(i=="last"?"Right":""):i],f=r||/^find/.test(i);u&&(et.prototype[i]=function(){var o=this.__wrapped__,s=r?[1]:arguments,h=o instanceof lr,a=s[0],c=h||vi(o),v=function(n){var t=u.apply(et,it([n],s));return r&&l?t[0]:t},i;c&&e&&typeof a=="function"&&a.length!=1&&(h=c=!1);var l=this.__chain__,w=!!this.__actions__.length,y=f&&!l,p=h&&!w;return!f&&c?(o=p?o:new lr(this),i=t.apply(o,s),i.__actions__.push({func:wv,args:[v],thisArg:n}),new vf(i,l)):y&&p?t.apply(this,s):(i=this.thru(v),y?r?i.value()[0]:i.value():i)})}),c(["pop","push","shift","sort","splice","unshift"],function(n){var t=oa[n],i=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",r=/^(?:pop|shift)$/.test(n);et.prototype[n]=function(){var u=arguments,n;return r&&!this.__chain__?(n=this.value(),t.apply(vi(n)?n:[],u)):this[i](function(n){return t.apply(vi(n)?n:[],u)})}}),ds(lr.prototype,function(n,t){var r=et[t],i;r&&(i=r.name+"",vr.call(el,i)||(el[i]=[]),el[i].push({name:t,func:r}))}),el[sv(n,ut).name]=[{name:"wrapper",func:n}],lr.prototype.clone=vit,lr.prototype.reverse=yit,lr.prototype.value=pit,et.prototype.at=og,et.prototype.chain=gst,et.prototype.commit=nht,et.prototype.next=tht,et.prototype.plant=rht,et.prototype.reverse=uht,et.prototype.toJSON=et.prototype.valueOf=et.prototype.value=fht,et.prototype.first=et.prototype.head,al&&(et.prototype[al]=iht),et};d=fu();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(u._=d,define(function(){return d})):et?((et.exports=d)._=d,pr._=d):u._=d}).call(this);var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(n,t,i){var f,r,u;for(n instanceof String&&(n=String(n)),f=n.length,r=0;r<f;r++)if(u=n[r],t.call(i,u,r,n))return{i:r,v:u};return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,t,i){n!=Array.prototype&&n!=Object.prototype&&(n[t]=i.value)};$jscomp.getGlobal=function(n){return"undefined"!=typeof window&&window===n?n:"undefined"!=typeof global&&null!=global?global:n};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(n,t,i,r){if(t){for(i=$jscomp.global,n=n.split("."),r=0;r<n.length-1;r++){var u=n[r];u in i||(i[u]={});i=i[u]}n=n[n.length-1];r=i[n];t=t(r);t!=r&&null!=t&&$jscomp.defineProperty(i,n,{configurable:!0,writable:!0,value:t})}};$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(n,t){return $jscomp.findInternal(this,n,t).v}},"es6","es3"),function(n,t,i){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports&&"undefined"==typeof Meteor?module.exports=n(require("jquery")):n(t||i)}(function(n){var i=function(t,i,r){var u={invalid:[],getCaret:function(){var r;try{var n=0,e=t.get(0),f=document.selection,i=e.selectionStart;return f&&-1===navigator.appVersion.indexOf("MSIE 10")?(r=f.createRange(),r.moveStart("character",-u.val().length),n=r.text.length):(i||"0"===i)&&(n=i),n}catch(o){}},setCaret:function(n){var r,i;try{t.is(":focus")&&(r=t.get(0),r.setSelectionRange?r.setSelectionRange(n,n):(i=r.createTextRange(),i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",n),i.select()))}catch(u){}},events:function(){t.on("keydown.mask",function(n){t.data("mask-keycode",n.keyCode||n.which);t.data("mask-previus-value",t.val());t.data("mask-previus-caret-pos",u.getCaret());u.maskDigitPosMapOld=u.maskDigitPosMap}).on(n.jMaskGlobals.useInput?"input.mask":"keyup.mask",u.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){e===u.val()||t.data("changed")||t.trigger("change");t.data("changed",!1)}).on("blur.mask",function(){e=u.val()}).on("focus.mask",function(t){!0===r.selectOnFocus&&n(t.target).select()}).on("focusout.mask",function(){r.clearIfNotMatch&&!o.test(u.val())&&u.val("")})},getRegexMask:function(){for(var n=[],t,e,o,r,u=0;u<i.length;u++)(t=f.translation[i.charAt(u)])?(e=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),o=t.optional,(t=t.recursive)?(n.push(i.charAt(u)),r={digit:i.charAt(u),pattern:e}):n.push(o||t?e+"?":e)):n.push(i.charAt(u).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return n=n.join(""),r&&(n=n.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(n)},destroyEvents:function(){t.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(n){var i=t.is("input")?"val":"text";return 0<arguments.length?(t[i]()!==n&&t[i](n),i=t):i=t[i](),i},calculateCaretPosition:function(n){var e=u.getMasked(),i=u.getCaret(),f;if(n!==e){f=t.data("mask-previus-caret-pos")||0;e=e.length;for(var h=n.length,c=n=0,o=0,s=0,r=i;r<e&&u.maskDigitPosMap[r];r++)c++;for(r=i-1;0<=r&&u.maskDigitPosMap[r];r--)n++;for(r=i-1;0<=r;r--)u.maskDigitPosMap[r]&&o++;for(r=f-1;0<=r;r--)u.maskDigitPosMapOld[r]&&s++;i>h?i=10*e:f>=i&&f!==h?u.maskDigitPosMapOld[i]||(f=i,i=i-(s-o)-n,u.maskDigitPosMap[i]&&(i=f)):i>f&&(i=i+(o-s)+c)}return i},behaviour:function(i){var r,e,o;return i=i||window.event,u.invalid=[],r=t.data("mask-keycode"),-1===n.inArray(r,f.byPassKeys)?(r=u.getMasked(),e=u.getCaret(),o=t.data("mask-previus-value")||"",setTimeout(function(){u.setCaret(u.calculateCaretPosition(o))},n.jMaskGlobals.keyStrokeCompensation),u.val(r),u.setCaret(e),u.callbacks(i)):void 0},getMasked:function(n,t){var h=[],nt=void 0===t?u.val():t+"",e=0,y=i.length,o=0,p=nt.length,s=1,w="push",l=-1,k=0,a,d,g;for(t=[],r.reverse?(w="unshift",s=-1,a=0,e=y-1,o=p-1,d=function(){return-1<e&&-1<o}):(a=y-1,d=function(){return e<y&&o<p});d();){var b=i.charAt(e),v=nt.charAt(o),c=f.translation[b];c?(v.match(c.pattern)?(h[w](v),c.recursive&&(-1===l?l=e:e===a&&e!==l&&(e=l-s),a===l&&(e-=s)),e+=s):v===g?(k--,g=void 0):c.optional?(e+=s,o-=s):c.fallback?(h[w](c.fallback),e+=s,o-=s):u.invalid.push({p:o,v:v,e:c.pattern}),o+=s):(n||h[w](b),v===b?(t.push(o),o+=s):(g=b,t.push(o+k),k++),e+=s)}return n=i.charAt(a),y!==p+1||f.translation[n]||h.push(n),h=h.join(""),u.mapMaskdigitPositions(h,t,p),h},mapMaskdigitPositions:function(n,t,i){for(n=r.reverse?n.length-i:0,u.maskDigitPosMap={},i=0;i<t.length;i++)u.maskDigitPosMap[t[i]+n]=1},callbacks:function(n){var f=u.val(),h=f!==e,s=[f,n,t,r],o=function(n,t,i){"function"==typeof r[n]&&t&&r[n].apply(this,i)};o("onChange",!0===h,s);o("onKeyPress",!0===h,s);o("onComplete",f.length===i.length,s);o("onInvalid",0<u.invalid.length,[f,n,t,u.invalid,r])}},f,e,o;t=n(t);f=this;e=u.val();i="function"==typeof i?i(u.val(),void 0,t,r):i;f.mask=i;f.options=r;f.remove=function(){var n=u.getCaret();return f.options.placeholder&&t.removeAttr("placeholder"),t.data("mask-maxlength")&&t.removeAttr("maxlength"),u.destroyEvents(),u.val(f.getCleanVal()),u.setCaret(n),t};f.getCleanVal=function(){return u.getMasked(!0)};f.getMaskedVal=function(n){return u.getMasked(!1,n)};f.init=function(e){var s,h;if(e=e||!1,r=r||{},f.clearIfNotMatch=n.jMaskGlobals.clearIfNotMatch,f.byPassKeys=n.jMaskGlobals.byPassKeys,f.translation=n.extend({},n.jMaskGlobals.translation,r.translation),f=n.extend(!0,{},f,r),o=u.getRegexMask(),e)u.events(),u.val(u.getMasked());else{for(r.placeholder&&t.attr("placeholder",r.placeholder),t.data("mask")&&t.attr("autocomplete","off"),e=0,s=!0;e<i.length;e++)if(h=f.translation[i.charAt(e)],h&&h.recursive){s=!1;break}s&&t.attr("maxlength",i.length).data("mask-maxlength",!0);u.destroyEvents();u.events();e=u.getCaret();u.val(u.getMasked());u.setCaret(e)}};f.init(!t.is("input"))};n.maskWatchers={};var u=function(){var t=n(this),u={},f=t.attr("data-mask");return t.attr("data-mask-reverse")&&(u.reverse=!0),t.attr("data-mask-clearifnotmatch")&&(u.clearIfNotMatch=!0),"true"===t.attr("data-mask-selectonfocus")&&(u.selectOnFocus=!0),r(t,f,u)?t.data("mask",new i(this,f,u)):void 0},r=function(t,i,r){r=r||{};var u=n(t).data("mask"),f=JSON.stringify;t=n(t).val()||n(t).text();try{return"function"==typeof i&&(i=i(t)),"object"!=typeof u||f(u.options)!==f(r)||u.mask!==i}catch(e){}},t=function(n){var i=document.createElement("div"),t;return n="on"+n,t=n in i,t||(i.setAttribute(n,"return;"),t="function"==typeof i[n]),t};n.fn.mask=function(t,u){var o;u=u||{};var f=this.selector,e=n.jMaskGlobals,s=e.watchInterval;return e=u.watchInputs||e.watchInputs,o=function(){if(r(this,t,u))return n(this).data("mask",new i(this,t,u))},n(this).each(o),f&&""!==f&&e&&(clearInterval(n.maskWatchers[f]),n.maskWatchers[f]=setInterval(function(){n(document).find(f).each(o)},s)),this};n.fn.masked=function(n){return this.data("mask").getMaskedVal(n)};n.fn.unmask=function(){return clearInterval(n.maskWatchers[this.selector]),delete n.maskWatchers[this.selector],this.each(function(){var t=n(this).data("mask");t&&t.remove().removeData("mask")})};n.fn.cleanVal=function(){return this.data("mask").getCleanVal()};n.applyDataMask=function(t){t=t||n.jMaskGlobals.maskElements;(t instanceof n?t:n(t)).filter(n.jMaskGlobals.dataMaskAttr).each(u)};t={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&t("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};n.jMaskGlobals=n.jMaskGlobals||{};t=n.jMaskGlobals=n.extend(!0,{},t,n.jMaskGlobals);t.dataMask&&n.applyDataMask();setInterval(function(){n.jMaskGlobals.watchDataMask&&n.applyDataMask()},t.watchInterval)},window.jQuery,window.Zepto),function(){function o(r){var u=t;r&&(t[r]||(t[r]={}),u=t[r]);u.define&&u.define.packaged||(n.original=u.define,u.define=n,u.define.packaged=!0);u.require&&u.require.packaged||(i.original=u.require,u.require=i,u.require.packaged=!0)}var u="",t=function(){return this}(),n;if(t||typeof window=="undefined"||(t=window),u||typeof requirejs=="undefined"){n=function(t,i,r){if(typeof t!="string"){n.original?n.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(r=i);n.modules[t]||(n.payloads[t]=r,n.modules[t]=null)};n.modules={};n.payloads={};var f=function(n,t,r){var f,o,u,h,s;if(typeof t=="string"){if(f=e(n,t),f!=undefined)return r&&r(),f}else if(Object.prototype.toString.call(t)==="[object Array]"){for(o=[],u=0,h=t.length;u<h;++u){if(s=e(n,t[u]),s==undefined&&i.original)return;o.push(s)}return r&&r.apply(null,o)||!0}},i=function(n,t){var r=f("",n,t);return r==undefined&&i.original?i.original.apply(this,arguments):r},r=function(n,t){var i,u,f;if(t.indexOf("!")!==-1)return i=t.split("!"),r(n,i[0])+"!"+r(n,i[1]);if(t.charAt(0)==".")for(u=n.split("/").slice(0,-1).join("/"),t=u+"/"+t;t.indexOf(".")!==-1&&f!=t;)f=t,t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"");return t},e=function(t,i){var u;if(i=r(t,i),u=n.modules[i],!u){if(u=n.payloads[i],typeof u=="function"){var e={},o={id:i,uri:"",exports:e,packaged:!0},s=function(n,t){return f(i,n,t)},h=u(s,e,o);e=h||o.exports;n.modules[i]=e;delete n.payloads[i]}u=n.modules[i]=e||u}return u};o(u)}}();define("ace/lib/es6-shim",["require","exports","module"],function(){function n(n,t,i){Object.defineProperty(n,t,{value:i,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||n(String.prototype,"startsWith",function(n,t){return t=t||0,this.lastIndexOf(n,t)===t});String.prototype.endsWith||n(String.prototype,"endsWith",function(n,t){var i=this,r;return(t===undefined||t>i.length)&&(t=i.length),t-=n.length,r=i.indexOf(n,t),r!==-1&&r===t});String.prototype.repeat||n(String.prototype,"repeat",function(n){for(var i="",t=this;n>0;)n&1&&(i+=t),(n>>=1)&&(t+=t);return i});String.prototype.includes||n(String.prototype,"includes",function(n,t){return this.indexOf(n,t)!=-1});Object.assign||(Object.assign=function(n){var r,i,t;if(n===undefined||n===null)throw new TypeError("Cannot convert undefined or null to object");for(r=Object(n),i=1;i<arguments.length;i++)t=arguments[i],t!==undefined&&t!==null&&Object.keys(t).forEach(function(n){r[n]=t[n]});return r});Object.values||(Object.values=function(n){return Object.keys(n).map(function(t){return n[t]})});Array.prototype.find||n(Array.prototype,"find",function(n){for(var i,r=this.length,u=arguments[1],t=0;t<r;t++)if(i=this[t],n.call(u,i,t,this))return i});Array.prototype.findIndex||n(Array.prototype,"findIndex",function(n){for(var i,r=this.length,u=arguments[1],t=0;t<r;t++)if(i=this[t],n.call(u,i,t,this))return t});Array.prototype.includes||n(Array.prototype,"includes",function(n,t){return this.indexOf(n,t)!=-1});Array.prototype.fill||n(Array.prototype,"fill",function(n){for(var i=this,t=i.length>>>0,o=arguments[1],r=o>>0,u=r<0?Math.max(t+r,0):Math.min(r,t),e=arguments[2],f=e===undefined?t:e>>0,s=f<0?Math.max(t+f,0):Math.min(f,t);u<s;)i[u]=n,u++;return i});Array.of||n(Array,"of",function(){return Array.prototype.slice.call(arguments)})});define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(n){"use strict";n("./es6-shim")});define("ace/lib/deep_copy",["require","exports","module"],function(n,t){t.deepCopy=function i(n){var r,t;if(typeof n!="object"||!n)return n;if(Array.isArray(n)){for(r=[],t=0;t<n.length;t++)r[t]=i(n[t]);return r}if(Object.prototype.toString.call(n)!=="[object Object]")return n;r={};for(t in n)r[t]=i(n[t]);return r}});define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(n,t){"use strict";t.last=function(n){return n[n.length-1]};t.stringReverse=function(n){return n.split("").reverse().join("")};t.stringRepeat=function(n,t){for(var i="";t>0;)t&1&&(i+=n),(t>>=1)&&(n+=n);return i};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(n){return n.replace(i,"")};t.stringTrimRight=function(n){return n.replace(r,"")};t.copyObject=function(n){var t={};for(var i in n)t[i]=n[i];return t};t.copyArray=function(n){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=n[t]&&typeof n[t]=="object"?this.copyObject(n[t]):n[t];return i};t.deepCopy=n("./deep_copy").deepCopy;t.arrayToMap=function(n){for(var i={},t=0;t<n.length;t++)i[n[t]]=1;return i};t.createMap=function(n){var t=Object.create(null);for(var i in n)t[i]=n[i];return t};t.arrayRemove=function(n,t){for(var i=0;i<=n.length;i++)t===n[i]&&n.splice(i,1)};t.escapeRegExp=function(n){return n.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")};t.escapeHTML=function(n){return(""+n).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")};t.getMatchOffsets=function(n,t){var i=[];return n.replace(t,function(n){i.push({offset:arguments[arguments.length-2],length:n.length})}),i};t.deferredCall=function(n){var i=null,r=function(){i=null;n()},t=function(n){return t.cancel(),i=setTimeout(r,n||0),t};return t.schedule=t,t.call=function(){return this.cancel(),n(),t},t.cancel=function(){return clearTimeout(i),i=null,t},t.isPending=function(){return i},t};t.delayedCall=function(n,t){var i=null,u=function(){i=null;n()},r=function(n){i==null&&(i=setTimeout(u,n||t))};return r.delay=function(n){i&&clearTimeout(i);i=setTimeout(u,n||t)},r.schedule=r,r.call=function(){this.cancel();n()},r.cancel=function(){i&&clearTimeout(i);i=null},r.isPending=function(){return i},r};t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(n){return!1}return!0};t.skipEmptyMatch=function(n,t,i){return i&&n.codePointAt(t)>65535?2:1}});define("ace/lib/useragent",["require","exports","module"],function(n,t){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"};t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r=typeof navigator=="object"?navigator:{},u=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),i=r.userAgent||"",f=r.appName||"";t.isWin=u=="win";t.isMac=u=="mac";t.isLinux=u=="linux";t.isIE=f=="Microsoft Internet Explorer"||f.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]);t.isOldIE=t.isIE&&t.isIE<9;t.isGecko=t.isMozilla=i.match(/ Gecko\/\d+/);t.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]";t.isWebKit=parseFloat(i.split("WebKit/")[1])||undefined;t.isChrome=parseFloat(i.split(" Chrome/")[1])||undefined;t.isSafari=parseFloat(i.split(" Safari/")[1])&&!t.isChrome||undefined;t.isEdge=parseFloat(i.split(" Edge/")[1])||undefined;t.isAIR=i.indexOf("AdobeAIR")>=0;t.isAndroid=i.indexOf("Android")>=0;t.isChromeOS=i.indexOf(" CrOS ")>=0;t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream;t.isIOS&&(t.isMac=!0);t.isMobile=t.isIOS||t.isAndroid});define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(n,t){"use strict";function f(){var n=i;i=null;n&&n.forEach(function(n){e(n[0],n[1])})}function e(n,r,u){var e,o,h;if(typeof document!="undefined"){if(i)if(u)f();else if(u===!1)return i.push([n,r]);if(!s){if(e=u,u&&u.getRootNode?(e=u.getRootNode(),e&&e!=u||(e=document)):e=document,o=e.ownerDocument||e,r&&t.hasCssString(r,e))return null;r&&(n+="\n/*# sourceURL=ace/css/"+r+" */");h=t.createElement("style");h.appendChild(o.createTextNode(n));r&&(h.id=r);e==o&&(e=t.getDocumentHead(o));e.insertBefore(h,e.firstChild)}}}var u=n("./useragent"),h="http://www.w3.org/1999/xhtml",s,i,r;t.buildDom=function o(n,t,i){var e,s,h,r;if(typeof n=="string"&&n)return e=document.createTextNode(n),t&&t.appendChild(e),e;if(!Array.isArray(n))return n&&n.appendChild&&t&&t.appendChild(n),n;if(typeof n[0]!="string"||!n[0]){for(s=[],r=0;r<n.length;r++)h=o(n[r],t,i),h&&s.push(h);return s}var u=document.createElement(n[0]),f=n[1],c=1;for(f&&typeof f=="object"&&!Array.isArray(f)&&(c=2),r=c;r<n.length;r++)o(n[r],u,i);return c==2&&Object.keys(f).forEach(function(n){var t=f[n];n==="class"?u.className=Array.isArray(t)?t.join(" "):t:typeof t=="function"||n=="value"||n[0]=="$"?u[n]=t:n==="ref"?i&&(i[t]=u):n==="style"?typeof t=="string"&&(u.style.cssText=t):t!=null&&u.setAttribute(n,t)}),t&&t.appendChild(u),u};t.getDocumentHead=function(n){return n||(n=document),n.head||n.getElementsByTagName("head")[0]||n.documentElement};t.createElement=function(n,t){return document.createElementNS?document.createElementNS(t||h,n):document.createElement(n)};t.removeChildren=function(n){n.innerHTML=""};t.createTextNode=function(n,t){var i=t?t.ownerDocument:document;return i.createTextNode(n)};t.createFragment=function(n){var t=n?n.ownerDocument:document;return t.createDocumentFragment()};t.hasCssClass=function(n,t){var i=(n.className+"").split(/\s+/g);return i.indexOf(t)!==-1};t.addCssClass=function(n,i){t.hasCssClass(n,i)||(n.className+=" "+i)};t.removeCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r;;){if(r=i.indexOf(t),r==-1)break;i.splice(r,1)}n.className=i.join(" ")};t.toggleCssClass=function(n,t){for(var i=n.className.split(/\s+/g),r=!0,u;;){if(u=i.indexOf(t),u==-1)break;r=!1;i.splice(u,1)}return r&&i.push(t),n.className=i.join(" "),r};t.setCssClass=function(n,i,r){r?t.addCssClass(n,i):t.removeCssClass(n,i)};t.hasCssString=function(n,t){var r=0,i;if(t=t||document,i=t.querySelectorAll("style"))while(r<i.length)if(i[r++].id===n)return!0};t.removeElementById=function(n,t){t=t||document;t.getElementById(n)&&t.getElementById(n).remove()};i=[];t.useStrictCSP=function(n){s=n;n==0?f():i||(i=[])};t.importCssString=e;t.importCssStylsheet=function(n,i){t.buildDom(["link",{rel:"stylesheet",href:n}],t.getDocumentHead(i))};t.scrollbarWidth=function(n){var r=t.createElement("ace_inner"),u,i,f,o,e;return(r.style.width="100%",r.style.minWidth="0px",r.style.height="200px",r.style.display="block",u=t.createElement("ace_outer"),i=u.style,i.position="absolute",i.left="-10000px",i.overflow="hidden",i.width="200px",i.minWidth="0px",i.height="150px",i.display="block",u.appendChild(r),f=n&&n.documentElement||document&&document.documentElement,!f)?0:(f.appendChild(u),o=r.offsetWidth,i.overflow="scroll",e=r.offsetWidth,o===e&&(e=u.clientWidth),f.removeChild(u),o-e)};t.computedStyle=function(n){return window.getComputedStyle(n,"")||{}};t.setStyle=function(n,t,i){n[t]!==i&&(n[t]=i)};t.HAS_CSS_ANIMATION=!1;t.HAS_CSS_TRANSFORMS=!1;t.HI_DPI=u.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0;u.isChromeOS&&(t.HI_DPI=!1);typeof document!="undefined"&&(r=document.createElement("div"),t.HI_DPI&&r.style.transform!==undefined&&(t.HAS_CSS_TRANSFORMS=!0),!u.isEdge&&typeof r.style.animationName!="undefined"&&(t.HAS_CSS_ANIMATION=!0),r=null);t.translate=t.HAS_CSS_TRANSFORMS?function(n,t,i){n.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:function(n,t,i){n.style.top=Math.round(i)+"px";n.style.left=Math.round(t)+"px"}});define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("./dom");t.get=function(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.onreadystatechange=function(){i.readyState===4&&t(i.responseText)};i.send(null)};t.loadScript=function(n,t){var u=i.getDocumentHead(),r=document.createElement("script");r.src=n;u.appendChild(r);r.onload=r.onreadystatechange=function(n,i){(i||!r.readyState||r.readyState=="loaded"||r.readyState=="complete")&&(r=r.onload=r.onreadystatechange=null,i||t())}};t.qualifyURL=function(n){var t=document.createElement("a");return t.href=n,t.href}});define("ace/lib/oop",["require","exports","module"],function(n,t){"use strict";t.inherits=function(n,t){n.super_=t;n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})};t.mixin=function(n,t){for(var i in t)n[i]=t[i];return n};t.implement=function(n,i){t.mixin(n,i)}});define("ace/lib/event_emitter",["require","exports","module"],function(n,t){"use strict";var i={},r=function(){this.propagationStopped=!0},u=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(n,t){var i,f,e;if(this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={}),i=this._eventRegistry[n]||[],f=this._defaultHandlers[n],i.length||f){for(typeof t=="object"&&t||(t={}),t.type||(t.type=n),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=u),i=i.slice(),e=0;e<i.length;e++)if(i[e](t,this),t.propagationStopped)break;if(f&&!t.defaultPrevented)return f(t,this)}};i._signal=function(n,t){var i=(this._eventRegistry||{})[n],r;if(i)for(i=i.slice(),r=0;r<i.length;r++)i[r](t,this)};i.once=function(n,t){var i=this;this.on(n,function r(){i.off(n,r);t.apply(null,arguments)});if(!t)return new Promise(function(n){t=n})};i.setDefaultHandler=function(n,t){var i=this._defaultHandlers,f,r,u;i||(i=this._defaultHandlers={_disabled_:{}});i[n]&&(f=i[n],r=i._disabled_[n],r||(i._disabled_[n]=r=[]),r.push(f),u=r.indexOf(t),u!=-1&&r.splice(u,1));i[n]=t};i.removeDefaultHandler=function(n,t){var r=this._defaultHandlers,i,u;r&&(i=r._disabled_[n],r[n]==t?i&&this.setDefaultHandler(n,i.pop()):i&&(u=i.indexOf(t),u!=-1&&i.splice(u,1)))};i.on=i.addEventListener=function(n,t,i){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[n];return r||(r=this._eventRegistry[n]=[]),r.indexOf(t)==-1&&r[i?"unshift":"push"](t),t};i.off=i.removeListener=i.removeEventListener=function(n,t){var i,r;(this._eventRegistry=this._eventRegistry||{},i=this._eventRegistry[n],i)&&(r=i.indexOf(t),r!==-1&&i.splice(r,1))};i.removeAllListeners=function(n){n||(this._eventRegistry=this._defaultHandlers=undefined);this._eventRegistry&&(this._eventRegistry[n]=undefined);this._defaultHandlers&&(this._defaultHandlers[n]=undefined)};t.EventEmitter=i});define("ace/lib/report_error",["require","exports","module"],function(n,t){t.reportError=function(n,t){var i=new Error(n);i.data=t;typeof console=="object"&&console.error&&console.error(i);setTimeout(function(){throw i;})}});define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error"],function(n,t){"no use strict";function r(){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}var f=n("./oop"),e=n("./event_emitter").EventEmitter,o=n("./report_error").reportError,s={setOptions:function(n){Object.keys(n).forEach(function(t){this.setOption(t,n[t])},this)},getOptions:function(n){var t={},i;return n?Array.isArray(n)||(t=n,n=Object.keys(t)):(i=this.$options,n=Object.keys(i).filter(function(n){return!i[n].hidden})),n.forEach(function(n){t[n]=this.getOption(n)},this),t},setOption:function(n,t){if(this["$"+n]!==t){var i=this.$options[n];if(!i)return r('misspelled option "'+n+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(n,t);i.handlesSet||(this["$"+n]=t);i&&i.set&&i.set.call(this,t)}},getOption:function(n){var t=this.$options[n];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(n):t&&t.get?t.get.call(this):this["$"+n]:r('misspelled option "'+n+'"')}},i,u=function(){function n(){this.$defaultOptions={}}return n.prototype.defineOptions=function(n,t,i){return n.$options||(this.$defaultOptions[t]=n.$options={}),Object.keys(i).forEach(function(t){var r=i[t];typeof r=="string"&&(r={forwardTo:r});r.name||(r.name=t);n.$options[r.name]=r;"initialValue"in r&&(n["$"+r.name]=r.initialValue)}),f.implement(n,s),this},n.prototype.resetOptions=function(n){Object.keys(n.$options).forEach(function(t){var i=n.$options[t];"value"in i&&n.setOption(t,i.value)})},n.prototype.setDefaultValue=function(n,t,i){if(!n){for(n in this.$defaultOptions)if(this.$defaultOptions[n][t])break;if(!this.$defaultOptions[n][t])return!1}var r=this.$defaultOptions[n]||(this.$defaultOptions[n]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,i):r[t].value=i)},n.prototype.setDefaultValues=function(n,t){Object.keys(t).forEach(function(i){this.setDefaultValue(n,i,t[i])},this)},n.prototype.setMessages=function(n){i=n},n.prototype.nls=function(n,t){i&&!i[n]&&r("No message found for '"+n+"' in the provided messages, falling back to default English message.");var u=i&&i[n]||n;return t&&(u=u.replace(/\$(\$|[\d]+)/g,function(n,i){return i=="$"?"$":t[i]})),u},n}();u.prototype.warn=r;u.prototype.reportError=o;f.implement(u.prototype,e);t.AppConfig=u});define("ace/theme/textmate-css",["require","exports","module"],function(n,t,i){i.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'});define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(n,t){"use strict";t.isDark=!1;t.cssClass="ace-tm";t.cssText=n("./textmate-css");t.$id="ace/theme/textmate";var i=n("../lib/dom");i.importCssString(t.cssText,t.cssClass,!1)});define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(n,t,i){"no use strict";var o=n("./lib/lang"),s=n("./lib/net"),h=n("./lib/dom"),c=n("./lib/app_config").AppConfig,r,e,u,f;i.exports=t=new c;r={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(n){if(!r.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return r[n]};t.set=function(n,t){if(r.hasOwnProperty(n))r[n]=t;else if(this.setDefaultValue("",n,t)==0)throw new Error("Unknown config key: "+n);n=="useStrictCSP"&&h.useStrictCSP(t)};t.all=function(){return o.copyObject(r)};t.$modes={};t.moduleUrl=function(n,t){var i,e,u,o,f;return r.$moduleUrls[n]?r.$moduleUrls[n]:(i=n.split("/"),t=t||i[i.length-2]||"",e=t=="snippets"?"/":"-",u=i[i.length-1],t=="worker"&&e=="-"&&(o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),u=u.replace(o,"")),(!u||u==t)&&i.length>1&&(u=i[i.length-2]),f=r[t+"Path"],f==null?f=r.basePath:e=="/"&&(t=e=""),f&&f.slice(-1)!="/"&&(f+="/"),f+t+e+u+this.get("suffix"))};t.setModuleUrl=function(n,t){return r.$moduleUrls[n]=t};e=function(t,i){if(t==="ace/theme/textmate"||t==="./theme/textmate")return i(null,n("./theme/textmate"));if(u)return u(t,i);console.error("loader is not configured")};t.setLoader=function(n){u=n};t.dynamicModules=Object.create(null);t.$loading={};t.$loaded={};t.loadModule=function(n,i){var o,h,r,u;if(Array.isArray(n)?(h=n[0],r=n[1]):typeof n=="string"&&(r=n),u=function(n){if(n&&!t.$loading[r])return i&&i(n);if(t.$loading[r]||(t.$loading[r]=[]),t.$loading[r].push(i),!(t.$loading[r].length>1)){var u=function(){e(r,function(n,i){i&&(t.$loaded[r]=i);t._emit("load.module",{name:r,module:i});var u=t.$loading[r];t.$loading[r]=null;u.forEach(function(n){n&&n(i)})})};if(!t.get("packaged"))return u();s.loadScript(t.moduleUrl(r,h),u);f()}},t.dynamicModules[r])t.dynamicModules[r]().then(function(n){n.default?u(n.default):u(n)});else{try{o=this.$require(r)}catch(c){}u(o||t.$loaded[r])}};t.$require=function(n){if(typeof i.require=="function")return i["require"](n)};t.setModuleLoader=function(n,i){t.dynamicModules[n]=i};f=function(){r.basePath||r.workerPath||r.modePath||r.themePath||Object.keys(r.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),f=function(){})};t.version="1.32.6"});define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(n,t,i){"use strict";function f(t){var y,h,c,p,w,l,k,a,b,v;if(u&&u.document){r.set("packaged",t||n.packaged||i.packaged||u.define&&define.packaged);var f={},s="",o=document.currentScript||document._currentScript,d=o&&o.ownerDocument||document;for(o&&o.src&&(s=o.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||""),y=d.getElementsByTagName("script"),h=0;h<y.length;h++)if(c=y[h],p=c.src||c.getAttribute("src"),p){for(w=c.attributes,l=0,k=w.length;l<k;l++)a=w[l],a.name.indexOf("data-ace-")===0&&(f[e(a.name.replace(/^data-ace-/,""))]=a.value);b=p.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);b&&(s=b[1])}s&&(f.base=f.base||s,f.packaged=!0);f.basePath=f.base;f.workerPath=f.workerPath||f.base;f.modePath=f.modePath||f.base;f.themePath=f.themePath||f.base;delete f.base;for(v in f)typeof f[v]!="undefined"&&r.set(v,f[v])}}function e(n){return n.replace(/-(.)/g,function(n,t){return t.toUpperCase()})}var r,u;n("./lib/fixoldbrowsers");r=n("./config");r.setLoader(function(t,i){n([t],function(n){i(null,n)})});u=function(){return this||typeof window!="undefined"&&window}();i.exports=function(t){r.init=f;r.$require=n;t.require=n;typeof define=="function"&&(t.define=define)}});define("ace/range",["require","exports","module"],function(n,t){"use strict";var i=function(){function n(n,t,i,r){this.start={row:n,column:t};this.end={row:i,column:r}}return n.prototype.isEqual=function(n){return this.start.row===n.start.row&&this.end.row===n.end.row&&this.start.column===n.start.column&&this.end.column===n.end.column},n.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},n.prototype.contains=function(n,t){return this.compare(n,t)==0},n.prototype.compareRange=function(n){var t,r=n.end,i=n.start;return t=this.compare(r.row,r.column),t==1?(t=this.compare(i.row,i.column),t==1?2:t==0?1:0):t==-1?-2:(t=this.compare(i.row,i.column),t==-1?-1:t==1?42:0)},n.prototype.comparePoint=function(n){return this.compare(n.row,n.column)},n.prototype.containsRange=function(n){return this.comparePoint(n.start)==0&&this.comparePoint(n.end)==0},n.prototype.intersects=function(n){var t=this.compareRange(n);return t==-1||t==0||t==1},n.prototype.isEnd=function(n,t){return this.end.row==n&&this.end.column==t},n.prototype.isStart=function(n,t){return this.start.row==n&&this.start.column==t},n.prototype.setStart=function(n,t){typeof n=="object"?(this.start.column=n.column,this.start.row=n.row):(this.start.row=n,this.start.column=t)},n.prototype.setEnd=function(n,t){typeof n=="object"?(this.end.column=n.column,this.end.row=n.row):(this.end.row=n,this.end.column=t)},n.prototype.inside=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)||this.isStart(n,t)?!1:!0:!1},n.prototype.insideStart=function(n,t){return this.compare(n,t)==0?this.isEnd(n,t)?!1:!0:!1},n.prototype.insideEnd=function(n,t){return this.compare(n,t)==0?this.isStart(n,t)?!1:!0:!1},n.prototype.compare=function(n,t){return!this.isMultiLine()&&n===this.start.row?t<this.start.column?-1:t>this.end.column?1:0:n<this.start.row?-1:n>this.end.row?1:this.start.row===n?t>=this.start.column?0:-1:this.end.row===n?t<=this.end.column?0:1:0},n.prototype.compareStart=function(n,t){return this.start.row==n&&this.start.column==t?-1:this.compare(n,t)},n.prototype.compareEnd=function(n,t){return this.end.row==n&&this.end.column==t?1:this.compare(n,t)},n.prototype.compareInside=function(n,t){return this.end.row==n&&this.end.column==t?1:this.start.row==n&&this.start.column==t?-1:this.compare(n,t)},n.prototype.clipRows=function(t,i){var r,u;return this.end.row>i?r={row:i+1,column:0}:this.end.row<t&&(r={row:t,column:0}),this.start.row>i?u={row:i+1,column:0}:this.start.row<t&&(u={row:t,column:0}),n.fromPoints(u||this.start,r||this.end)},n.prototype.extend=function(t,i){var r=this.compare(t,i),u,f;return r==0?this:(r==-1?u={row:t,column:i}:f={row:t,column:i},n.fromPoints(u||this.start,f||this.end))},n.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},n.prototype.isMultiLine=function(){return this.start.row!==this.end.row},n.prototype.clone=function(){return n.fromPoints(this.start,this.end)},n.prototype.collapseRows=function(){return this.end.column==0?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},n.prototype.toScreenRange=function(t){var i=t.documentToScreenPosition(this.start),r=t.documentToScreenPosition(this.end);return new n(i.row,i.column,r.row,r.column)},n.prototype.moveBy=function(n,t){this.start.row+=n;this.start.column+=t;this.end.row+=n;this.end.column+=t},n}();i.fromPoints=function(n,t){return new i(n.row,n.column,t.row,t.column)};i.comparePoints=function(n,t){return n.row-t.row||n.column-t.column};t.Range=i});define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(n,t){"use strict";var i=n("./oop"),r=function(){var n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,"super":8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},r,t;n.PRINTABLE_KEYS[173]="-";for(t in n.FUNCTION_KEYS)r=n.FUNCTION_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)r=n.PRINTABLE_KEYS[t].toLowerCase(),n[r]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n["return"],n.escape=n.esc,n.del=n["delete"],function(){for(var i=["cmd","ctrl","alt","shift"],t=Math.pow(2,i.length);t--;)n.KEY_MODS[t]=i.filter(function(i){return t&n.KEY_MODS[i]}).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r);t.default=t;t.keyCodeToString=function(n){var t=r[n];return typeof t!="string"&&(t=String.fromCharCode(n)),t.toLowerCase()}});define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function y(){o=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return o={passive:!1},!0}})}catch(n){}}function s(){return o==undefined&&y(),o}function h(n,t,i){this.elem=n;this.type=t;this.callback=i}function c(n){return 0|(n.ctrlKey?1:0)|(n.altKey?2:0)|(n.shiftKey?4:0)|(n.metaKey?8:0)}function p(n,t,i){var u=c(t),o,s;if(!f.isMac&&r){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(u|=8),r.altGr){if((3&u)==3)return;r.altGr=0}(i===18||i===17)&&(o=t.location,i===17&&o===1?r[i]==1&&(a=t.timeStamp):i===18&&u===3&&o===2&&(s=t.timeStamp-a,s<50&&(r.altGr=!0)))}if(i in e.MODIFIER_KEYS&&(i=-1),u||i!==13||t.location!==3||(n(t,u,-i),!t.defaultPrevented)){if(f.isChromeOS&&u&8){if(n(t,u,i),t.defaultPrevented)return;u&=-9}return!!u||i in e.FUNCTION_KEYS||i in e.PRINTABLE_KEYS?n(t,u,i):!1}}function l(){r=Object.create(null)}var e=n("./keys"),f=n("./useragent"),r=null,a=0,o,i,u,v;h.prototype.destroy=function(){u(this.elem,this.type,this.callback);this.elem=this.type=this.callback=undefined};i=t.addListener=function(n,t,i,r){n.addEventListener(t,i,s());r&&r.$toDestroy.push(new h(n,t,i))};u=t.removeListener=function(n,t,i){n.removeEventListener(t,i,s())};t.stopEvent=function(n){return t.stopPropagation(n),t.preventDefault(n),!1};t.stopPropagation=function(n){n.stopPropagation&&n.stopPropagation()};t.preventDefault=function(n){n.preventDefault&&n.preventDefault()};t.getButton=function(n){return n.type=="dblclick"?0:n.type=="contextmenu"||f.isMac&&n.ctrlKey&&!n.altKey&&!n.shiftKey?2:n.button};t.capture=function(n,t,r){function e(n){t&&t(n);r&&r(n);u(f,"mousemove",t);u(f,"mouseup",e);u(f,"dragstart",e)}var f=n&&n.ownerDocument||document;return i(f,"mousemove",t),i(f,"mouseup",e),i(f,"dragstart",e),e};t.addMouseWheelListener=function(n,t,r){i(n,"wheel",function(n){var e=.15,i=n.deltaX||0,r=n.deltaY||0,u,f;switch(n.deltaMode){case n.DOM_DELTA_PIXEL:n.wheelX=i*e;n.wheelY=r*e;break;case n.DOM_DELTA_LINE:u=15;n.wheelX=i*u;n.wheelY=r*u;break;case n.DOM_DELTA_PAGE:f=150;n.wheelX=i*f;n.wheelY=r*f}t(n)},r)};t.addMultiMouseDownListener=function(n,r,u,e,o){function a(n){if(t.getButton(n)!==0?s=0:n.detail>1?(s++,s>4&&(s=1)):s=1,f.isIE){var i=Math.abs(n.clientX-c)>5||Math.abs(n.clientY-l)>5;(!h||i)&&(s=1);h&&clearTimeout(h);h=setTimeout(function(){h=null},r[s-1]||600);s==1&&(c=n.clientX,l=n.clientY)}if(n._clicks=s,u[e]("mousedown",n),s>4)s=0;else if(s>1)return u[e](v[s],n)}var s=0,c,l,h,v={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(n)||(n=[n]);n.forEach(function(n){i(n,"mousedown",a,o)})};t.getModifierString=function(n){return e.KEY_MODS[c(n)]};t.addCommandKeyListener=function(n,u,f){var e=null;i(n,"keydown",function(n){r[n.keyCode]=(r[n.keyCode]||0)+1;var t=p(u,n,n.keyCode);return e=n.defaultPrevented,t},f);i(n,"keypress",function(n){e&&(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey)&&(t.stopEvent(n),e=null)},f);i(n,"keyup",function(n){r[n.keyCode]=null},f);r||(l(),i(window,"focus",l))};typeof window=="object"&&window.postMessage&&!f.isOldIE&&(v=1,t.nextTick=function(n,r){r=r||window;var f="zero-timeout-message-"+v++,e=function(i){i.data==f&&(t.stopPropagation(i),u(r,"message",e),n())};i(r,"message",e);r.postMessage(f,"*")});t.$idleBlocked=!1;t.onIdle=function(n,i){return setTimeout(function r(){t.$idleBlocked?setTimeout(r,100):n()},i)};t.$idleBlockId=null;t.blockIdle=function(n){t.$idleBlockId&&clearTimeout(t.$idleBlockId);t.$idleBlocked=!0;t.$idleBlockId=setTimeout(function(){t.$idleBlocked=!1},n||100)};t.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame);t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(n){setTimeout(n,17)}});define("ace/clipboard",["require","exports","module"],function(n,t,i){"use strict";var r;i.exports={lineMode:!1,pasteCancelled:function(){return r&&r>Date.now()-50?!0:r=!1},cancel:function(){r=Date.now()}}});define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(n,t){"use strict";var i=n("../lib/event"),c=n("../config").nls,r=n("../lib/useragent"),s=n("../lib/dom"),a=n("../lib/lang"),v=n("../clipboard"),y=r.isChrome<18,p=r.isIE,w=r.isChrome>63,f=400,u=n("../lib/keys"),h=u.KEY_MODS,e=r.isIOS,b=e?/\s/:/\n/,o=r.isMobile,l;l=function(n,t){function pt(){at=!0;l.blur();l.focus();at=!1}function hi(n){n.keyCode==27&&l.value.length<l.selectionStart&&(k||(nt=l.value),g=d=-1,tt());si()}function ct(){clearTimeout(dt);dt=setTimeout(function(){ot&&(l.style.cssText=ot,ot="");t.renderer.$isMousePressed=!1;t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()},0)}function ci(n,t,i){var r=null,f=!1,e;i.addEventListener("keydown",function(){r&&clearTimeout(r);f=!0},!0);i.addEventListener("keyup",function(){r=setTimeout(function(){f=!1},100)},!0);e=function(){var c,s;if(document.activeElement===i&&!f&&!k&&!t.$mouseHandler.isMousePressed&&!ft){var e=i.selectionStart,r=i.selectionEnd,n=null,o=0;e==0?n=u.up:e==1?n=u.home:r>d&&nt[r]=="\n"?n=u.end:e<g&&nt[e-1]==" "?(n=u.left,o=h.option):e<g||e==g&&d!=g&&e==r?n=u.left:r>d&&nt.slice(0,r).split("\n").length>2?n=u.down:r>d&&nt[r-1]==" "?(n=u.right,o=h.option):(r>d||r==d&&d!=g&&e==r)&&(n=u.right);e!==r&&(o|=h.shift);n&&(c=t.onCommandKey({},o,n),!c&&t.commands&&(n=u.keyCodeToString(n),s=t.commands.findKeyCommand(o,n),s&&t.execCommand(s)),g=e,d=r,tt(""))}};document.addEventListener("selectionchange",e);t.on("destroy",function(){document.removeEventListener("selectionchange",e)})}var l=s.createElement("textarea"),et,bt,tt,dt,yt;l.className="ace_text-input";l.setAttribute("wrap","off");l.setAttribute("autocorrect","off");l.setAttribute("autocapitalize","off");l.setAttribute("spellcheck","false");l.style.opacity="0";n.insertBefore(l,n.firstChild);var ft=!1,wt=!1,k=!1,lt=!1,ot="";o||(l.style.fontSize="1px");var st=!1,at=!1,nt="",g=0,d=0,gt=0,it=Number.MAX_SAFE_INTEGER,rt=Number.MIN_SAFE_INTEGER,ut=0;try{et=document.activeElement===l}catch(yi){}this.setNumberOfExtraLines=function(n){if(it=Number.MAX_SAFE_INTEGER,rt=Number.MIN_SAFE_INTEGER,n<0){ut=0;return}ut=n};this.setAriaOptions=function(n){if(n.activeDescendant?(l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-autocomplete",n.inline?"both":"list"),l.setAttribute("aria-activedescendant",n.activeDescendant)):(l.setAttribute("aria-haspopup","false"),l.setAttribute("aria-autocomplete","both"),l.removeAttribute("aria-activedescendant")),n.role&&l.setAttribute("role",n.role),n.setLabel&&(l.setAttribute("aria-roledescription",c("editor")),t.session)){var i=t.session.selection.cursor.row;l.setAttribute("aria-label",c("Cursor at row $0",[i+1]))}};this.setAriaOptions({role:"textbox"});i.addListener(l,"blur",function(n){at||(t.onBlur(n),et=!1)},t);i.addListener(l,"focus",function(n){if(!at){if(et=!0,r.isEdge)try{if(!document.hasFocus())return}catch(n){}t.onFocus(n);r.isEdge?setTimeout(tt):tt()}},t);this.$focusScroll=!1;this.focus=function(){var u,i,r,n;if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),ot||w||this.$focusScroll=="browser")return l.focus({preventScroll:!0});u=l.style.top;l.style.position="fixed";l.style.top="0px";try{i=l.getBoundingClientRect().top!=0}catch(f){return}if(r=[],i)for(n=l.parentElement;n&&n.nodeType==1;)r.push(n),n.setAttribute("ace_nocontext","true"),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement;l.focus({preventScroll:!0});i&&r.forEach(function(n){n.removeAttribute("ace_nocontext")});setTimeout(function(){l.style.position="";l.style.top=="0px"&&(l.style.top=u)},0)};this.blur=function(){l.blur()};this.isFocused=function(){return et};t.on("beforeEndOperation",function(){var n=t.curOp,i=n&&n.command&&n.command.name,r;i!="insertstring"&&(r=i&&(n.docChanged||n.selectionChanged),k&&r&&(nt=l.value="",oi()),tt())});bt=function(n,i){for(var u=i,r=1;r<=n-it&&r<2*ut+1;r++)u+=t.session.getLine(n-r).length+1;return u};tt=e?function(n){var u,i,r;et&&(!ft||n)&&!lt&&(n||(n=""),u="\n ab"+n+"cde fg\n",u!=l.value&&(l.value=nt=u),i=4,r=4+(n.length||(t.selection.isEmpty()?0:1)),(g!=i||d!=r)&&l.setSelectionRange(i,r),g=i,d=r)}:function(){var c,s,a,v,h;if(!k&&!lt&&(et||ht)){k=!0;var r=0,i=0,n="";if(t.session){var y=t.selection,u=y.getRange(),e=y.cursor.row;for(e===rt+1?(it=rt+1,rt=it+2*ut):e===it-1?(rt=it-1,it=rt-2*ut):(e<it-1||e>rt+1)&&(it=e>ut?e-ut:0,rt=e>ut?e+ut:2*ut),c=[],s=it;s<=rt;s++)c.push(t.session.getLine(s));n=c.join("\n");r=bt(u.start.row,u.start.column);i=bt(u.end.row,u.end.column);u.start.row<it?(a=t.session.getLine(it-1),r=u.start.row<it-1?0:r,i+=a.length+1,n=a+"\n"+n):u.end.row>rt?(v=t.session.getLine(rt+1),i=u.end.row>rt+1?v.length:u.end.column,i+=n.length+1,n=n+"\n"+v):o&&e>0&&(n="\n"+n,i+=1,r+=1);n.length>f&&(r<f&&i<f?n=n.slice(0,f):(n="\n",r==i?r=i=0:(r=0,i=1)));h=n+"\n\n";h!=nt&&(l.value=nt=h,g=d=h.length)}if(ht&&(g=l.selectionStart,d=l.selectionEnd),d!=i||g!=r||l.selectionEnd!=d)try{l.setSelectionRange(r,i);g=r;d=i}catch(p){}k=!1}};this.resetSelection=tt;et&&t.onFocus();var li=function(n){return n.selectionStart===0&&n.selectionEnd>=nt.length&&n.value===nt&&nt&&n.selectionEnd!==d},ai=function(){k||(ft?ft=!1:li(l)?(t.selectAll(),tt()):o&&l.selectionStart!=g&&tt())},ni=null;this.setInputHandler=function(n){ni=n};this.getInputHandler=function(){return ni};var ht=!1,ti=function(n,i){var h,a;if(ht&&(ht=!1),wt)return tt(),n&&t.onPaste(n),wt=!1,"";for(var v=l.selectionStart,y=l.selectionEnd,e=g,o=nt.length-d,u=n,c=n.length-v,s=n.length-y,f=0;e>0&&nt[f]==n[f];)f++,e--;for(u=u.slice(f),f=1;o>0&&nt.length-f>g-1&&nt[nt.length-f]==n[n.length-f];)f++,o--;return(c-=f-1,s-=f-1,h=u.length-f+1,h<0&&(e=-h,h=0),u=u.slice(0,h),!i&&!u&&!c&&!e&&!o&&!s)?"":(lt=!0,a=!1,r.isAndroid&&u==". "&&(u="  ",a=!0),u&&!e&&!o&&!c&&!s||st?t.onTextInput(u):t.onTextInput(u,{extendLeft:e,extendRight:o,restoreStart:c,restoreEnd:s}),lt=!1,nt=n,g=v,d=y,gt=s,a?"\n":u)},ii=function(n){if(k)return vt();if(n&&n.inputType){if(n.inputType=="historyUndo")return t.execCommand("undo");if(n.inputType=="historyRedo")return t.execCommand("redo")}var i=l.value,r=ti(i,!0);(i.length>f+100||b.test(r)||o&&g<1&&g==d)&&tt()},kt=function(n,t,i){var r=n.clipboardData||window.clipboardData,u;if(r&&!y){u=p||i?"Text":"text/plain";try{return t?r.setData(u,t)!==!1:r.getData(u)}catch(n){if(!i)return kt(n,t,!0)}}},ri=function(n,r){var u=t.getCopyText();if(!u)return i.preventDefault(n);kt(n,u)?(e&&(tt(u),ft=u,setTimeout(function(){ft=!1},10)),r?t.onCut():t.onCopy(),i.preventDefault(n)):(ft=!0,l.value=u,l.select(),setTimeout(function(){ft=!1;tt();r?t.onCut():t.onCopy()}))},ui=function(n){ri(n,!0)},fi=function(n){ri(n,!1)},ei=function(n){var u=kt(n);v.pasteCancelled()||(typeof u=="string"?(u&&t.onPaste(u,n),r.isIE&&setTimeout(tt),i.preventDefault(n)):(l.value="",wt=!0))};i.addCommandKeyListener(l,function(n,i,r){if(!k)return t.onCommandKey(n,i,r)},t);i.addListener(l,"select",ai,t);i.addListener(l,"input",ii,t);i.addListener(l,"cut",ui,t);i.addListener(l,"copy",fi,t);i.addListener(l,"paste",ei,t);(!("oncut"in l)||!("oncopy"in l)||!("onpaste"in l))&&i.addListener(n,"keydown",function(n){if((!r.isMac||n.metaKey)&&n.ctrlKey)switch(n.keyCode){case 67:fi(n);break;case 86:ei(n);break;case 88:ui(n)}},t);var vi=function(n){if(!k&&t.onCompositionStart&&!t.$readOnly&&(k={},!st)){n.data&&(k.useTextareaForIME=!1);setTimeout(vt,0);t._signal("compositionStart");t.on("mousedown",pt);var i=t.getSelectionRange();i.end.row=i.start.row;i.end.column=i.start.column;k.markerRange=i;k.selectionStart=g;t.onCompositionStart(k);k.useTextareaForIME?(nt=l.value="",g=0,d=0):(l.msGetInputContext&&(k.context=l.msGetInputContext()),l.getInputContext&&(k.context=l.getInputContext()))}},vt=function(){if(k&&t.onCompositionUpdate&&!t.$readOnly){if(st)return pt();if(k.useTextareaForIME)t.onCompositionUpdate(l.value);else{var n=l.value;ti(n);k.markerRange&&(k.context&&(k.markerRange.start.column=k.selectionStart=k.context.compositionStartOffset),k.markerRange.end.column=k.markerRange.start.column+d-k.selectionStart+gt)}}},oi=function(n){t.onCompositionEnd&&!t.$readOnly&&(k=!1,t.onCompositionEnd(),t.off("mousedown",pt),n&&ii())},si=a.delayedCall(vt,50).schedule.bind(null,null);i.addListener(l,"compositionstart",vi,t);i.addListener(l,"compositionupdate",vt,t);i.addListener(l,"keyup",hi,t);i.addListener(l,"keydown",si,t);i.addListener(l,"compositionend",oi,t);this.getElement=function(){return l};this.setCommandMode=function(n){st=n;l.readOnly=!1};this.setReadOnly=function(n){st||(l.readOnly=n)};this.setCopyWithEmptySelection=function(){};this.onContextMenu=function(n){ht=!0;tt();t._emit("nativecontextmenu",{target:t,domEvent:n});this.moveToMouse(n,!0)};this.moveToMouse=function(n,u){ot||(ot=l.style.cssText);l.style.cssText=(u?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(g+d)*t.renderer.characterWidth*.5+"px;";var f=t.container.getBoundingClientRect(),h=s.computedStyle(t.container),e=f.top+(parseInt(h.borderTopWidth)||0),c=f.left+(parseInt(f.borderLeftWidth)||0),a=f.bottom-e-l.clientHeight-2,o=function(n){s.translate(l,n.clientX-c-2,Math.min(n.clientY-e-2,a))};(o(n),n.type=="mousedown")&&(t.renderer.$isMousePressed=!0,clearTimeout(dt),r.isWin&&i.capture(t.container,o,ct))};this.onContextMenuClose=ct;yt=function(n){t.textInput.onContextMenu(n);ct()};i.addListener(l,"mouseup",yt,t);i.addListener(l,"mousedown",function(n){n.preventDefault();ct()},t);i.addListener(t.renderer.scroller,"contextmenu",yt,t);i.addListener(l,"contextmenu",yt,t);e&&ci(n,t,l);this.destroy=function(){l.parentElement&&l.parentElement.removeChild(l)}};t.TextInput=l;t.$setUserAgentForTests=function(n,t){o=n;e=t}});define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(n,t){"use strict";function f(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}function r(n,t){var i;return i=n.start.row==n.end.row?2*t.column-n.start.column-n.end.column:n.start.row!=n.end.row-1||n.start.column||n.end.column?2*t.row-n.start.row-n.end.row:t.column-4,i<0?{cursor:n.start,anchor:n.end}:{cursor:n.end,anchor:n.start}}var e=n("../lib/useragent"),o=0,u=550,i=function(){function n(n){var t,i;n.$clickSelection=null;t=n.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(n));t.setDefaultHandler("dblclick",this.onDoubleClick.bind(n));t.setDefaultHandler("tripleclick",this.onTripleClick.bind(n));t.setDefaultHandler("quadclick",this.onQuadClick.bind(n));t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(n));i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){n[t]=this[t]},this);n.selectByLines=this.extendSelectionBy.bind(n,"getLineRange");n.selectByWords=this.extendSelectionBy.bind(n,"getWordRange")}return n.prototype.onMouseDown=function(n){var o=n.inSelection(),r=n.getDocumentPosition(),t,i,u,f;if(this.mousedownEvent=n,t=this.editor,i=n.getButton(),i!==0){u=t.getSelectionRange();f=u.isEmpty();(f||i==1)&&t.selection.moveToPosition(r);i==2&&(t.textInput.onContextMenu(n.domEvent),e.isMozilla||n.preventDefault());return}if(this.mousedownEvent.time=Date.now(),o&&!t.isFocused()&&(t.focus(),this.$focusTimeout&&!this.$clickSelection&&!t.inMultiSelectMode)){this.setState("focusWait");this.captureMouse(n);return}return this.captureMouse(n),this.startSelect(r,n.domEvent._clicks>1),n.preventDefault()},n.prototype.startSelect=function(n,t){n=n||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(n):t||i.selection.moveToPosition(n),t||this.select(),i.setStyle("ace_selecting"),this.setState("select"))},n.prototype.select=function(){var n,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y),u,f;this.$clickSelection&&(u=this.$clickSelection.comparePoint(i),u==-1?n=this.$clickSelection.end:u==1?n=this.$clickSelection.start:(f=r(this.$clickSelection,i),i=f.cursor,n=f.anchor),t.selection.setSelectionAnchor(n.row,n.column));t.selection.selectToPosition(i);t.renderer.scrollCursorIntoView()},n.prototype.extendSelectionBy=function(n){var u,f=this.editor,t=f.renderer.screenToTextCoordinates(this.x,this.y),i=f.selection[n](t.row,t.column),e,o,s;this.$clickSelection&&(e=this.$clickSelection.comparePoint(i.start),o=this.$clickSelection.comparePoint(i.end),e==-1&&o<=0?(u=this.$clickSelection.end,(i.end.row!=t.row||i.end.column!=t.column)&&(t=i.start)):o==1&&e>=0?(u=this.$clickSelection.start,(i.start.row!=t.row||i.start.column!=t.column)&&(t=i.end)):e==-1&&o==1?(t=i.end,u=i.start):(s=r(this.$clickSelection,t),t=s.cursor,u=s.anchor),f.selection.setSelectionAnchor(u.row,u.column));f.selection.selectToPosition(t);f.renderer.scrollCursorIntoView()},n.prototype.selectByLinesEnd=function(){this.$clickSelection=null;this.editor.unsetStyle("ace_selecting")},n.prototype.focusWait=function(){var n=f(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(n>o||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},n.prototype.onDoubleClick=function(n){var i=n.getDocumentPosition(),r=this.editor,u=r.session,t=u.getBracketRange(i);t?(t.isEmpty()&&(t.start.column--,t.end.column++),this.setState("select")):(t=r.selection.getWordRange(i.row,i.column),this.setState("selectByWords"));this.$clickSelection=t;this.select()},n.prototype.onTripleClick=function(n){var r=n.getDocumentPosition(),i=this.editor,t;this.setState("selectByLines");t=i.getSelectionRange();t.isMultiLine()&&t.contains(r.row,r.column)?(this.$clickSelection=i.selection.getLineRange(t.start.row),this.$clickSelection.end=i.selection.getLineRange(t.end.row).end):this.$clickSelection=i.selection.getLineRange(r.row);this.select()},n.prototype.onQuadClick=function(){var n=this.editor;n.selectAll();this.$clickSelection=n.getSelectionRange();this.setState("selectAll")},n.prototype.onMouseWheel=function(n){var s,h,i,c;if(!n.getAccelKey()){n.getShiftKey()&&n.wheelY&&!n.wheelX&&(n.wheelX=n.wheelY,n.wheelY=0);s=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var t=this.$lastScroll,r=n.domEvent.timeStamp,f=r-t.t,e=f?n.wheelX/f:t.vx,o=f?n.wheelY/f:t.vy;return f<u&&(e=(e+t.vx)/2,o=(o+t.vy)/2),h=Math.abs(e/o),i=!1,h>=1&&s.renderer.isScrollableBy(n.wheelX*n.speed,0)&&(i=!0),h<=1&&s.renderer.isScrollableBy(0,n.wheelY*n.speed)&&(i=!0),i?t.allowed=r:r-t.allowed<u&&(c=Math.abs(e)<=1.5*Math.abs(t.vx)&&Math.abs(o)<=1.5*Math.abs(t.vy),c?(i=!0,t.allowed=r):t.allowed=0),t.t=r,t.vx=e,t.vy=o,i?(s.renderer.scrollBy(n.wheelX*n.speed,n.wheelY*n.speed),n.stop()):void 0}},n}();i.prototype.selectEnd=i.prototype.selectByLinesEnd;i.prototype.selectAllEnd=i.prototype.selectByLinesEnd;i.prototype.selectByWordsEnd=i.prototype.selectByLinesEnd;t.DefaultHandlers=i});define("ace/lib/scroll",["require","exports","module"],function(n,t){t.preventParentScroll=function(n){n.stopPropagation();var t=n.currentTarget,i=t.scrollHeight>t.clientHeight;i||n.preventDefault()}});define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(n,t){"use strict";var s=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),u=this&&this.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");},f=n("./lib/dom"),a=n("./lib/event"),h=n("./range").Range,c=n("./lib/scroll").preventParentScroll,i="ace_tooltip",e=function(){function n(n){this.isOpen=!1;this.$element=null;this.$parentNode=n}return n.prototype.$init=function(){return this.$element=f.createElement("div"),this.$element.className=i,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},n.prototype.getElement=function(){return this.$element||this.$init()},n.prototype.setText=function(n){this.getElement().textContent=n},n.prototype.setHtml=function(n){this.getElement().innerHTML=n},n.prototype.setPosition=function(n,t){this.getElement().style.left=n+"px";this.getElement().style.top=t+"px"},n.prototype.setClassName=function(n){f.addCssClass(this.getElement(),n)},n.prototype.setTheme=function(n){this.$element.className=i+" "+(n.isDark?"ace_dark ":"")+(n.cssClass||"")},n.prototype.show=function(n,t,i){n!=null&&this.setText(n);t!=null&&i!=null&&this.setPosition(t,i);this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},n.prototype.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=i,this.isOpen=!1)},n.prototype.getHeight=function(){return this.getElement().offsetHeight},n.prototype.getWidth=function(){return this.getElement().offsetWidth},n.prototype.destroy=function(){this.isOpen=!1;this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},n}(),l=function(){function n(){this.popups=[]}return n.prototype.addPopup=function(n){this.popups.push(n);this.updatePopups()},n.prototype.removePopup=function(n){var t=this.popups.indexOf(n);t!==-1&&(this.popups.splice(t,1),this.updatePopups())},n.prototype.updatePopups=function(){var o,c,f,l,s,i,n,e,h,r,t,a;this.popups.sort(function(n,t){return t.priority-n.priority});s=[];try{for(i=u(this.popups),n=i.next();!n.done;n=i.next()){e=n.value;h=!0;try{for(r=(f=void 0,u(s)),t=r.next();!t.done;t=r.next())if(a=t.value,this.doPopupsOverlap(a,e)){h=!1;break}}catch(v){f={error:v}}finally{try{t&&!t.done&&(l=r.return)&&l.call(r)}finally{if(f)throw f.error;}}h?s.push(e):e.hide()}}catch(y){o={error:y}}finally{try{n&&!n.done&&(c=i.return)&&c.call(i)}finally{if(o)throw o.error;}}},n.prototype.doPopupsOverlap=function(n,t){var i=n.getElement().getBoundingClientRect(),r=t.getElement().getBoundingClientRect();return i.left<r.right&&i.right>r.left&&i.top<r.bottom&&i.bottom>r.top},n}(),r=new l,o;t.popupManager=r;t.Tooltip=e;o=function(n){function t(t){var i,r;return t===void 0&&(t=document.body),i=n.call(this,t)||this,i.timeout=undefined,i.lastT=0,i.idleTime=350,i.lastEvent=undefined,i.onMouseOut=i.onMouseOut.bind(i),i.onMouseMove=i.onMouseMove.bind(i),i.waitForHover=i.waitForHover.bind(i),i.hide=i.hide.bind(i),r=i.getElement(),r.style.whiteSpace="pre-wrap",r.style.pointerEvents="auto",r.addEventListener("mouseout",i.onMouseOut),r.tabIndex=-1,r.addEventListener("blur",function(){r.contains(document.activeElement)||this.hide()}.bind(i)),r.addEventListener("wheel",c),i}return s(t,n),t.prototype.addToEditor=function(n){n.on("mousemove",this.onMouseMove);n.on("mousedown",this.hide);n.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(n){n.off("mousemove",this.onMouseMove);n.off("mousedown",this.hide);n.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0);this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(n,t){var i,r;(this.lastEvent=n,this.lastT=Date.now(),i=t.$mouseHandler.isMousePressed,this.isOpen&&(r=this.lastEvent&&this.lastEvent.getDocumentPosition(),(!this.range||!this.range.contains(r.row,r.column)||i||this.isOutsideOfText(this.lastEvent))&&this.hide()),this.timeout||i)||(this.lastEvent=n,this.timeout=setTimeout(this.waitForHover,this.idleTime))},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var n=Date.now()-this.lastT;if(this.idleTime-n>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-n);return}this.timeout=null;this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},t.prototype.isOutsideOfText=function(n){var i=n.editor,t=n.getDocumentPosition(),f=i.session.getLine(t.row),r,u;return t.column==f.length&&(r=i.renderer.pixelToScreenCoordinates(n.clientX,n.clientY),u=i.session.documentToScreenPosition(t.row,t.column),u.column!=r.column||u.row!=r.row)?!0:!1},t.prototype.setDataProvider=function(n){this.$gatherData=n},t.prototype.showForRange=function(n,t,i,u){var l=10,o,e,c,f;if((!u||u==this.lastEvent)&&(!this.isOpen||document.activeElement!=this.getElement())){o=n.renderer;this.isOpen||(r.addPopup(this),this.$registerCloseEvents(),this.setTheme(o.theme));this.isOpen=!0;this.addMarker(t,n.session);this.range=h.fromPoints(t.start,t.end);e=o.textToScreenCoordinates(t.start.row,t.start.column);c=o.scroller.getBoundingClientRect();e.pageX<c.left&&(e.pageX=c.left);f=this.getElement();f.innerHTML="";f.appendChild(i);f.style.maxHeight="";f.style.display="block";var v=f.clientHeight,y=f.clientWidth,a=window.innerHeight-e.pageY-o.lineHeight,s=!0;e.pageY-v<0&&e.pageY<a&&(s=!1);f.style.maxHeight=(s?e.pageY:a)-l+"px";f.style.top=s?"":e.pageY+o.lineHeight+"px";f.style.bottom=s?window.innerHeight-e.pageY+"px":"";f.style.left=Math.min(e.pageX,window.innerWidth-y-l)+"px"}},t.prototype.addMarker=function(n,t){this.marker&&this.$markerSession.removeMarker(this.marker);this.$markerSession=t;this.marker=t&&t.addMarker(n,"ace_highlight-marker","text")},t.prototype.hide=function(n){(n||document.activeElement!=this.getElement())&&(n&&n.target&&(n.type!="keydown"||n.ctrlKey||n.metaKey)&&this.$element.contains(n.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,r.removePopup(this))))},t.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0);window.addEventListener("wheel",this.hide,!0);window.addEventListener("mousedown",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0);window.removeEventListener("wheel",this.hide,!0);window.removeEventListener("mousedown",this.hide,!0)},t.prototype.onMouseOut=function(n){(this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen)&&n.relatedTarget&&!this.getElement().contains(n.relatedTarget)&&(n&&n.currentTarget.contains(n.relatedTarget)||n.relatedTarget.classList.contains("ace_content")||this.hide())},t}(e);t.HoverTooltip=o});define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(n,t){"use strict";function f(n){function l(){var s=u.getDocumentPosition().row,y=t.session.getLength(),h,i,l,r;if(s==y&&(h=t.renderer.pixelToScreenCoordinates(0,u.y).row,i=u.$pos,h>t.session.documentToScreenRow(i.row,i.column)))return f();if(e.showTooltip(s),e.isOpen){t.on("mousewheel",f);if(n.$tooltipFollowsMouse)o(u);else if(l=u.getGutterRow(),r=c.$lines.get(l),r){var p=r.element.querySelector(".ace_gutter_annotation"),a=p.getBoundingClientRect(),v=e.getElement().style;v.left=a.right+"px";v.top=a.bottom+"px"}else o(u)}}function f(){i&&(i=clearTimeout(i));e.isOpen&&(e.hideTooltip(),t.off("mousewheel",f))}function o(n){e.setPosition(n.x,n.y)}var t=n.editor,c=t.renderer.$gutterLayer,e=new r(t),i,u;n.editor.setDefaultHandler("guttermousedown",function(i){var u,r,f;if(t.isFocused()&&i.getButton()==0&&(u=c.getRegion(i),u!="foldWidgets")){if(r=i.getDocumentPosition().row,f=t.session.selection,i.getShiftKey())f.selectTo(r,0);else{if(i.domEvent.detail==2)return t.selectAll(),i.preventDefault();n.$clickSelection=t.selection.getLineRange(r)}return n.setState("selectByLines"),n.captureMouse(i),i.preventDefault()}});n.editor.setDefaultHandler("guttermousemove",function(t){var r=t.domEvent.target||t.domEvent.srcElement;if(s.hasCssClass(r,"ace_fold-widget"))return f();(e.isOpen&&n.$tooltipFollowsMouse&&o(t),u=t,i)||(i=setTimeout(function(){i=null;u&&!n.isMousePressed?l():f()},50))});h.addListener(t.renderer.$gutter,"mouseout",function(){(u=null,e.isOpen&&!i)&&(i=setTimeout(function(){i=null;f()},50))},t);t.on("changeSession",f);t.on("input",f)}var e=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),o=this&&this.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");},s=n("../lib/dom"),h=n("../lib/event"),u=n("../tooltip").Tooltip,i=n("../config").nls,r;t.GutterHandler=f;r=function(n){function t(t){var i=n.call(this,t.container)||this;return i.editor=t,i}return e(t,n),t.prototype.setPosition=function(n,t){var i=window.innerWidth||document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),f=this.getHeight();n+=15;t+=15;n+r>i&&(n-=n+r-i);t+f>e&&(t-=20+f);u.prototype.setPosition.call(this,n,t)},Object.defineProperty(t,"annotationLabels",{get:function(){return{error:{singular:i("error"),plural:i("errors")},warning:{singular:i("warning"),plural:i("warnings")},info:{singular:i("information message"),plural:i("information messages")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(n){var u=this.editor.renderer.$gutterLayer,h=u.$annotations[n],r,c,l,f,e,s,a,o,v,i,y,p;if(r=h?{text:Array.from(h.text),type:Array.from(h.type)}:{text:[],type:[]},c=u.session.getFoldLine(n),c&&u.$showFoldedAnnotations){for(l={error:[],warning:[],info:[]},i=n+1;i<=c.end.row;i++)if(u.$annotations[i])for(e=0;e<u.$annotations[i].text.length;e++){if(s=u.$annotations[i].type[e],l[s].push(u.$annotations[i].text[e]),s==="error"){f="error_fold";continue}if(s==="warning"){f="warning_fold";continue}}(f==="error_fold"||f==="warning_fold")&&(a="".concat(t.annotationsToSummaryString(l)," in folded code."),r.text.push(a),r.type.push(f))}if(r.text.length===0)return this.hide();for(o={error:[],warning:[],info:[]},v=u.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",i=0;i<r.text.length;i++)y="<span class='ace_".concat(r.type[i]," ").concat(v,"' aria-label='").concat(t.annotationLabels[r.type[i].replace("_fold","")].singular,"' role=img> <\/span> ").concat(r.text[i]),o[r.type[i].replace("_fold","")].push(y);p=[].concat(o.error,o.warning,o.info).join("<br>");this.setHtml(p);this.$element.setAttribute("aria-live","polite");this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip"));this.show();this.editor._signal("showGutterTooltip",this)},t.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live");this.hide();this.editor._signal("hideGutterTooltip",this)},t.annotationsToSummaryString=function(n){var f,e,s=[],u,i,r,h;try{for(u=o(["error","warning","info"]),i=u.next();!i.done;i=u.next())(r=i.value,n[r].length)&&(h=n[r].length===1?t.annotationLabels[r].singular:t.annotationLabels[r].plural,s.push("".concat(n[r].length," ").concat(h)))}catch(c){f={error:c}}finally{try{i&&!i.done&&(e=u.return)&&e.call(u)}finally{if(f)throw f.error;}}return s.join(", ")},t}(u);t.GutterTooltip=r});define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),u=function(){function n(n,t){this.speed;this.wheelX;this.wheelY;this.domEvent=n;this.editor=t;this.x=this.clientX=n.clientX;this.y=this.clientY=n.clientY;this.$pos=null;this.$inSelection=null;this.propagationStopped=!1;this.defaultPrevented=!1}return n.prototype.stopPropagation=function(){i.stopPropagation(this.domEvent);this.propagationStopped=!0},n.prototype.preventDefault=function(){i.preventDefault(this.domEvent);this.defaultPrevented=!0},n.prototype.stop=function(){this.stopPropagation();this.preventDefault()},n.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},n.prototype.getGutterRow=function(){var n=this.getDocumentPosition().row,t=this.editor.session.documentToScreenRow(n,0),i=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return t-i},n.prototype.inSelection=function(){var i,n,t;return this.$inSelection!==null?this.$inSelection:(i=this.editor,n=i.getSelectionRange(),n.isEmpty()?this.$inSelection=!1:(t=this.getDocumentPosition(),this.$inSelection=n.contains(t.row,t.column)),this.$inSelection)},n.prototype.getButton=function(){return i.getButton(this.domEvent)},n.prototype.getShiftKey=function(){return this.domEvent.shiftKey},n.prototype.getAccelKey=function(){return r.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},n}();t.MouseEvent=u});define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(n,t){"use strict";function f(n){function ct(n,i){var r=Date.now(),e=!i||n.row!=i.row,o=!i||n.column!=i.column,f;!b||e||o?(t.moveCursorToPosition(n),b=r,rt={x:v,y:y}):(f=u(rt.x,rt.y,v,y),f>h?b=null:r-b>=s&&(t.renderer.scrollCursorIntoView(),b=null))}function lt(n,i){var e=Date.now(),s=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.characterWidth,f=t.renderer.scroller.getBoundingClientRect(),r={x:{left:v-f.left,right:f.right-v},y:{top:y-f.top,bottom:f.bottom-y}},c=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),u={row:n.row,column:n.column};c/h<=2&&(u.column+=r.x.left<r.x.right?-3:2);l/s<=1&&(u.row+=r.y.top<r.y.bottom?-1:1);var a=n.row!=u.row,p=n.column!=u.column,w=!i||n.row!=i.row;a||p&&!w?g?e-g>=o&&t.renderer.scrollCursorIntoView(u):g=e:g=null}function ut(){var n=f;f=t.renderer.screenToTextCoordinates(v,y);ct(f,n);lt(f,n)}function ft(){c=t.selection.toOrientedRange();a=t.session.addMarker(c,"ace_selection",t.getSelectionStyle());t.clearSelection();t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1);clearInterval(it);ut();it=setInterval(ut,20);p=0;i.addListener(document,"mousemove",et)}function tt(){clearInterval(it);t.session.removeMarker(a);a=null;t.selection.fromOrientedRange(c);t.isFocused()&&!nt&&t.$resetCursorStyle();c=null;f=null;p=0;g=null;b=null;i.removeListener(document,"mousemove",et)}function et(){k==null&&(k=setTimeout(function(){k!=null&&a&&tt()},20))}function ot(n){var t=n.types;return!t||Array.prototype.some.call(t,function(n){return n=="text/plain"||n=="Text"})}function st(n){var u=["copy","copymove","all","uninitialized"],f=r.isMac?n.altKey:n.ctrlKey,i="uninitialized",t;try{i=n.dataTransfer.effectAllowed.toLowerCase()}catch(n){}return t="none",f&&u.indexOf(i)>=0?t="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?t="move":u.indexOf(i)>=0&&(t="copy"),t}var t=n.editor,d=e.createElement("div"),ht,l,a,v,y,it,c,f,p,w,nt,g,b,rt,k;d.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5";d.textContent="";ht=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];ht.forEach(function(t){n[t]=this[t]},this);t.on("mousedown",this.onMouseDown.bind(n));l=t.container;p=0;this.onDragStart=function(n){var r,i;if(this.cancelDrag||!l.draggable)return r=this,setTimeout(function(){r.startSelect();r.captureMouse(n)},0),n.preventDefault();c=t.getSelectionRange();i=n.dataTransfer;i.effectAllowed=t.getReadOnly()?"copy":"copyMove";t.container.appendChild(d);i.setDragImage&&i.setDragImage(d,0,0);setTimeout(function(){t.container.removeChild(d)});i.clearData();i.setData("Text",t.session.getTextRange());nt=!0;this.setState("drag")};this.onDragEnd=function(n){if(l.draggable=!1,nt=!1,this.setState(null),!t.getReadOnly()){var i=n.dataTransfer.dropEffect;w||i!="move"||t.session.remove(t.getSelectionRange());t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("")};this.onDragEnter=function(n){if(!t.getReadOnly()&&ot(n.dataTransfer))return v=n.clientX,y=n.clientY,a||ft(),p++,n.dataTransfer.dropEffect=w=st(n),i.preventDefault(n)};this.onDragOver=function(n){if(!t.getReadOnly()&&ot(n.dataTransfer))return v=n.clientX,y=n.clientY,a||(ft(),p++),k!==null&&(k=null),n.dataTransfer.dropEffect=w=st(n),i.preventDefault(n)};this.onDragLeave=function(n){return p--,p<=0&&a?(tt(),w=null,i.preventDefault(n)):void 0};this.onDrop=function(n){var r,u;if(f){if(r=n.dataTransfer,nt)switch(w){case"move":c=c.contains(f.row,f.column)?{start:f,end:f}:t.moveText(c,f);break;case"copy":c=t.moveText(c,f,!0)}else u=r.getData("Text"),c={start:f,end:t.session.insert(f,u)},t.focus(),w=null;return tt(),i.preventDefault(n)}};i.addListener(l,"dragstart",this.onDragStart.bind(n),t);i.addListener(l,"dragend",this.onDragEnd.bind(n),t);i.addListener(l,"dragenter",this.onDragEnter.bind(n),t);i.addListener(l,"dragover",this.onDragOver.bind(n),t);i.addListener(l,"dragleave",this.onDragLeave.bind(n),t);i.addListener(l,"drop",this.onDrop.bind(n),t);k=null}function u(n,t,i,r){return Math.sqrt(Math.pow(i-n,2)+Math.pow(r-t,2))}var e=n("../lib/dom"),i=n("../lib/event"),r=n("../lib/useragent"),o=200,s=200,h=5;(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()};this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1;this.startSelect(this.mousedownEvent.getDocumentPosition());this.selectEnd()};this.dragReadyEnd=function(){this.editor.$resetCursorStyle();this.editor.unsetStyle("ace_dragging");this.editor.renderer.setCursorStyle("");this.dragWaitEnd()};this.startDrag=function(){var n,t,i;this.cancelDrag=!1;n=this.editor;t=n.container;t.draggable=!0;n.renderer.$cursorLayer.setBlinking(!1);n.setStyle("ace_dragging");i=r.isWin?"default":"move";n.renderer.setCursorStyle(i);this.setState("dragReady")};this.onMouseDrag=function(){var t=this.editor.container,n;r.isIE&&this.state=="dragReady"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>3&&t.dragDrop());this.state==="dragWait"&&(n=u(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))};this.onMouseDown=function(n){var t,u;if(this.$dragEnabled){this.mousedownEvent=n;var i=this.editor,f=n.inSelection(),e=n.getButton(),o=n.domEvent.detail||1;if(o===1&&e===0&&f){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();t=n.domEvent.target||n.domEvent.srcElement;"unselectable"in t&&(t.unselectable="on");i.getDragDelay()?(r.isWebKit&&(this.cancelDrag=!0,u=i.container,u.draggable=!0),this.setState("dragWait")):this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this));n.defaultPrevented=!0}}}}).call(f.prototype);t.DragdropHandler=f});define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(n,t){"use strict";var r=n("./mouse_event").MouseEvent,i=n("../lib/event"),u=n("../lib/dom");t.addTouchListeners=function(n,t){function nt(){var i=window.navigator&&window.navigator.clipboard,n=!1,e=function(){var r=t.getCopyText(),f=t.session.getUndoManager().hasUndo();o.replaceChild(u.buildDom(n?["span",!r&&["span",{"class":"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{"class":"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{"class":"ace_mobile-button",action:"cut"},"Cut"],i&&["span",{"class":"ace_mobile-button",action:"paste"},"Paste"],f&&["span",{"class":"ace_mobile-button",action:"undo"},"Undo"],["span",{"class":"ace_mobile-button",action:"find"},"Find"],["span",{"class":"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),o.firstChild)},r=function(r){var u=r.target.getAttribute("action");if(u=="more"||!n)return n=!n,e();u=="paste"?i.readText().then(function(n){t.execCommand(u,n)}):u&&((u=="cut"||u=="copy")&&(i?i.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(u));o.firstChild.style.display="none";n=!1;u!="openCommandPalette"&&t.focus()};o=u.buildDom(["div",{"class":"ace_mobile-menu",ontouchstart:function(n){f="menu";n.stopPropagation();n.preventDefault();t.textInput.focus()},ontouchend:function(n){n.stopPropagation();n.preventDefault();r(n)},onclick:r},["span"],["span",{"class":"ace_mobile-button",action:"more"},"..."]],t.container)}function w(){o||nt();var i=t.selection.cursor,r=t.renderer.textToScreenCoordinates(i.row,i.column),u=t.renderer.textToScreenCoordinates(0,0).pageX,f=t.renderer.scrollLeft,n=t.container.getBoundingClientRect();o.style.top=r.pageY-n.top-3+"px";r.pageX-n.left<n.width-70?(o.style.left="",o.style.right="10px"):(o.style.right="",o.style.left=u+f-n.left+"px");o.style.display="";o.firstChild.style.display="none";t.on("input",b)}function b(){o&&(o.style.display="none");t.off("input",b)}function tt(){e=null;clearTimeout(e);var n=t.selection.getRange(),i=n.contains(h.row,h.column);(n.isEmpty()||!i)&&(t.selection.moveToPosition(h),t.selection.selectWord());f="wait";w()}function it(){e=null;clearTimeout(e);t.selection.moveToPosition(h);var n=d>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);n&&!n.isEmpty()?t.selection.setRange(n):t.selection.selectWord();f="wait"}function rt(){s+=60;a=setInterval(function(){s--<=0&&(clearInterval(a),a=null);Math.abs(c)<.01&&(c=0);Math.abs(l)<.01&&(l=0);s<20&&(c=.9*c);s<20&&(l=.9*l);var n=t.session.getScrollTop();t.renderer.scrollBy(10*c,10*l);n==t.session.getScrollTop()&&(s=0)},10)}var f="scroll",v,y,p,k,e,a,s=0,h,d=0,c=0,l=0,g,o;i.addListener(n,"contextmenu",function(){if(g){var n=t.textInput.getElement();n.focus()}},t);i.addListener(n,"touchstart",function(n){var a=n.touches,ft,u,o;if(e||a.length>1){clearTimeout(e);e=null;p=-1;f="zoom";return}g=t.$mouseHandler.isMousePressed=!0;var b=t.renderer.layerConfig.lineHeight,at=t.renderer.layerConfig.lineHeight,w=n.timeStamp;k=w;var nt=a[0],rt=nt.clientX,ut=nt.clientY;if(Math.abs(v-rt)+Math.abs(y-ut)>b&&(p=-1),v=n.clientX=rt,y=n.clientY=ut,c=l=0,ft=new r(n,t),h=ft.getDocumentPosition(),w-p<500&&a.length==1&&!s)d++,n.preventDefault(),n.button=0,it();else{d=0;var et=t.selection.cursor,vt=t.selection.isEmpty()?et:t.selection.anchor,ot=t.renderer.$cursorLayer.getPixelPosition(et,!0),st=t.renderer.$cursorLayer.getPixelPosition(vt,!0),i=t.renderer.scroller.getBoundingClientRect(),ht=t.renderer.layerConfig.offset,ct=t.renderer.scrollLeft,lt=function(n,t){return n/=at,t=t/b-.75,n*n+t*t};if(n.clientX<i.left){f="zoom";return}u=lt(n.clientX-i.left-ot.left+ct,n.clientY-i.top-ot.top+ht);o=lt(n.clientX-i.left-st.left+ct,n.clientY-i.top-st.top+ht);u<3.5&&o<3.5&&(f=u>o?"cursor":"anchor");f=o<3.5?"anchor":u<3.5?"cursor":"scroll";e=setTimeout(tt,450)}p=w},t);i.addListener(n,"touchend",function(){g=t.$mouseHandler.isMousePressed=!1;a&&clearInterval(a);f=="zoom"?(f="",s=0):e?(t.selection.moveToPosition(h),s=0,w()):f=="scroll"?(rt(),b()):w();clearTimeout(e);e=null},t);i.addListener(n,"touchmove",function(n){var p,w,a,s,b,h;if(e&&(clearTimeout(e),e=null),p=n.touches,!(p.length>1)&&f!="zoom"){var o=p[0],i=v-o.clientX,u=y-o.clientY;if(f=="wait"){if(!(i*i+u*u>4))return n.preventDefault();f="cursor"}v=o.clientX;y=o.clientY;n.clientX=o.clientX;n.clientY=o.clientY;w=n.timeStamp;a=w-k;k=w;f=="scroll"?(s=new r(n,t),s.speed=1,s.wheelX=i,s.wheelY=u,10*Math.abs(i)<Math.abs(u)&&(i=0),10*Math.abs(u)<Math.abs(i)&&(u=0),a!=0&&(c=i/a,l=u/a),t._emit("mousewheel",s),s.propagationStopped||(c=l=0)):(b=new r(n,t),h=b.getDocumentPosition(),f=="cursor"?t.selection.moveCursorToPosition(h):f=="anchor"&&t.selection.setSelectionAnchor(h.row,h.column),t.renderer.scrollCursorIntoView(h),n.preventDefault())}},t)}});define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(n,t){"use strict";var i=n("../lib/event"),r=n("../lib/useragent"),e=n("./default_handlers").DefaultHandlers,o=n("./default_gutter_handler").GutterHandler,u=n("./mouse_event").MouseEvent,s=n("./dragdrop_handler").DragdropHandler,h=n("./touch_handler").addTouchListeners,c=n("../config"),f=function(){function n(n){var c,u,f,t;this.$dragDelay;this.$dragEnabled;this.$mouseMoved;this.mouseEvent;this.$focusTimeout;c=this;this.editor=n;new e(this);new o(this);new s(this);u=function(){var t=!document.hasFocus||!document.hasFocus()||!n.isFocused()&&document.activeElement==(n.textInput&&n.textInput.getElement());t&&window.focus();n.focus();setTimeout(function(){n.isFocused()||n.focus()})};f=n.renderer.getMouseEventTarget();i.addListener(f,"click",this.onMouseEvent.bind(this,"click"),n);i.addListener(f,"mousemove",this.onMouseMove.bind(this,"mousemove"),n);i.addMultiMouseDownListener([f,n.renderer.scrollBarV&&n.renderer.scrollBarV.inner,n.renderer.scrollBarH&&n.renderer.scrollBarH.inner,n.textInput&&n.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",n);i.addMouseWheelListener(n.container,this.onMouseWheel.bind(this,"mousewheel"),n);h(n.container,n);t=n.renderer.$gutter;i.addListener(t,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),n);i.addListener(t,"click",this.onMouseEvent.bind(this,"gutterclick"),n);i.addListener(t,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),n);i.addListener(t,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),n);i.addListener(f,"mousedown",u,n);i.addListener(t,"mousedown",u,n);r.isIE&&n.renderer.scrollBarV&&(i.addListener(n.renderer.scrollBarV.element,"mousedown",u,n),i.addListener(n.renderer.scrollBarH.element,"mousedown",u,n));n.on("mousemove",function(t){if(!c.state&&!c.$dragDelay&&c.$dragEnabled){var i=n.renderer.screenToTextCoordinates(t.x,t.y),r=n.session.selection.getRange(),u=n.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?u.setCursorStyle("default"):u.setCursorStyle("")}},n)}return n.prototype.onMouseEvent=function(n,t){this.editor.session&&this.editor._emit(n,new u(t,this.editor))},n.prototype.onMouseMove=function(n,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(n,new u(t,this.editor))},n.prototype.onMouseWheel=function(n,t){var i=new u(t,this.editor);i.speed=this.$scrollSpeed*2;i.wheelX=t.wheelX;i.wheelY=t.wheelY;this.editor._emit(n,i)},n.prototype.setState=function(n){this.state=n},n.prototype.captureMouse=function(n,t){var e,o,s,a;this.x=n.x;this.y=n.y;this.isMousePressed=!0;e=this.editor;o=this.editor.renderer;o.$isMousePressed=!0;var f=this,h=function(n){if(n){if(r.isWebKit&&!n.which&&f.releaseMouse)return f.releaseMouse();f.x=n.clientX;f.y=n.clientY;t&&t(n);f.mouseEvent=new u(n,f.editor);f.$mouseMoved=!0}},c=function(n){e.off("beforeEndOperation",s);clearInterval(a);e.session&&l();f[f.state+"End"]&&f[f.state+"End"](n);f.state="";f.isMousePressed=o.$isMousePressed=!1;o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor();f.$onCaptureMouseMove=f.releaseMouse=null;n&&f.onMouseEvent("mouseup",n);e.endOperation()},l=function(){f[f.state]&&f[f.state]();f.$mouseMoved=!1};if(r.isOldIE&&n.domEvent.type=="dblclick")return setTimeout(function(){c(n)});s=function(){f.releaseMouse&&e.curOp.command.name&&e.curOp.selectionChanged&&(f[f.state+"End"]&&f[f.state+"End"](),f.state="",f.releaseMouse())};e.on("beforeEndOperation",s);e.startOperation({command:{name:"mouse"}});f.$onCaptureMouseMove=h;f.releaseMouse=i.capture(this.editor.container,h,c);a=setInterval(l,20)},n.prototype.cancelContextMenu=function(){var n=function(t){t&&t.domEvent&&t.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",n),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(n,10);this.editor.on("nativecontextmenu",n)},n.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},n}();f.prototype.releaseMouse=null;c.defineOptions(f.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}});t.MouseHandler=f});define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(){function n(n){n.on("click",function(t){var e=t.getDocumentPosition(),r=n.session,f=r.getFoldAt(e.row,e.column,1),u;f&&(t.getAccelKey()?r.removeFold(f):r.expandFold(f),t.stop());u=t.domEvent&&t.domEvent.target;u&&i.hasCssClass(u,"ace_inline_button")&&i.hasCssClass(u,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),n.renderer.scrollCursorIntoView())});n.on("gutterclick",function(t){var u=n.renderer.$gutterLayer.getRegion(t),i,r;u=="foldWidgets"&&(i=t.getDocumentPosition().row,r=n.session,r.foldWidgets&&r.foldWidgets[i]&&n.session.onFoldWidgetClick(i,t),n.isFocused()||n.focus(),t.stop())});n.on("gutterdblclick",function(t){var o=n.renderer.$gutterLayer.getRegion(t),f;if(o=="foldWidgets"){var r=t.getDocumentPosition().row,i=n.session,e=i.getParentFoldRangeData(r,!0),u=e.range||e.firstRange;u&&(r=u.start.row,f=i.getFoldAt(r,i.getLine(r).length,1),f?i.removeFold(f):(i.addFold("...",u),n.renderer.scrollCursorIntoView({row:u.start.row,column:0})));t.stop()}})}return n}();t.FoldHandler=r});define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(n,t){"use strict";var i=n("../lib/keys"),r=n("../lib/event"),u=function(){function n(n){this.$editor=n;this.$data={editor:n};this.$handlers=[];this.setDefaultHandler(n.commands)}return n.prototype.setDefaultHandler=function(n){this.removeKeyboardHandler(this.$defaultHandler);this.$defaultHandler=n;this.addKeyboardHandler(n,0)},n.prototype.setKeyboardHandler=function(n){var t=this.$handlers;if(t[t.length-1]!=n){while(t[t.length-1]&&t[t.length-1]!=this.$defaultHandler)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(n,1)}},n.prototype.addKeyboardHandler=function(n,t){if(n){typeof n!="function"||n.handleKeyboard||(n.handleKeyboard=n);var i=this.$handlers.indexOf(n);i!=-1&&this.$handlers.splice(i,1);t==undefined?this.$handlers.push(n):this.$handlers.splice(t,0,n);i==-1&&n.attach&&n.attach(this.$editor)}},n.prototype.removeKeyboardHandler=function(n){var t=this.$handlers.indexOf(n);return t==-1?!1:(this.$handlers.splice(t,1),n.detach&&n.detach(this.$editor),!0)},n.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},n.prototype.getStatusText=function(){var n=this.$data,t=n.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(t,n)||""}).filter(Boolean).join(" ")},n.prototype.$callKeyboardHandlers=function(n,t,i,u){for(var f,e=!1,o=this.$editor.commands,s=this.$handlers.length;s--;)if((f=this.$handlers[s].handleKeyboard(this.$data,n,t,i,u),f&&f.command)&&(e=f.command=="null"?!0:o.exec(f.command,this.$editor,f.args,u),e&&u&&n!=-1&&f.passEvent!=1&&f.command.passEvent!=1&&r.stopEvent(u),e))break;return!e&&n==-1&&(f={command:"insertstring"},e=o.exec("insertstring",this.$editor,t)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",f),e},n.prototype.onCommandKey=function(n,t,r){var u=i.keyCodeToString(r);return this.$callKeyboardHandlers(t,u,r,n)},n.prototype.onTextInput=function(n){return this.$callKeyboardHandlers(-1,n)},n}();t.KeyBinding=u});define("ace/lib/bidiutil",["require","exports","module"],function(n,t){"use strict";function ht(n,t,i,r){var a=v?at:lt,g=null,nt=null,y=null,h=0,d=null,tt=null,o=-1,u=null,f=null,ut=[],l;if(!r)for(u=0,r=[];u<i;u++)r[u]=it(n[u]);for(w=v,c=!1,rt=!1,b=!1,k=!1,f=0;f<i;f++){if(g=h,ut[f]=nt=ct(n,r,ut,f),h=a[g][nt],d=h&240,h&=15,t[f]=y=a[h][5],d>0)if(d==16){for(u=o;u<f;u++)t[u]=1;o=-1}else o=-1;if(tt=a[h][6],tt)o==-1&&(o=f);else if(o>-1){for(u=o;u<f;u++)t[u]=y;o=-1}r[f]==s&&(t[f]=0);w|=y}if(k)for(u=0;u<i;u++)if(r[u]==p)for(t[u]=v,l=u-1;l>=0;l--){if(r[l]!=e)break;t[l]=v}}function tt(n,t,i){if(!(w<n)){if(n==1&&v==ut&&!b){i.reverse();return}for(var o=i.length,r=0,u,f,e,s;r<o;){if(t[r]>=n){for(u=r+1;u<o&&t[u]>=n;)u++;for(f=r,e=u-1;f<e;f++,e--)s=i[f],i[f]=i[e],i[e]=s;r=u}r++}}}function ct(n,t,w,tt){var at=t[tt],ut,ct,ht,it,lt,vt;switch(at){case u:case h:c=!1;case i:case l:return at;case f:return c?l:f;case y:return c=!0,rt=!0,h;case e:return i;case a:return tt<1||tt+1>=t.length||(ut=w[tt-1])!=f&&ut!=l||(ct=t[tt+1])!=f&&ct!=l?i:(c&&(ct=l),ct==ut?ct:i);case d:return(ut=tt>0?w[tt-1]:s,ut==f&&tt+1<t.length&&t[tt+1]==f)?f:i;case o:if(tt>0&&w[tt-1]==f)return f;if(c)return i;for(it=tt+1,ht=t.length;it<ht&&t[it]==o;)it++;return it<ht&&t[it]==f?f:i;case g:for(ht=t.length,it=tt+1;it<ht&&t[it]==g;)it++;return it<ht&&(lt=n[tt],vt=lt>=1425&&lt<=2303||lt==64286,ut=t[it],vt&&(ut==h||ut==y))?h:tt<1||(ut=t[tt-1])==s?i:w[tt-1];case s:return c=!1,b=!0,v;case p:return k=!0,i;case nt:case ft:case ot:case st:case et:c=!1;case r:return i}}function it(n){var t=n.charCodeAt(0),r=t>>8;return r==0?t>191?u:yt[t]:r==5?/[\u0591-\u05f4]/.test(n)?h:u:r==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(n)?g:/[\u0660-\u0669\u066b-\u066c]/.test(n)?l:t==1642?o:/[\u06f0-\u06f9]/.test(n)?f:y:r==32&&t<=8287?pt[t&255]:r==254?t>=65136?y:i:i}var v=0,w=0,c=!1,rt=!1,b=!1,k=!1,lt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],at=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],vt=0,ut=1,u=0,h=1,f=2,l=3,i=4,s=5,p=6,y=7,e=8,a=9,d=10,o=11,g=12,nt=13,ft=14,et=15,ot=16,st=17,r=18,yt=[r,r,r,r,r,r,r,r,r,p,s,p,e,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,s,s,s,p,e,i,i,o,o,o,i,i,i,i,i,d,a,d,a,a,f,f,f,f,f,f,f,f,f,f,a,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,i,i,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,i,i,i,i,r,r,r,r,r,r,s,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,a,i,o,o,o,o,i,i,i,i,u,i,i,r,i,i,o,o,f,f,i,u,i,i,i,f,u,i,i,i,i,i],pt=[e,e,e,e,e,e,e,e,e,e,e,r,r,r,u,h,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e,s,nt,ft,et,ot,st,a,o,o,o,o,o,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,a,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e];t.L=u;t.R=h;t.EN=f;t.ON_R=3;t.AN=4;t.R_H=5;t.B=6;t.RLE=7;t.DOT="";t.doBidiReorder=function(n,u,f){var e;if(n.length<2)return{};var s=n.split(""),c=new Array(s.length),a=new Array(s.length),o=[];for(v=f?ut:vt,ht(s,o,s.length,u),e=0;e<c.length;c[e]=e,e++);for(tt(2,o,c),tt(1,o,c),e=0;e<c.length-1;e++)u[e]===l?o[e]=t.AN:o[e]===h&&(u[e]>y&&u[e]<nt||u[e]===i||u[e]===r)?o[e]=t.ON_R:e>0&&s[e-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(s[e])&&(o[e-1]=o[e]=t.R_H,e++);for(s[s.length-1]===t.DOT&&(o[s.length-1]=t.B),s[0]===""&&(o[0]=t.RLE),e=0;e<c.length;e++)a[e]=o[c[e]];return{logicalFromVisual:c,bidiLevels:a}};t.hasBidiCharacters=function(n,t){for(var r=!1,i=0;i<n.length;i++)t[i]=it(n.charAt(i)),r||t[i]!=h&&t[i]!=y&&t[i]!=l||(r=!0);return r};t.getVisualFromLogicalIdx=function(n,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==n)return i;return 0}});define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(n,t){"use strict";var i=n("./lib/bidiutil"),u=n("./lib/lang"),r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,f=function(){function n(n){this.session=n;this.bidiMap={};this.currentRow=null;this.bidiUtil=i;this.charWidths=[];this.EOL="";this.showInvisibles=!0;this.isRtlDir=!1;this.$isRtl=!1;this.line="";this.wrapIndent=0;this.EOF="";this.RLE="";this.contentWidth=0;this.fontMetrics=null;this.rtlLineOffset=0;this.wrapOffset=0;this.isMoveLeftOperation=!1;this.seenBidi=r.test(n.getValue())}return n.prototype.isBidiRow=function(n,t,i){return this.seenBidi?(n!==this.currentRow&&(this.currentRow=n,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},n.prototype.onChange=function(n){this.seenBidi?this.currentRow=null:n.action=="insert"&&r.test(n.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},n.prototype.getDocumentRow=function(){var t=0,i=this.session.$screenRowCache,n;return i.length&&(n=this.session.$getRowCacheIndex(i,this.currentRow),n>=0&&(t=this.session.$docRowCache[n])),t},n.prototype.getSplitIndex=function(){var n=0,t=this.session.$screenRowCache,i,r;if(t.length)for(r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-n>0;){if(i=this.session.$getRowCacheIndex(t,this.currentRow-n-1),i!==r)break;r=i;n++}else n=this.currentRow;return n},n.prototype.updateRowLine=function(n,t){var h,f,r,e,o,s;n===undefined&&(n=this.getDocumentRow());h=n===this.session.getLength()-1;f=h?this.EOF:this.EOL;this.wrapIndent=0;this.line=this.session.getLine(n);this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE;this.session.$useWrapMode?(r=this.session.$wrapData[n],r&&(t===undefined&&(t=this.getSplitIndex()),t>0&&r.length?(this.wrapIndent=r.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<r.length?this.line.substring(r[t-1],r[t]):this.line.substring(r[r.length-1])):this.line=this.line.substring(0,r[t]),t==r.length&&(this.line+=this.showInvisibles?f:i.DOT))):this.line+=this.showInvisibles?f:i.DOT;e=this.session;o=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(n,t){return n==="\t"||e.isFullWidth(n.charCodeAt(0))?(s=n==="\t"?e.getScreenTabSize(t+o):2,o+=s-1,u.stringRepeat(i.DOT,s)):n});this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},n.prototype.updateBidiMap=function(){var n=[];this.bidiMap=i.hasBidiCharacters(this.line,n)||this.isRtlDir?i.doBidiReorder(this.line,n,this.isRtlDir):{}},n.prototype.markAsDirty=function(){this.currentRow=null},n.prototype.updateCharacterWidths=function(n){if(this.characterWidth!==n.$characterSize.width){this.fontMetrics=n;var r=this.characterWidth=n.$characterSize.width,t=n.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=r;this.charWidths[i.R]=this.charWidths[i.AN]=t;this.charWidths[i.R_H]=t*.45;this.charWidths[i.B]=this.charWidths[i.RLE]=0;this.currentRow=null}},n.prototype.setShowInvisibles=function(n){this.showInvisibles=n;this.currentRow=null},n.prototype.setEolChar=function(n){this.EOL=n},n.prototype.setContentWidth=function(n){this.contentWidth=n},n.prototype.isRtlLine=function(n){return this.$isRtl?!0:n!=undefined?this.session.getLine(n).charAt(0)==this.RLE:this.isRtlDir},n.prototype.setRtlDirection=function(n,t){for(var r=n.getCursorPosition(),i=n.selection.getSelectionAnchor().row;i<=r.row;i++)!t&&n.session.getLine(i).charAt(0)===n.session.$bidiHandler.RLE?n.session.doc.removeInLine(i,0,1):t&&n.session.getLine(i).charAt(0)!==n.session.$bidiHandler.RLE&&n.session.doc.insert({column:0,row:i},n.session.$bidiHandler.RLE)},n.prototype.getPosLeft=function(n){var e;n-=this.wrapIndent;var u=this.line.charAt(0)===this.RLE?1:0,o=n>u?this.session.getOverwrite()?n:n-1:u,t=i.getVisualFromLogicalIdx(o,this.bidiMap),f=this.bidiMap.bidiLevels,r=0;for(!this.session.getOverwrite()&&n<=u&&f[t]%2!=0&&t++,e=0;e<t;e++)r+=this.charWidths[f[e]];return!this.session.getOverwrite()&&n>u&&f[t]%2==0&&(r+=this.charWidths[f[t]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},n.prototype.getSelections=function(n,t){var l=this.bidiMap,s=l.bidiLevels,a,r=[],u=0,v=Math.min(n,t)-this.wrapIndent,y=Math.max(n,t)-this.wrapIndent,f=!1,h=!1,e=0,c,i,o;for(this.wrapIndent&&(u+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),i=0;i<s.length;i++)c=l.logicalFromVisual[i],a=s[i],f=c>=v&&c<y,f&&!h?e=u:!f&&h&&r.push({left:e,width:u-e}),u+=this.charWidths[a],h=f;if(f&&i===s.length&&r.push({left:e,width:u-e}),this.isRtlDir)for(o=0;o<r.length;o++)r[o].left+=this.rtlLineOffset;return r},n.prototype.offsetToCol=function(n){this.isRtlDir&&(n-=this.rtlLineOffset);var r=0,n=Math.max(n,0),f=0,t=0,i=this.bidiMap.bidiLevels,u=this.charWidths[i[t]];for(this.wrapIndent&&(n-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);n>f+u/2;){if(f+=u,t===i.length-1){u=0;break}u=this.charWidths[i[++t]]}return t>0&&i[t-1]%2!=0&&i[t]%2==0?(n<f&&t--,r=this.bidiMap.logicalFromVisual[t]):t>0&&i[t-1]%2==0&&i[t]%2!=0?r=1+(n>f?this.bidiMap.logicalFromVisual[t]:this.bidiMap.logicalFromVisual[t-1]):this.isRtlDir&&t===i.length-1&&u===0&&i[t-1]%2==0||!this.isRtlDir&&t===0&&i[t]%2!=0?r=1+this.bidiMap.logicalFromVisual[t]:(t>0&&i[t-1]%2!=0&&u!==0&&t--,r=this.bidiMap.logicalFromVisual[t]),r===0&&this.isRtlDir&&r++,r+this.wrapIndent},n}();t.BidiHandler=f});define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(n,t){"use strict";var f=n("./lib/oop"),u=n("./lib/lang"),e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,r=function(){function n(n){this.session=n;this.doc=n.getDocument();this.clearSelection();this.cursor=this.lead=this.doc.createAnchor(0,0);this.anchor=this.doc.createAnchor(0,0);this.$silent=!1;var t=this;this.cursor.on("change",function(n){t.$cursorChanged=!0;t.$silent||t._emit("changeCursor");!t.$isEmpty&&!t.$silent&&t._emit("changeSelection");!t.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(t.$desiredColumn=null)});this.anchor.on("change",function(){t.$anchorChanged=!0;t.$isEmpty||t.$silent||t._emit("changeSelection")})}return n.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},n.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},n.prototype.getCursor=function(){return this.lead.getPosition()},n.prototype.setAnchor=function(n,t){this.$isEmpty=!1;this.anchor.setPosition(n,t)},n.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},n.prototype.getSelectionLead=function(){return this.lead.getPosition()},n.prototype.isBackwards=function(){var n=this.anchor,t=this.lead;return n.row>t.row||n.row==t.row&&n.column>t.column},n.prototype.getRange=function(){var t=this.anchor,n=this.lead;return this.$isEmpty?i.fromPoints(n,n):this.isBackwards()?i.fromPoints(n,t):i.fromPoints(t,n)},n.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},n.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},n.prototype.setRange=function(n,t){var i=t?n.end:n.start,r=t?n.start:n.end;this.$setSelection(i.row,i.column,r.row,r.column)},n.prototype.$setSelection=function(n,t,r,u){if(!this.$silent){var f=this.$isEmpty,e=this.inMultiSelectMode;this.$silent=!0;this.$cursorChanged=this.$anchorChanged=!1;this.anchor.setPosition(n,t);this.cursor.setPosition(r,u);this.$isEmpty=!i.comparePoints(this.anchor,this.cursor);this.$silent=!1;this.$cursorChanged&&this._emit("changeCursor");(this.$cursorChanged||this.$anchorChanged||f!=this.$isEmpty||e)&&this._emit("changeSelection")}},n.prototype.$moveSelection=function(n){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column);n.call(this)},n.prototype.selectTo=function(n,t){this.$moveSelection(function(){this.moveCursorTo(n,t)})},n.prototype.selectToPosition=function(n){this.$moveSelection(function(){this.moveCursorToPosition(n)})},n.prototype.moveTo=function(n,t){this.clearSelection();this.moveCursorTo(n,t)},n.prototype.moveToPosition=function(n){this.clearSelection();this.moveCursorToPosition(n)},n.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},n.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},n.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},n.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},n.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},n.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},n.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},n.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},n.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},n.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},n.prototype.getWordRange=function(n,t){if(typeof t=="undefined"){var i=n||this.lead;n=i.row;t=i.column}return this.session.getWordRange(n,t)},n.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},n.prototype.selectAWord=function(){var n=this.getCursor(),t=this.session.getAWordRange(n.row,n.column);this.setSelectionRange(t)},n.prototype.getLineRange=function(n,t){var r=typeof n=="number"?n:this.lead.row,u,f=this.session.getFoldLine(r);return f?(r=f.start.row,u=f.end.row):u=r,t===!0?new i(r,0,u,this.session.getLine(u).length):new i(r,0,u+1,0)},n.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},n.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},n.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},n.prototype.wouldMoveIntoSoftTab=function(n,t,i){var r=n.column,u=n.column+t;return i<0&&(r=n.column-t,u=n.column),this.session.isTabStop(n)&&this.doc.getLine(n.row).slice(r,u).split(" ").length-1==t},n.prototype.moveCursorLeft=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,-1))?this.moveCursorTo(t.start.row,t.start.column):n.column===0?n.row>0&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length):(i=this.session.getTabSize(),this.wouldMoveIntoSoftTab(n,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1))},n.prototype.moveCursorRight=function(){var n=this.lead.getPosition(),t,i;(t=this.session.getFoldAt(n.row,n.column,1))?this.moveCursorTo(t.end.row,t.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(i=this.session.getTabSize(),n=this.lead,this.wouldMoveIntoSoftTab(n,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1))},n.prototype.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,u=this.session.documentToScreenRow(t,i),n=this.session.screenToDocumentPosition(u,0),f=this.session.getDisplayLine(t,null,n.row,n.column),r=f.match(/^\s*/);r[0].length==i||this.session.$useEmacsStyleLineStart||(n.column+=r[0].length);this.moveCursorToPosition(n)},n.prototype.moveCursorLineEnd=function(){var r=this.lead,n=this.session.getDocumentLastRowColumnPosition(r.row,r.column),t,i;this.lead.column==n.column&&(t=this.session.getLine(n.row),n.column==t.length&&(i=t.search(/\s+$/),i>0&&(n.column=i)));this.moveCursorTo(n.row,n.column)},n.prototype.moveCursorFileEnd=function(){var n=this.doc.getLength()-1,t=this.doc.getLine(n).length;this.moveCursorTo(n,t)},n.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},n.prototype.moveCursorLongWordRight=function(){var t=this.lead.row,n=this.lead.column,i=this.doc.getLine(t),u=i.substring(n),r;if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,r=this.session.getFoldAt(t,n,1),r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(u)&&(n+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,u=i.substring(n)),n>=i.length){this.moveCursorTo(t,i.length);this.moveCursorRight();t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(u)&&(n+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)},n.prototype.moveCursorLongWordLeft=function(){var t=this.lead.row,n=this.lead.column,f,r,i;if(f=this.session.getFoldAt(t,n,-1)){this.moveCursorTo(f.start.row,f.start.column);return}if(r=this.session.getFoldStringAt(t,n,-1),r==null&&(r=this.doc.getLine(t).substring(0,n)),i=u.stringReverse(r),this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0){this.moveCursorTo(t,0);this.moveCursorLeft();t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(i)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0);this.moveCursorTo(t,n)},n.prototype.$shortWordEndIndex=function(n){var t=0,i,u=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(n))t=this.session.tokenRe.lastIndex;else{while((i=n[t])&&u.test(i))t++;if(t<1)for(r.lastIndex=0;(i=n[t])&&!r.test(i);)if(r.lastIndex=0,t++,u.test(i)){if(t>2){t--;break}while((i=n[t])&&u.test(i))t++;if(t>2)break}}return r.lastIndex=0,t},n.prototype.moveCursorShortWordRight=function(){var n=this.lead.row,t=this.lead.column,u=this.doc.getLine(n),i=u.substring(t),r=this.session.getFoldAt(n,t,1),f,e;if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==u.length){f=this.doc.getLength();do n++,i=this.doc.getLine(n);while(n<f&&/^\s*$/.test(i));/^\s+/.test(i)||(i="");t=0}e=this.$shortWordEndIndex(i);this.moveCursorTo(n,t+e)},n.prototype.moveCursorShortWordLeft=function(){var t=this.lead.row,i=this.lead.column,r,n,f,e;if(r=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(r.start.row,r.start.column);if(n=this.session.getLine(t).substring(0,i),i===0){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));i=n.length;/\s+$/.test(n)||(n="")}return f=u.stringReverse(n),e=this.$shortWordEndIndex(f),this.moveCursorTo(t,i-e)},n.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},n.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},n.prototype.moveCursorBy=function(n,t){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column),u,f,r;t===0&&(n!==0&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(u=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(u/this.session.$bidiHandler.charWidths[0])):u=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);n!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(f=this.session.lineWidgets[this.lead.row],n<0?n-=f.rowsAbove||0:n>0&&(n+=f.rowCount-(f.rowsAbove||0)));r=this.session.screenToDocumentPosition(i.row+n,i.column,u);n!==0&&t===0&&r.row===this.lead.row&&r.column===this.lead.column;this.moveCursorTo(r.row,r.column+t,t===0)},n.prototype.moveCursorToPosition=function(n){this.moveCursorTo(n.row,n.column)},n.prototype.moveCursorTo=function(n,t,i){var r=this.session.getFoldAt(n,t,1),u;r&&(n=r.start.row,t=r.start.column);this.$keepDesiredColumnOnChange=!0;u=this.session.getLine(n);/[\uDC00-\uDFFF]/.test(u.charAt(t))&&u.charAt(t-1)&&(this.lead.row==n&&this.lead.column==t+1?t-=1:t+=1);this.lead.setPosition(n,t);this.$keepDesiredColumnOnChange=!1;i||(this.$desiredColumn=null)},n.prototype.moveCursorToScreen=function(n,t,i){var r=this.session.screenToDocumentPosition(n,t);this.moveCursorTo(r.row,r.column,i)},n.prototype.detach=function(){this.lead.detach();this.anchor.detach()},n.prototype.fromOrientedRange=function(n){this.setSelectionRange(n,n.cursor==n.start);this.$desiredColumn=n.desiredColumn||this.$desiredColumn},n.prototype.toOrientedRange=function(n){var t=this.getRange();return n?(n.start.column=t.start.column,n.start.row=t.start.row,n.end.column=t.end.column,n.end.row=t.end.row):n=t,n.cursor=this.isBackwards()?n.start:n.end,n.desiredColumn=this.$desiredColumn,n},n.prototype.getRangeOfMovements=function(n){var t=this.getCursor(),r;try{return n(this),r=this.getCursor(),i.fromPoints(t,r)}catch(u){return i.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},n.prototype.toJSON=function(){var n;return this.rangeCount?n=this.ranges.map(function(n){var t=n.clone();return t.isBackwards=n.cursor==n.start,t}):(n=this.getRange(),n.isBackwards=this.isBackwards()),n},n.prototype.fromJSON=function(n){var t,r;if(n.start==undefined){if(this.rangeList&&n.length>1){for(this.toSingleRange(n[0]),t=n.length;t--;)r=i.fromPoints(n[t].start,n[t].end),n[t].isBackwards&&(r.cursor=r.start),this.addRange(r,!0);return}n=n[0]}this.rangeList&&this.toSingleRange(n);this.setSelectionRange(n,n.isBackwards)},n.prototype.isEqual=function(n){if((n.length||this.rangeCount)&&n.length!=this.rangeCount)return!1;if(!n.length||!this.ranges)return this.getRange().isEqual(n);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(n[t]))return!1;return!0},n}();r.prototype.setSelectionAnchor=r.prototype.setAnchor;r.prototype.getSelectionAnchor=r.prototype.getAnchor;r.prototype.setSelectionRange=r.prototype.setRange;f.implement(r.prototype,e);t.Selection=r});define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(n,t){"use strict";var u=n("./lib/report_error").reportError,i=2e3,r=function(){function n(n){var e,u,t,f,i;this.splitRegex;this.states=n;this.regExps={};this.matchMappings={};for(e in this.states){var c=this.states[e],o=[],s=0,h=this.matchMappings[e]={defaultToken:"text"},r="g",l=[];for(u=0;u<c.length;u++)(t=c[u],t.defaultToken&&(h.defaultToken=t.defaultToken),t.caseInsensitive&&r.indexOf("i")===-1&&(r+="i"),t.unicode&&r.indexOf("u")===-1&&(r+="u"),t.regex!=null)&&(t.regex instanceof RegExp&&(t.regex=t.regex.toString().slice(1,-1)),f=t.regex,i=new RegExp("(?:("+f+")|(.))").exec("a").length-2,Array.isArray(t.token)?t.token.length==1||i==1?t.token=t.token[0]:i-1!=t.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:t,groupCount:i-1}),t.token=t.token[0]):(t.tokenArray=t.token,t.token=null,t.onMatch=this.$arrayTokens):typeof t.token=="function"&&!t.onMatch&&(t.onMatch=i>1?this.$applyToken:t.token),i>1&&(/\\\d/.test(t.regex)?f=t.regex.replace(/\\([0-9]+)/g,function(n,t){return"\\"+(parseInt(t,10)+s+1)}):(i=1,f=this.removeCapturingGroups(t.regex)),!t.splitRegex&&typeof t.token!="string"&&l.push(t)),h[s]=u,s+=i,o.push(f),t.onMatch||(t.onMatch=null));o.length||(h[0]=0,o.push("$"));l.forEach(function(n){n.splitRegex=this.createSplitterRegexp(n.regex,r)},this);this.regExps[e]=new RegExp("("+o.join(")|(")+")|($)",r)}}return n.prototype.$setMaxTokenCount=function(n){i=n|0},n.prototype.$applyToken=function(n){var u=this.splitRegex.exec(n).slice(1),i=this.token.apply(this,u),r,t,f;if(typeof i=="string")return[{type:i,value:n}];for(r=[],t=0,f=i.length;t<f;t++)u[t]&&(r[r.length]={type:i[t],value:u[t]});return r},n.prototype.$arrayTokens=function(n){var i,r,u,t,f;if(!n)return[];if(i=this.splitRegex.exec(n),!i)return"text";for(r=[],u=this.tokenArray,t=0,f=u.length;t<f;t++)i[t+1]&&(r[r.length]={type:u[t],value:i[t+1]});return r},n.prototype.removeCapturingGroups=function(n){return n.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(n,t){return t?"(?:":n})},n.prototype.createSplitterRegexp=function(n,t){if(n.indexOf("(?=")!=-1){var r=0,u=!1,i={};n.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(n,t,f,e,o,s){return u?u=o!="]":o?u=!0:e?(r==i.stack&&(i.end=s+1,i.stack=-1),r--):f&&(r++,f.length!=1&&(i.stack=r,i.start=s)),n});i.end!=null&&/^\)*$/.test(n.substr(i.end))&&(n=n.substring(0,i.start)+n.substr(i.end))}return n.charAt(0)!="^"&&(n="^"+n),n.charAt(n.length-1)!="$"&&(n+="$"),new RegExp(n,(t||"").replace("g",""))},n.prototype.getLineTokens=function(n,t){var f,r,c,p,a,b,h;t&&typeof t!="string"?(f=t.slice(0),t=f[0],t==="#tmp"&&(f.shift(),t=f.shift())):f=[];r=t||"start";c=this.states[r];c||(r="start",c=this.states[r]);p=this.matchMappings[r];a=this.regExps[r];a.lastIndex=0;for(var w,l=[],o=0,k=0,u={type:null,value:""};w=a.exec(n);){var s=p.defaultToken,e=null,v=w[0],y=a.lastIndex;for(y-v.length>o&&(b=n.substring(o,y-v.length),u.type==s?u.value+=b:(u.type&&l.push(u),u={type:s,value:b})),h=0;h<w.length-2;h++)if(w[h+1]!==undefined){e=c[p[h]];s=e.onMatch?e.onMatch(v,r,f,n):e.token;e.next&&(r=typeof e.next=="string"?e.next:e.next(r,f),c=this.states[r],c||(this.reportError("state doesn't exist",r),r="start",c=this.states[r]),p=this.matchMappings[r],o=y,a=this.regExps[r],a.lastIndex=y);e.consumeLineEnd&&(o=y);break}if(v)if(typeof s=="string")!!e&&e.merge===!1||u.type!==s?(u.type&&l.push(u),u={type:s,value:v}):u.value+=v;else if(s)for(u.type&&l.push(u),u={type:null,value:""},h=0;h<s.length;h++)l.push(s[h]);if(o==n.length)break;if(o=y,k++>i){for(k>2*n.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:n});o<n.length;)u.type&&l.push(u),u={value:n.substring(o,o+=500),type:"overflow"};r="start";f=[];break}}return u.type&&l.push(u),f.length>1&&f[0]!==r&&f.unshift("#tmp",r),{tokens:l,state:f.length?f:r}},n}();r.prototype.reportError=u;t.Tokenizer=r});define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(n,t){"use strict";var r=n("../lib/deep_copy").deepCopy,i;i=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},function(){this.addRules=function(n,t){var r,u,f,i;if(!t){for(r in n)this.$rules[r]=n[r];return}for(r in n){for(u=n[r],f=0;f<u.length;f++)i=u[f],(i.next||i.onMatch)&&(typeof i.next=="string"&&i.next.indexOf(t)!==0&&(i.next=t+i.next),i.nextState&&i.nextState.indexOf(t)!==0&&(i.nextState=t+i.nextState));this.$rules[t+r]=u}};this.getRules=function(){return this.$rules};this.embedRules=function(n,t,i,u,f){var o=typeof n=="function"?(new n).getRules():n,s,h,e;if(u)for(e=0;e<u.length;e++)u[e]=t+u[e];else{u=[];for(s in o)u.push(t+s)}if(this.addRules(o,t),i)for(h=Array.prototype[f?"push":"unshift"],e=0;e<u.length;e++)h.apply(this.$rules[u[e]],r(i));this.$embeds||(this.$embeds=[]);this.$embeds.push(t)};this.getEmbeds=function(){return this.$embeds};var n=function(n,t){return(n!="start"||t.length)&&t.unshift(this.nextState,n),this.nextState},t=function(n,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function r(f){var l=i[f],c,e,a,v,o,s,h,y;for(l.processed=!0,c=0;c<l.length;c++){if(e=l[c],a=null,Array.isArray(e)&&(a=e,e={}),!e.regex&&e.start&&(e.regex=e.start,e.next||(e.next=[]),e.next.push({defaultToken:e.token},{token:e.token+".end",regex:e.end||e.start,next:"pop"}),e.token=e.token+".start",e.push=!0),v=e.next||e.push,v&&Array.isArray(v)?(o=e.stateName,o||(o=e.token,typeof o!="string"&&(o=o[0]||""),i[o]&&(o+=u++)),i[o]=v,e.next=o,r(o)):v=="pop"&&(e.next=t),e.push&&(e.nextState=e.next||e.push,e.next=n,delete e.push),e.rules)for(s in e.rules)i[s]?i[s].push&&i[s].push.apply(i[s],e.rules[s]):i[s]=e.rules[s];h=typeof e=="string"?e:e.include;h&&(h==="$self"&&(h="start"),a=Array.isArray(h)?h.map(function(n){return i[n]}):i[h]);a&&(y=[c,1].concat(a),e.noEscape&&(y=y.filter(function(n){return!n.next})),l.splice.apply(l,y),c--);e.keywordMap&&(e.token=this.createKeywordMapper(e.keywordMap,e.defaultToken||"text",e.caseInsensitive),delete e.defaultToken)}}var u=0,i=this.$rules;Object.keys(i).forEach(r,this)};this.createKeywordMapper=function(n,t,i,r){var u=Object.create(null);return this.$keywordList=[],Object.keys(n).forEach(function(t){for(var f,s=n[t],e=s.split(r||"|"),o=e.length;o--;)f=e[o],this.$keywordList.push(f),i&&(f=f.toLowerCase()),u[f]=t},this),n=null,i?function(n){return u[n.toLowerCase()]||t}:function(n){return u[n]||t}};this.getKeywords=function(){return this.$keywords}}.call(i.prototype);t.TextHighlightRules=i});define("ace/mode/behaviour",["require","exports","module"],function(n,t){"use strict";var i;i=function(){this.$behaviours={}},function(){this.add=function(n,t,i){switch(undefined){case this.$behaviours:this.$behaviours={};case this.$behaviours[n]:this.$behaviours[n]={}}this.$behaviours[n][t]=i};this.addBehaviours=function(n){var t,i;for(t in n)for(i in n[t])this.add(t,i,n[t][i])};this.remove=function(n){this.$behaviours&&this.$behaviours[n]&&delete this.$behaviours[n]};this.inherit=function(n,t){var i;i=typeof n=="function"?(new n).getBehaviours(t):n.getBehaviours(t);this.addBehaviours(i)};this.getBehaviours=function(n){var i,t;if(!n)return this.$behaviours;for(i={},t=0;t<n.length;t++)this.$behaviours[n[t]]&&(i[n[t]]=this.$behaviours[n[t]]);return i}}.call(i.prototype);t.Behaviour=i});define("ace/token_iterator",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("./range").Range,r=function(){function n(n,t,i){this.$session=n;this.$row=t;this.$rowTokens=n.getTokens(t);var r=n.getTokenAt(t,i);this.$tokenIndex=r?r.index:-1}return n.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},n.prototype.stepForward=function(){this.$tokenIndex+=1;for(var n;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,n||(n=this.$session.getLength()),this.$row>=n)return this.$row=n-1,null;this.$rowTokens=this.$session.getTokens(this.$row);this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},n.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},n.prototype.getCurrentTokenRow=function(){return this.$row},n.prototype.getCurrentTokenColumn=function(){var i=this.$rowTokens,t=this.$tokenIndex,n=i[t].start;if(n!==undefined)return n;for(n=0;t>0;)t-=1,n+=i[t].value.length;return n},n.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},n.prototype.getCurrentTokenRange=function(){var t=this.$rowTokens[this.$tokenIndex],n=this.getCurrentTokenColumn();return new i(this.$row,n,this.$row,n+t.value.length)},n}();t.TokenIterator=r});define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(n,t){"use strict";var c=n("../../lib/oop"),l=n("../behaviour").Behaviour,o=n("../../token_iterator").TokenIterator,a=n("../../lib/lang"),s=["text","paren.rparen","rparen","paren","punctuation.operator"],v=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],i,f={},h={'"':'"',"'":"'"},u=function(n){var t=-1;if(n.multiSelect&&(t=n.selection.index,f.rangeCount!=n.multiSelect.rangeCount&&(f={rangeCount:n.multiSelect.rangeCount})),f[t])return i=f[t];i=f[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},e=function(n,t,i,r){var u=n.end.row-n.start.row;return{text:i+t+r,selection:[0,n.start.column+1,u,n.end.column+(u?0:1)]}},r;r=function(n){n=n||{};this.add("braces","insertion",function(t,f,o,s,h){var c=o.getCursorPosition(),l=s.doc.getLine(c.row),k,v,g,p,y,d,w,b;if(h=="{"){if(u(o),k=o.getSelectionRange(),v=s.doc.getTextRange(k),v!==""&&v!=="{"&&o.getWrapBehavioursEnabled())return e(k,v,"{","}");if(r.isSaneInsertion(o,s))return/[\]\}\)]/.test(l[c.column])||o.inMultiSelectMode||n.braces?(r.recordAutoInsert(o,s,"}"),{text:"{}",selection:[1,1]}):(r.recordMaybeInsert(o,s,"{"),{text:"{",selection:[1,1]})}else if(h=="}"){if(u(o),y=l.substring(c.column,c.column+1),y=="}"&&(g=s.$findOpeningBracket("}",{column:c.column+1,row:c.row}),g!==null&&r.isAutoInsertedClosing(c,l,h)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if(h=="\n"||h=="\r\n"){if(u(o),p="",r.isMaybeInsertedClosing(c,l)&&(p=a.stringRepeat("}",i.maybeInsertedBrackets),r.clearMaybeInsertedClosing()),y=l.substring(c.column,c.column+1),y==="}"){if(d=s.findMatchingBracket({row:c.row,column:c.column+1},"}"),!d)return null;w=this.$getIndent(s.getLine(d.row))}else{if(!p){r.clearMaybeInsertedClosing();return}w=this.$getIndent(l)}return b=w+s.getTabString(),{text:"\n"+b+"\n"+w+p,selection:[1,b.length,1,b.length]}}r.clearMaybeInsertedClosing()}});this.add("braces","deletion",function(n,t,r,f,e){var h=f.doc.getTextRange(e),o,s;if(!e.isMultiLine()&&h=="{"){if(u(r),o=f.doc.getLine(e.start.row),s=o.substring(e.end.column,e.end.column+1),s=="}")return e.end.column++,e;i.maybeInsertedBrackets--}});this.add("parens","insertion",function(n,t,i,f,o){var h,c,a;if(o=="("){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"(",")");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,")"),{text:"()",selection:[1,1]}}else if(o==")"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v==")"&&(a=f.$findOpeningBracket(")",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("parens","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="("&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o==")"))return f.end.column++,f});this.add("brackets","insertion",function(n,t,i,f,o){var h,c,a;if(o=="["){if(u(i),h=i.getSelectionRange(),c=f.doc.getTextRange(h),c!==""&&i.getWrapBehavioursEnabled())return e(h,c,"[","]");if(r.isSaneInsertion(i,f))return r.recordAutoInsert(i,f,"]"),{text:"[]",selection:[1,1]}}else if(o=="]"){u(i);var s=i.getCursorPosition(),l=f.doc.getLine(s.row),v=l.substring(s.column,s.column+1);if(v=="]"&&(a=f.$findOpeningBracket("]",{column:s.column+1,row:s.row}),a!==null&&r.isAutoInsertedClosing(s,l,o)))return r.popAutoInsertedClosing(),{text:"",selection:[1,1]}}});this.add("brackets","deletion",function(n,t,i,r,f){var s=r.doc.getTextRange(f),e,o;if(!f.isMultiLine()&&s=="["&&(u(i),e=r.doc.getLine(f.start.row),o=e.substring(f.start.column+1,f.start.column+2),o=="]"))return f.end.column++,f});this.add("string_dquotes","insertion",function(n,t,i,r,f){var tt=r.$mode.$quotes||h,w,b,a,c,rt,nt;if(f.length==1&&tt[f]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(f)!=-1)return;u(i);var s=f,it=i.getSelectionRange(),l=r.doc.getTextRange(it);if(l!==""&&(l.length!=1||!tt[l])&&i.getWrapBehavioursEnabled())return e(it,l,s,s);if(!l){var o=i.getCursorPosition(),k=r.doc.getLine(o.row),v=k.substring(o.column-1,o.column),y=k.substring(o.column,o.column+1),p=r.getTokenAt(o.row,o.column),d=r.getTokenAt(o.row,o.column+1);if(v=="\\"&&p&&/escape/.test(p.type))return null;if(w=p&&/string|escape/.test(p.type),b=!d||/string|escape/.test(d.type),y==s)a=w!==b,a&&/string\.end/.test(d.type)&&(a=!1);else{if(w&&!b||w&&b)return null;c=r.$mode.tokenRe;c.lastIndex=0;rt=c.test(v);c.lastIndex=0;var ut=c.test(y),g=r.$mode.$pairQuotesAfter,ft=g&&g[s]&&g[s].test(v);if(!ft&&rt||ut||y&&!/[\s;,.})\]\\]/.test(y)||(nt=k[o.column-2],!(v!=s||nt!=s&&!c.test(nt))))return null;a=!0}return{text:a?s+s:"",selection:[1,1]}}}});this.add("string_dquotes","deletion",function(n,t,i,r,f){var c=r.$mode.$quotes||h,e=r.doc.getTextRange(f),o,s;if(!f.isMultiLine()&&c.hasOwnProperty(e)&&(u(i),o=r.doc.getLine(f.start.row),s=o.substring(f.start.column+1,f.start.column+2),s==e))return f.end.column++,f});n.closeDocComment!==!1&&this.add("doc comment end","insertion",function(n,t,i,r,u){if(n==="doc-start"&&(u==="\n"||u==="\r\n")&&i.selection.isEmpty()){var e=i.getCursorPosition(),o=r.doc.getLine(e.row),s=r.doc.getLine(e.row+1),f=this.$getIndent(o);if(/\s*\*/.test(s))return/^\s*\*/.test(o)?{text:u+f+"* ",selection:[1,3+f.length,1,3+f.length]}:{text:u+f+" * ",selection:[1,3+f.length,1,3+f.length]};if(/\/\*\*/.test(o.substring(0,e.column)))return{text:u+f+" * "+u+" "+f+"*/",selection:[1,4+f.length,1,4+f.length]}}})};r.isSaneInsertion=function(n,t){var i=n.getCursorPosition(),r=new o(t,i.row,i.column),u;if(!this.$matchTokenType(r.getCurrentToken()||"text",s)){if(/[)}\]]/.test(n.session.getLine(i.row)[i.column]))return!0;if(u=new o(t,i.row,i.column+1),!this.$matchTokenType(u.getCurrentToken()||"text",s))return!1}return r.stepForward(),r.getCurrentTokenRow()!==i.row||this.$matchTokenType(r.getCurrentToken()||"text",v)};r.$matchTokenType=function(n,t){return t.indexOf(n.type||n)>-1};r.recordAutoInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isAutoInsertedClosing(u,f,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0);i.autoInsertedRow=u.row;i.autoInsertedLineEnd=r+f.substr(u.column);i.autoInsertedBrackets++};r.recordMaybeInsert=function(n,t,r){var u=n.getCursorPosition(),f=t.doc.getLine(u.row);this.isMaybeInsertedClosing(u,f)||(i.maybeInsertedBrackets=0);i.maybeInsertedRow=u.row;i.maybeInsertedLineStart=f.substr(0,u.column)+r;i.maybeInsertedLineEnd=f.substr(u.column);i.maybeInsertedBrackets++};r.isAutoInsertedClosing=function(n,t,r){return i.autoInsertedBrackets>0&&n.row===i.autoInsertedRow&&r===i.autoInsertedLineEnd[0]&&t.substr(n.column)===i.autoInsertedLineEnd};r.isMaybeInsertedClosing=function(n,t){return i.maybeInsertedBrackets>0&&n.row===i.maybeInsertedRow&&t.substr(n.column)===i.maybeInsertedLineEnd&&t.substr(0,n.column)==i.maybeInsertedLineStart};r.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1);i.autoInsertedBrackets--};r.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)};c.inherits(r,l);t.CstyleBehaviour=r});define("ace/unicode",["require","exports","module"],function(n,t){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],f=0,u=[],i=0;i<r.length;i+=2)u.push(f+=r[i]),r[i+1]&&u.push(45,f+=r[i+1]);t.wordChars=String.fromCharCode.apply(null,u)});define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(n,t){"use strict";var i=n("../config"),s=n("../tokenizer").Tokenizer,h=n("./text_highlight_rules").TextHighlightRules,c=n("./behaviour/cstyle").CstyleBehaviour,f=n("../unicode"),r=n("../lib/lang"),e=n("../token_iterator").TokenIterator,o=n("../range").Range,u;u=function(){this.HighlightRules=h},function(){this.$defaultBehaviour=new c;this.tokenRe=new RegExp("^["+f.wordChars+"\\$_]+","g");this.nonTokenRe=new RegExp("^(?:[^"+f.wordChars+"\\$_]|\\s])+","g");this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer};this.lineCommentStart="";this.blockComment="";this.toggleCommentLines=function(n,t,i,u){function v(n){for(var t=i;t<=u;t++)n(e.getLine(t),t)}var e=t.doc,a=!0,c=!0,f=Infinity,o=t.getTabSize(),y=!1,s,h,l;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(s=this.lineCommentStart.map(r.escapeRegExp).join("|"),h=this.lineCommentStart[0]):(s=r.escapeRegExp(this.lineCommentStart),h=this.lineCommentStart);s=new RegExp("^(\\s*)(?:"+s+") ?");y=t.getUseSoftTabs();var g=function(n,t){var r=n.match(s),u,i;r&&(u=r[1].length,i=r[0].length,b(n,u,i)||r[0][i-1]!=" "||i--,e.removeInLine(t,u,i))},nt=h+" ",d=function(n,t){(!a||/\S/.test(n))&&(b(n,f,f)?e.insertInLine({row:t,column:f},nt):e.insertInLine({row:t,column:f},h))},w=function(n){return s.test(n)},b=function(n,t,i){for(var r=0;t--&&n.charAt(t)==" ";)r++;if(r%o!=0)return!1;for(r=0;n.charAt(i++)==" ";)r++;return o>2?r%o!=o-1:r%o==0}}else{if(!this.blockComment)return!1;var h=this.blockComment.start,p=this.blockComment.end,s=new RegExp("^(\\s*)(?:"+r.escapeRegExp(h)+")"),k=new RegExp("(?:"+r.escapeRegExp(p)+")\\s*$"),d=function(n,t){w(n,t)||(!a||/\S/.test(n))&&(e.insertInLine({row:t,column:n.length},p),e.insertInLine({row:t,column:f},h))},g=function(n,t){var i;(i=n.match(k))&&e.removeInLine(t,n.length-i[0].length,n.length);(i=n.match(s))&&e.removeInLine(t,i[1].length,i[0].length)},w=function(n,i){var u,r;if(s.test(n))return!0;for(u=t.getTokens(i),r=0;r<u.length;r++)if(u[r].type==="comment")return!0}}l=Infinity;v(function(n,t){var i=n.search(/\S/);i!==-1?(i<f&&(f=i),c&&!w(n,t)&&(c=!1)):l>n.length&&(l=n.length)});f==Infinity&&(f=l,a=!1,c=!1);y&&f%o!=0&&(f=Math.floor(f/o)*o);v(c?g:d)};this.toggleBlockComment=function(n,t,i,r){var u=this.blockComment,p,w,s,f,h,c,l;if(u){!u.start&&u[0]&&(u=u[0]);var s=new e(t,r.row,r.column),f=s.getCurrentToken(),b=t.selection,a=t.selection.toOrientedRange(),v,y;if(f&&/comment/.test(f.type)){while(f&&/comment/.test(f.type)){if(h=f.value.indexOf(u.start),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;p=new o(c,l,c,l+u.start.length);break}f=s.stepBackward()}for(s=new e(t,r.row,r.column),f=s.getCurrentToken();f&&/comment/.test(f.type);){if(h=f.value.indexOf(u.end),h!=-1){c=s.getCurrentTokenRow();l=s.getCurrentTokenColumn()+h;w=new o(c,l,c,l+u.end.length);break}f=s.stepForward()}w&&t.remove(w);p&&(t.remove(p),v=p.start.row,y=-u.start.length)}else y=u.start.length,v=i.start.row,t.insert(i.end,u.end),t.insert(i.start,u.start);a.start.row==v&&(a.start.column+=y);a.end.row==v&&(a.end.column+=y);t.selection.fromOrientedRange(a)}};this.getNextLineIndent=function(n,t){return this.$getIndent(t)};this.checkOutdent=function(){return!1};this.autoOutdent=function(){};this.$getIndent=function(n){return n.match(/^\s*/)[0]};this.createWorker=function(){return null};this.createModeDelegates=function(n){var t;this.$embeds=[];this.$modes={};for(t in n)if(n[t]){var f=n[t],e=f.prototype.$id,r=i.$modes[e];r||(i.$modes[e]=r=new f);i.$modes[t]||(i.$modes[t]=r);this.$embeds.push(t);this.$modes[t]=r}var u=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],o=function(n){(function(t){var i=u[n],r=t[i];t[u[n]]=function(){return this.$delegator(i,arguments,r)}})(s)},s=this;for(t=0;t<u.length;t++)o(t)};this.$delegator=function(n,t,i){var r=t[0]||"start",o,f,e,u,s;if(typeof r!="string"){if(Array.isArray(r[2])&&(o=r[2][r[2].length-1],u=this.$modes[o],u))return u[n].apply(u,[r[1]].concat([].slice.call(t,1)));r=r[0]||"start"}for(f=0;f<this.$embeds.length;f++)if(this.$modes[this.$embeds[f]]&&(e=r.split(this.$embeds[f]),!e[0]&&e[1]))return t[0]=e[1],u=this.$modes[this.$embeds[f]],u[n].apply(u,t);return s=i.apply(this,t),i?s:undefined};this.transformAction=function(n,t){var i,r,u;if(this.$behaviour){i=this.$behaviour.getBehaviours();for(r in i)if(i[r][t]&&(u=i[r][t].apply(this,arguments),u))return u}};this.getKeywords=function(n){var e,r,i,t,o,f,s,u;if(!this.completionKeywords){e=this.$tokenizer.rules;r=[];for(u in e)for(i=e[u],t=0,o=i.length;t<o;t++)if(typeof i[t].token=="string")/keyword|support|storage/.test(i[t].token)&&r.push(i[t].regex);else if(typeof i[t].token=="object")for(f=0,s=i[t].token.length;f<s;f++)/keyword|support|storage/.test(i[t].token[f])&&(u=i[t].regex.match(/\(.+?\)/g)[f],r.push(u.substr(1,u.length-2)));this.completionKeywords=r}return n?r.concat(this.$keywordList||[]):this.$keywordList};this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]};this.getCompletions=function(){var n=this.$keywordList||this.$createKeywordList();return n.map(function(n){return{name:n,value:n,score:0,meta:"keyword"}})};this.$id="ace/mode/text"}.call(u.prototype);t.Mode=u});define("ace/apply_delta",["require","exports","module"],function(n,t){"use strict";t.applyDelta=function(n,t){var i=t.start.row,u=t.start.column,r=n[i]||"",o,s,e,f;switch(t.action){case"insert":o=t.lines;o.length===1?n[i]=r.substring(0,u)+t.lines[0]+r.substring(u):(s=[i,1].concat(t.lines),n.splice.apply(n,s),n[i]=r.substring(0,u)+n[i],n[i+t.lines.length-1]+=r.substring(u));break;case"remove":e=t.end.column;f=t.end.row;i===f?n[i]=r.substring(0,u)+r.substring(e):n.splice(i,f-i+1,r.substring(0,u)+n[f].substring(e))}}});define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";function r(n,t,i){var r=i?n.column<=t.column:n.column<t.column;return n.row<t.row||n.row==t.row&&r}function u(n,t,i){var f=n.action=="insert",o=(f?1:-1)*(n.end.row-n.start.row),s=(f?1:-1)*(n.end.column-n.start.column),u=n.start,e=f?u:n.end;return r(t,u,i)?{row:t.row,column:t.column}:r(e,t,!i)?{row:t.row+o,column:t.column+(t.row==e.row?s:0)}:{row:u.row,column:u.column}}var f=n("./lib/oop"),e=n("./lib/event_emitter").EventEmitter,i=function(){function n(n,t,i){this.$onChange=this.onChange.bind(this);this.attach(n);typeof t!="number"?this.setPosition(t.row,t.column):this.setPosition(t,i)}return n.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},n.prototype.getDocument=function(){return this.document},n.prototype.onChange=function(n){if((n.start.row!=n.end.row||n.start.row==this.row)&&!(n.start.row>this.row)){var t=u(n,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},n.prototype.setPosition=function(n,t,i){var r,u;(r=i?{row:n,column:t}:this.$clipPositionToDocument(n,t),this.row!=r.row||this.column!=r.column)&&(u={row:this.row,column:this.column},this.row=r.row,this.column=r.column,this._signal("change",{old:u,value:r}))},n.prototype.detach=function(){this.document.off("change",this.$onChange)},n.prototype.attach=function(n){this.document=n||this.document;this.document.on("change",this.$onChange)},n.prototype.$clipPositionToDocument=function(n,t){var i={};return n>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):n<0?(i.row=0,i.column=0):(i.row=n,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i},n}();i.prototype.$insertRight=!1;f.implement(i.prototype,e);t.Anchor=i});define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(n,t){"use strict";var u=n("./lib/oop"),f=n("./apply_delta").applyDelta,e=n("./lib/event_emitter").EventEmitter,i=n("./range").Range,o=n("./anchor").Anchor,r=function(){function n(n){this.$lines=[""];n.length===0?this.$lines=[""]:Array.isArray(n)?this.insertMergedLines({row:0,column:0},n):this.insert({row:0,column:0},n)}return n.prototype.setValue=function(n){var t=this.getLength()-1;this.remove(new i(0,0,t,this.getLine(t).length));this.insert({row:0,column:0},n||"")},n.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},n.prototype.createAnchor=function(n,t){return new o(this,n,t)},n.prototype.$detectNewLine=function(n){var t=n.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n";this._signal("changeNewLineMode")},n.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},n.prototype.setNewLineMode=function(n){this.$newLineMode!==n&&(this.$newLineMode=n,this._signal("changeNewLineMode"))},n.prototype.getNewLineMode=function(){return this.$newLineMode},n.prototype.isNewLine=function(n){return n=="\r\n"||n=="\r"||n=="\n"},n.prototype.getLine=function(n){return this.$lines[n]||""},n.prototype.getLines=function(n,t){return this.$lines.slice(n,t+1)},n.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},n.prototype.getLength=function(){return this.$lines.length},n.prototype.getTextRange=function(n){return this.getLinesForRange(n).join(this.getNewLineCharacter())},n.prototype.getLinesForRange=function(n){var t,i;return n.start.row===n.end.row?t=[this.getLine(n.start.row).substring(n.start.column,n.end.column)]:(t=this.getLines(n.start.row,n.end.row),t[0]=(t[0]||"").substring(n.start.column),i=t.length-1,n.end.row-n.start.row==i&&(t[i]=t[i].substring(0,n.end.column))),t},n.prototype.insertLines=function(n,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(n,t)},n.prototype.removeLines=function(n,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(n,t)},n.prototype.insertNewLine=function(n){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(n,["",""])},n.prototype.insert=function(n,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(n,this.$split(t))},n.prototype.insertInLine=function(n,t){var r=this.clippedPos(n.row,n.column),i=this.pos(n.row,n.column+t.length);return this.applyDelta({start:r,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},n.prototype.clippedPos=function(n,t){var i=this.getLength(),r;return n===undefined?n=i:n<0?n=0:n>=i&&(n=i-1,t=undefined),r=this.getLine(n),t==undefined&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:n,column:t}},n.prototype.clonePos=function(n){return{row:n.row,column:n.column}},n.prototype.pos=function(n,t){return{row:n,column:t}},n.prototype.$clipPosition=function(n){var t=this.getLength();return n.row>=t?(n.row=Math.max(0,t-1),n.column=this.getLine(t-1).length):(n.row=Math.max(0,n.row),n.column=Math.min(Math.max(n.column,0),this.getLine(n.row).length)),n},n.prototype.insertFullLines=function(n,t){n=Math.min(Math.max(n,0),this.getLength());var i=0;n<this.getLength()?(t=t.concat([""]),i=0):(t=[""].concat(t),n--,i=this.$lines[n].length);this.insertMergedLines({row:n,column:i},t)},n.prototype.insertMergedLines=function(n,t){var i=this.clippedPos(n.row,n.column),r={row:i.row+t.length-1,column:(t.length==1?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:r,action:"insert",lines:t}),this.clonePos(r)},n.prototype.remove=function(n){var t=this.clippedPos(n.start.row,n.start.column),i=this.clippedPos(n.end.row,n.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},n.prototype.removeInLine=function(n,t,i){var r=this.clippedPos(n,t),u=this.clippedPos(n,i);return this.applyDelta({start:r,end:u,action:"remove",lines:this.getLinesForRange({start:r,end:u})},!0),this.clonePos(r)},n.prototype.removeFullLines=function(n,t){n=Math.min(Math.max(0,n),this.getLength()-1);t=Math.min(Math.max(0,t),this.getLength()-1);var u=t==this.getLength()-1&&n>0,f=t<this.getLength()-1,e=u?n-1:n,s=u?this.getLine(e).length:0,o=f?t+1:t,h=f?0:this.getLine(o).length,r=new i(e,s,o,h),c=this.$lines.slice(n,t+1);return this.applyDelta({start:r.start,end:r.end,action:"remove",lines:this.getLinesForRange(r)}),c},n.prototype.removeNewLine=function(n){n<this.getLength()-1&&n>=0&&this.applyDelta({start:this.pos(n,this.getLine(n).length),end:this.pos(n+1,0),action:"remove",lines:["",""]})},n.prototype.replace=function(n,t){if(n instanceof i||(n=i.fromPoints(n.start,n.end)),t.length===0&&n.isEmpty())return n.start;if(t==this.getTextRange(n))return n.end;this.remove(n);var r;return r=t?this.insert(n.start,t):n.start,r},n.prototype.applyDeltas=function(n){for(var t=0;t<n.length;t++)this.applyDelta(n[t])},n.prototype.revertDeltas=function(n){for(var t=n.length-1;t>=0;t--)this.revertDelta(n[t])},n.prototype.applyDelta=function(n,t){var r=n.action=="insert";(r?n.lines.length<=1&&!n.lines[0]:!i.comparePoints(n.start,n.end))||(r&&n.lines.length>2e4?this.$splitAndapplyLargeDelta(n,2e4):(f(this.$lines,n,t),this._signal("change",n)))},n.prototype.$safeApplyDelta=function(n){var t=this.$lines.length;(n.action=="remove"&&n.start.row<t&&n.end.row<t||n.action=="insert"&&n.start.row<=t)&&this.applyDelta(n)},n.prototype.$splitAndapplyLargeDelta=function(n,t){for(var o,u=n.lines,s=u.length-t+1,f=n.start.row,e=n.start.column,i=0,r=0;i<s;i=r)r+=t-1,o=u.slice(i,r),o.push(""),this.applyDelta({start:this.pos(f+i,e),end:this.pos(f+r,e=0),action:n.action,lines:o},!0);n.lines=u.slice(i);n.start.row=f+i;n.start.column=e;this.applyDelta(n,!0)},n.prototype.revertDelta=function(n){this.$safeApplyDelta({start:this.clonePos(n.start),end:this.clonePos(n.end),action:n.action=="insert"?"remove":"insert",lines:n.lines.slice()})},n.prototype.indexToPosition=function(n,t){for(var r=this.$lines||this.getAllLines(),u=this.getNewLineCharacter().length,i=t||0,f=r.length;i<f;i++)if(n-=r[i].length+u,n<0)return{row:i,column:n+r[i].length+u};return{row:f-1,column:n+r[f-1].length+u}},n.prototype.positionToIndex=function(n,t){for(var r=this.$lines||this.getAllLines(),f=this.getNewLineCharacter().length,u=0,e=Math.min(n.row,r.length),i=t||0;i<e;++i)u+=r[i].length+f;return u+n.column},n.prototype.$split=function(n){return n.split(/\r\n|\r|\n/)},n}();r.prototype.$autoNewLine="";r.prototype.$newLineMode="auto";u.implement(r.prototype,e);t.Document=r});define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("./lib/oop"),u=n("./lib/event_emitter").EventEmitter,i=function(){function n(n){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.tokenizer=n;var t=this;this.$worker=function(){var f,r;if(t.running){for(var e=new Date,n=t.currentLine,i=-1,o=t.doc,u=n;t.lines[n];)n++;for(f=o.getLength(),r=0,t.running=!1;n<f;){t.$tokenizeRow(n);i=n;do n++;while(t.lines[n]);if(r++,r%5==0&&new Date-e>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n;i==-1&&(i=n);u<=i&&t.fireUpdateEvent(u,i)}}}return n.prototype.setTokenizer=function(n){this.tokenizer=n;this.lines=[];this.states=[];this.start(0)},n.prototype.setDocument=function(n){this.doc=n;this.lines=[];this.states=[];this.stop()},n.prototype.fireUpdateEvent=function(n,t){var i={first:n,last:t};this._signal("update",{data:i})},n.prototype.start=function(n){this.currentLine=Math.min(n||0,this.currentLine,this.doc.getLength());this.lines.splice(this.currentLine,this.lines.length);this.states.splice(this.currentLine,this.states.length);this.stop();this.running=setTimeout(this.$worker,700)},n.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},n.prototype.$updateOnChange=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.lines[t]=null:n.action=="remove"?(this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null)):(r=Array(i+1),r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r));this.currentLine=Math.min(t,this.currentLine,this.doc.getLength());this.stop()},n.prototype.stop=function(){this.running&&clearTimeout(this.running);this.running=!1},n.prototype.getTokens=function(n){return this.lines[n]||this.$tokenizeRow(n)},n.prototype.getState=function(n){return this.currentLine==n&&this.$tokenizeRow(n),this.states[n]||"start"},n.prototype.$tokenizeRow=function(n){var i=this.doc.getLine(n),r=this.states[n-1],t=this.tokenizer.getLineTokens(i,r,n);return this.states[n]+""!=t.state+""?(this.states[n]=t.state,this.lines[n+1]=null,this.currentLine>n+1&&(this.currentLine=n+1)):this.currentLine==n&&(this.currentLine=n+1),this.lines[n]=t.tokens},n.prototype.cleanup=function(){this.running=!1;this.lines=[];this.states=[];this.currentLine=0;this.removeAllListeners()},n}();r.implement(i.prototype,u);t.BackgroundTokenizer=i});define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(n,t){"use strict";var r=n("./lib/lang"),u=n("./range").Range,i=function(){function n(n,t,i){i===void 0&&(i="text");this.setRegexp(n);this.clazz=t;this.type=i}return n.prototype.setRegexp=function(n){this.regExp+""!=n+""&&(this.regExp=n,this.cache=[])},n.prototype.update=function(n,t,i,f){var o,e,s,h,c;if(this.regExp){var a=f.firstRow,v=f.lastRow,l={};for(o=a;o<=v;o++)for(e=this.cache[o],e==null&&(e=r.getMatchOffsets(i.getLine(o),this.regExp),e.length>this.MAX_RANGES&&(e=e.slice(0,this.MAX_RANGES)),e=e.map(function(n){return new u(o,n.offset,o,n.offset+n.length)}),this.cache[o]=e.length?e:""),s=e.length;s--;)(h=e[s].toScreenRange(i),c=h.toString(),l[c])||(l[c]=!0,t.drawSingleLineMarker(n,h,this.clazz,f))}},n}();i.prototype.MAX_RANGES=500;t.SearchHighlight=i});define("ace/undomanager",["require","exports","module","ace/range"],function(n,t){"use strict";function v(n,t){for(var r,u,i=t;i--;)if(r=n[i],r&&!r[0].ignore){while(i<t-1)u=p(n[i],n[i+1]),n[i]=u[0],n[i+1]=u[1],i++;return!0}}function f(n){return{row:n.row,column:n.column}}function y(n){return{start:f(n.start),end:f(n.end),action:n.action,lines:n.lines.slice()}}function e(n){if(n=n||this,Array.isArray(n))return n.map(e).join("\n");var t="";return n.action?(t=n.action=="insert"?"+":"-",t+="["+n.lines+"]"):n.value&&(t=Array.isArray(n.value)?n.value.map(s).join("\n"):s(n.value)),n.start&&(t+=s(n)),(n.id||n.rev)&&(t+="\t("+(n.id||n.rev)+")"),t}function s(n){return n.start.row+":"+n.start.column+"=>"+n.end.row+":"+n.end.column}function c(n,t){var u=n.action=="insert",f=t.action=="insert";if(u&&f)if(r(t.start,n.end)>=0)i(t,n,-1);else{if(!(r(t.start,n.start)<=0))return null;i(n,t,1)}else if(u&&!f)if(r(t.start,n.end)>=0)i(t,n,-1);else{if(!(r(t.end,n.start)<=0))return null;i(n,t,-1)}else if(!u&&f)if(r(t.start,n.start)>=0)i(t,n,1);else{if(!(r(t.start,n.start)<=0))return null;i(n,t,1)}else if(!u&&!f)if(r(t.start,n.start)>=0)i(t,n,1);else{if(!(r(t.end,n.start)<=0))return null;i(n,t,-1)}return[t,n]}function p(n,t){for(var i,r=n.length;r--;)for(i=0;i<t.length;i++)if(!c(n[r],t[i])){while(r<n.length){while(i--)c(t[i],n[r]);i=t.length;r++}return[n,t]}return n.selectionBefore=t.selectionBefore=n.selectionAfter=t.selectionAfter=null,[t,n]}function w(n,t){var f=n.action=="insert",e=t.action=="insert",s,u;if(f&&e)r(n.start,t.start)<0?i(t,n,1):i(n,t,1);else if(f&&!e)r(n.start,t.end)>=0?i(n,t,-1):r(n.start,t.start)<=0?i(t,n,1):(i(n,o.fromPoints(t.start,n.start),-1),i(t,n,1));else if(!f&&e)r(t.start,n.end)>=0?i(t,n,-1):r(t.start,n.start)<=0?i(n,t,1):(i(t,o.fromPoints(n.start,t.start),-1),i(n,t,1));else if(!f&&!e)if(r(t.start,n.end)>=0)i(t,n,-1);else{if(!(r(t.end,n.start)<=0))return r(n.start,t.start)<0&&(s=n,n=l(n,t.start)),r(n.end,t.end)>0&&(u=l(n,t.end)),h(t.end,n.start,n.end,-1),u&&!s&&(n.lines=u.lines,n.start=u.start,n.end=u.end,u=n),[t,s,u].filter(Boolean);i(n,t,-1)}return[t,n]}function i(n,t,i){h(n.start,t.start,t.end,i);h(n.end,t.start,t.end,i)}function h(n,t,i,r){n.row==(r==1?t:i).row&&(n.column+=r*(i.column-t.column));n.row+=r*(i.row-t.row)}function l(n,t){var r=n.lines,o=n.end;n.end=f(t);var u=n.end.row-n.start.row,i=r.splice(u,r.length),e=u?t.column:t.column-n.start.column;return r.push(i[0].substring(0,e)),i[0]=i[0].substr(e),{start:f(t),end:o,lines:i,action:n.action}}function b(n,t){var f,u,i,e,r;for(t=y(t),f=n.length;f--;){for(u=n[f],i=0;i<u.length;i++)e=u[i],r=w(e,t),t=r[0],r.length!=2&&(r[2]?(u.splice(i+1,1,r[1],r[2]),i++):r[1]||(u.splice(i,1),i--));u.length||n.splice(f,1)}return n}function k(n,t){for(var u,r,i=0;i<t.length;i++)for(u=t[i],r=0;r<u.length;r++)b(n,u[r])}var u=function(){function n(){this.$keepRedoStack;this.$maxRev=0;this.$fromUndo=!1;this.$undoDepth=Infinity;this.reset()}return n.prototype.addSession=function(n){this.$session=n},n.prototype.add=function(n,t){if(!this.$fromUndo&&n!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),t===!1||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1);this.$undoStack.push(this.lastDeltas);n.id=this.$rev=++this.$maxRev}(n.action=="remove"||n.action=="insert")&&(this.$lastDelta=n);this.lastDeltas.push(n)}},n.prototype.addSelection=function(n,t){this.selections.push({value:n,rev:t||this.$rev})},n.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},n.prototype.markIgnored=function(n,t){var r,u,i;for(t==null&&(t=this.$rev+1),r=this.$undoStack,u=r.length;u--;){if(i=r[u][0],i.id<=n)break;i.id<t&&(i.ignore=!0)}this.lastDeltas=null},n.prototype.getSelection=function(n,t){for(var i,r=this.selections,u=r.length;u--;)if(i=r[u],i.rev<n)return t&&(i=r[u+1]),i},n.prototype.getRevision=function(){return this.$rev},n.prototype.getDeltas=function(n,t){var i,f;t==null&&(t=this.$rev+1);var r=this.$undoStack,u=null,e=0;for(i=r.length;i--;)if(f=r[i][0],f.id<t&&!u&&(u=i+1),f.id<=n){e=i+1;break}return r.slice(e,u)},n.prototype.getChangedRanges=function(n,t){t==null&&(t=this.$rev+1)},n.prototype.getChangedLines=function(n,t){t==null&&(t=this.$rev+1)},n.prototype.undo=function(n,t){var i,r,u;if(this.lastDeltas=null,i=this.$undoStack,v(i,i.length))return n||(n=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0,r=i.pop(),u=null,r&&(u=n.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,u},n.prototype.redo=function(n,t){var u,i,r;return this.lastDeltas=null,n||(n=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev&&(u=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),k(this.$redoStack,u),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(n){n[0].id=++this.$maxRev},this)),i=this.$redoStack.pop(),r=null,i&&(r=n.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},n.prototype.$syncRev=function(){var n=this.$undoStack,t=n[n.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i;this.$rev=i},n.prototype.reset=function(){this.lastDeltas=null;this.$lastDelta=null;this.$undoStack=[];this.$redoStack=[];this.$rev=0;this.mark=0;this.$redoStackBaseRev=this.$rev;this.selections=[]},n.prototype.canUndo=function(){return this.$undoStack.length>0},n.prototype.canRedo=function(){return this.$redoStack.length>0},n.prototype.bookmark=function(n){n==undefined&&(n=this.$rev);this.mark=n},n.prototype.isAtBookmark=function(){return this.$rev===this.mark},n.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},n.prototype.fromJSON=function(n){this.reset();this.$undoStack=n.$undoStack;this.$redoStack=n.$redoStack},n.prototype.$prettyPrint=function(n){return n?e(n):e(this.$undoStack)+"\n---\n"+e(this.$redoStack)},n}();u.prototype.hasUndo=u.prototype.canUndo;u.prototype.hasRedo=u.prototype.canRedo;u.prototype.isClean=u.prototype.isAtBookmark;u.prototype.markClean=u.prototype.bookmark;var o=n("./range").Range,r=o.comparePoints,a=o.comparePoints;t.UndoManager=u});define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("../range").Range,r=function(){function n(n,t){this.foldData=n;Array.isArray(t)?this.folds=t:t=this.folds=[t];var r=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,r.end.row,r.end.column);this.start=this.range.start;this.end=this.range.end;this.folds.forEach(function(n){n.setFoldLine(this)},this)}return n.prototype.shiftRow=function(n){this.start.row+=n;this.end.row+=n;this.folds.forEach(function(t){t.start.row+=n;t.end.row+=n})},n.prototype.addFold=function(n){if(n.sameRow){if(n.start.row<this.startRow||n.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(n);this.folds.sort(function(n,t){return-n.range.compareEnd(t.start.row,t.start.column)});this.range.compareEnd(n.start.row,n.start.column)>0?(this.end.row=n.end.row,this.end.column=n.end.column):this.range.compareStart(n.end.row,n.end.column)<0&&(this.start.row=n.start.row,this.start.column=n.start.column)}else if(n.start.row==this.end.row)this.folds.push(n),this.end.row=n.end.row,this.end.column=n.end.column;else{if(n.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(n);this.start.row=n.start.row;this.start.column=n.start.column}n.foldLine=this},n.prototype.containsRow=function(n){return n>=this.start.row&&n<=this.end.row},n.prototype.walk=function(n,t,i){var u=0,h=this.folds,r,s,f,e=!0,o;for(t==null&&(t=this.end.row,i=this.end.column),o=0;o<h.length;o++){if(r=h[o],s=r.range.compareStart(t,i),s==-1){n(null,t,i,u,e);return}if(f=n(null,r.start.row,r.start.column,u,e),f=!f&&n(r.placeholder,r.start.row,r.start.column,u),f||s===0)return;e=!r.sameRow;u=r.end.column}n(null,t,i,u,e)},n.prototype.getNextFoldTo=function(n,t){for(var i,r,u=0;u<this.folds.length;u++){if(i=this.folds[u],r=i.range.compareEnd(n,t),r==-1)return{fold:i,kind:"after"};if(r===0)return{fold:i,kind:"inside"}}return null},n.prototype.addRemoveChars=function(n,t,i){var e=this.getNextFoldTo(n,t),r,f,u;if(e)if(r=e.fold,e.kind=="inside"&&r.start.column!=t&&r.start.row!=n)window.console&&window.console.log(n,t,r);else if(r.start.row==n){for(f=this.folds,u=f.indexOf(r),u===0&&(this.start.column+=i),u;u<f.length;u++){if(r=f[u],r.start.column+=i,!r.sameRow)return;r.end.column+=i}this.end.column+=i}},n.prototype.split=function(t,i){var u=this.getNextFoldTo(t,i),o;if(!u||u.kind=="inside")return null;var h=u.fold,r=this.folds,f=this.foldData,e=r.indexOf(h),s=r[e-1];return this.end.row=s.end.row,this.end.column=s.end.column,r=r.splice(e,r.length-e),o=new n(f,r),f.splice(f.indexOf(this)+1,0,o),o},n.prototype.merge=function(n){for(var i,r=n.folds,t=0;t<r.length;t++)this.addFold(r[t]);i=this.foldData;i.splice(i.indexOf(n),1)},n.prototype.toString=function(){var n=[this.range.toString()+": ["];return this.folds.forEach(function(t){n.push("  "+t.toString())}),n.push("]"),n.join("\n")},n.prototype.idxToPosition=function(n){for(var t,r=0,i=0;i<this.folds.length;i++){if(t=this.folds[i],n-=t.start.column-r,n<0)return{row:t.start.row,column:t.start.column+n};if(n-=t.placeholder.length,n<0)return t.start;r=t.end.column}return{row:this.end.row,column:this.end.column+n}},n}();t.FoldLine=r});define("ace/range_list",["require","exports","module","ace/range"],function(n,t){"use strict";var u=n("./range").Range,i=u.comparePoints,r=function(){function n(){this.ranges=[];this.$bias=1}return n.prototype.pointIndex=function(n,t,r){for(var e,o,f,s=this.ranges,u=r||0;u<s.length;u++)if(e=s[u],o=i(n,e.end),!(o>0))return f=i(n,e.start),o===0?t&&f!==0?-u-2:u:f>0||f===0&&!t?u:-u-1;return-u-1},n.prototype.add=function(n){var r=!n.isEmpty(),t=this.pointIndex(n.start,r),i;return t<0&&(t=-t-1),i=this.pointIndex(n.end,r,t),i<0?i=-i-1:i++,this.ranges.splice(t,i-t,n)},n.prototype.addList=function(n){for(var t=[],i=n.length;i--;)t.push.apply(t,this.add(n[i]));return t},n.prototype.substractPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges.splice(t,1)},n.prototype.merge=function(){var e=[],t=this.ranges,n,r,u,f;for(t=t.sort(function(n,t){return i(n.start,t.start)}),n=t[0],u=1;u<t.length;u++)(r=n,n=t[u],f=i(r.end,n.start),f<0)||(f!=0||r.isEmpty()||n.isEmpty())&&(i(r.end,n.end)<0&&(r.end.row=n.end.row,r.end.column=n.end.column),t.splice(u,1),e.push(n),n=r,u--);return this.ranges=t,e},n.prototype.contains=function(n,t){return this.pointIndex({row:n,column:t})>=0},n.prototype.containsPoint=function(n){return this.pointIndex(n)>=0},n.prototype.rangeAtPoint=function(n){var t=this.pointIndex(n);if(t>=0)return this.ranges[t]},n.prototype.clipRows=function(n,t){var u=this.ranges,i,r,e,f;if(u[0].start.row>t||u[u.length-1].start.row<n)return[];for(i=this.pointIndex({row:n,column:0}),i<0&&(i=-i-1),r=this.pointIndex({row:t,column:0},i),r<0&&(r=-r-1),e=[],f=i;f<r;f++)e.push(u[f]);return e},n.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},n.prototype.attach=function(n){this.session&&this.detach();this.session=n;this.onChange=this.$onChange.bind(this);this.session.on("change",this.onChange)},n.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},n.prototype.$onChange=function(n){for(var u,o,t,i=n.start,c=n.end,f=i.row,e=c.row,s=this.ranges,r=0,h=s.length;r<h;r++)if(t=s[r],t.end.row>=f)break;if(n.action=="insert")for(u=e-f,o=-i.column+c.column;r<h;r++){if(t=s[r],t.start.row>f)break;if(t.start.row==f&&t.start.column>=i.column&&(t.start.column==i.column&&this.$bias<=0||(t.start.column+=o,t.start.row+=u)),t.end.row==f&&t.end.column>=i.column){if(t.end.column==i.column&&this.$bias<0)continue;t.end.column==i.column&&o>0&&r<h-1&&t.end.column>t.start.column&&t.end.column==s[r+1].start.column&&(t.end.column-=o);t.end.column+=o;t.end.row+=u}}else for(u=f-e,o=i.column-c.column;r<h;r++){if(t=s[r],t.start.row>e)break;t.end.row<e&&(f<t.end.row||f==t.end.row&&i.column<t.end.column)?(t.end.row=f,t.end.column=i.column):t.end.row==e?t.end.column<=c.column?(u||t.end.column>i.column)&&(t.end.column=i.column,t.end.row=i.row):(t.end.column+=o,t.end.row+=u):t.end.row>e&&(t.end.row+=u);t.start.row<e&&(f<t.start.row||f==t.start.row&&i.column<t.start.column)?(t.start.row=f,t.start.column=i.column):t.start.row==e?t.start.column<=c.column?(u||t.start.column>i.column)&&(t.start.column=i.column,t.start.row=i.row):(t.start.column+=o,t.start.row+=u):t.start.row>e&&(t.start.row+=u)}if(u!=0&&r<h)for(;r<h;r++)t=s[r],t.start.row+=u,t.end.row+=u},n}();r.prototype.comparePoints=i;t.RangeList=r});define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(n,t){"use strict";function i(n,t){n.row-=t.row;n.row==0&&(n.column-=t.column)}function u(n,t){i(n.start,t);i(n.end,t)}function r(n,t){n.row==0&&(n.column+=t.column);n.row+=t.row}function f(n,t){r(n.start,t);r(n.end,t)}var e=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),o=n("../range_list").RangeList,s=function(n){function t(t,i){var r=n.call(this)||this;return r.foldLine=null,r.placeholder=i,r.range=t,r.start=t.start,r.end=t.end,r.sameRow=t.start.row==t.end.row,r.subFolds=r.ranges=[],r}return e(t,n),t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(n){this.foldLine=n;this.subFolds.forEach(function(t){t.setFoldLine(n)})},t.prototype.clone=function(){var i=this.range.clone(),n=new t(i,this.placeholder);return this.subFolds.forEach(function(t){n.subFolds.push(t.clone())}),n.collapseChildren=this.collapseChildren,n},t.prototype.addSubFold=function(n){var i,h,c,f,e,r,t,o,l,s;if(!this.range.isEqual(n)){for(u(n,this.start),f=n.start.row,e=n.start.column,i=0,t=-1;i<this.subFolds.length;i++)if(t=this.subFolds[i].range.compare(f,e),t!=1)break;if(h=this.subFolds[i],c=0,t==0){if(h.range.containsRange(n))return h.addSubFold(n);c=1}for(f=n.range.end.row,e=n.range.end.column,r=i,t=-1;r<this.subFolds.length;r++)if(t=this.subFolds[r].range.compare(f,e),t!=1)break;for(t==0&&r++,o=this.subFolds.splice(i,r-i,n),l=t==0?o.length-1:o.length,s=c;s<l;s++)n.addSubFold(o[s]);return n.setFoldLine(this.foldLine),n}},t.prototype.restoreRange=function(n){return f(n,this.start)},t}(o);t.Fold=s});define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(n,t){"use strict";function e(){this.getFoldAt=function(n,t,i){var e=this.getFoldLine(n),f,u,r;if(!e)return null;for(f=e.folds,u=0;u<f.length;u++)if(r=f[u].range,r.contains(n,t)){if(i==1&&r.isEnd(n,t)&&!r.isEmpty())continue;if(i==-1&&r.isStart(n,t)&&!r.isEmpty())continue;return f[u]}};this.getFoldsInRange=function(n){var o=n.start,s=n.end,u=this.$foldData,h=[],i,t,f,r,e;for(o.column+=1,s.column-=1,i=0;i<u.length;i++)if(t=u[i].range.compareRange(n),t!=2){if(t==-2)break;for(f=u[i].folds,r=0;r<f.length;r++){if(e=f[r],t=e.range.compareRange(n),t==-2)break;if(t!=2){if(t==42)break;h.push(e)}}}return o.column-=1,s.column+=1,h};this.getFoldsInRangeList=function(n){var t;return Array.isArray(n)?(t=[],n.forEach(function(n){t=t.concat(this.getFoldsInRange(n))},this)):t=this.getFoldsInRange(n),t};this.getAllFolds=function(){for(var t,r=[],i=this.$foldData,n=0;n<i.length;n++)for(t=0;t<i[n].folds.length;t++)r.push(i[n].folds[t]);return r};this.getFoldStringAt=function(n,t,i,r){var u,f,e,o,s;if(r=r||this.getFoldLine(n),!r)return null;for(u={end:{column:0}},o=0;o<r.folds.length;o++){if(e=r.folds[o],s=e.range.compareEnd(n,t),s==-1){f=this.getLine(e.start.row).substring(u.end.column,e.start.column);break}if(s===0)return null;u=e}return f||(f=this.getLine(e.start.row).substring(u.end.column)),i==-1?f.substring(0,t-u.end.column):i==1?f.substring(t-u.end.column):f};this.getFoldLine=function(n,t){var u=this.$foldData,i=0,r;for(t&&(i=u.indexOf(t)),i==-1&&(i=0),i;i<u.length;i++){if(r=u[i],r.start.row<=n&&r.end.row>=n)return r;if(r.end.row>n)return null}return null};this.getNextFoldLine=function(n,t){var r=this.$foldData,i=0,u;for(t&&(i=r.indexOf(t)),i==-1&&(i=0),i;i<r.length;i++)if(u=r[i],u.end.row>=n)return u;return null};this.getFoldedRowCount=function(n,t){for(var e=this.$foldData,r=t-n+1,f=0;f<e.length;f++){var o=e[f],u=o.end.row,i=o.start.row;if(u>=t){i<t&&(i>=n?r-=t-i:r=0);break}u>=n&&(r-=i>=n?u-i:u-n+1)}return r};this.$addFoldLine=function(n){return this.$foldData.push(n),this.$foldData.sort(function(n,t){return n.start.row-t.start.row}),n};this.addFold=function(n,t){var a=this.$foldData,v=!1,i,c,s,f,l;n instanceof u?i=n:(i=new u(t,n),i.collapseChildren=t.collapseChildren);this.$clipRangeToDocument(i.range);var y=i.start.row,p=i.start.column,o=i.end.row,w=i.end.column,e=this.getFoldAt(y,p,1),h=this.getFoldAt(o,w,-1);if(e&&h==e)return e.addSubFold(i);for(e&&!e.range.isStart(y,p)&&this.removeFold(e),h&&!h.range.isEnd(o,w)&&this.removeFold(h),c=this.getFoldsInRange(i.range),c.length>0&&(this.removeFolds(c),i.collapseChildren||c.forEach(function(n){i.addSubFold(n)})),s=0;s<a.length;s++){if(f=a[s],o==f.start.row){f.addFold(i);v=!0;break}if(y==f.end.row){if(f.addFold(i),v=!0,!i.sameRow&&(l=a[s+1],l&&l.start.row==o)){f.merge(l);break}break}if(o<=f.start.row)break}return v||(f=this.$addFoldLine(new r(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i};this.addFolds=function(n){n.forEach(function(n){this.addFold(n)},this)};this.removeFold=function(n){var i=n.foldLine,u=i.start.row,f=i.end.row,e=this.$foldData,t=i.folds,r;t.length==1?e.splice(e.indexOf(i),1):i.range.isEnd(n.end.row,n.end.column)?(t.pop(),i.end.row=t[t.length-1].end.row,i.end.column=t[t.length-1].end.column):i.range.isStart(n.start.row,n.start.column)?(t.shift(),i.start.row=t[0].start.row,i.start.column=t[0].start.column):n.sameRow?t.splice(t.indexOf(n),1):(r=i.split(n.start.row,n.start.column),t=r.folds,t.shift(),r.start.row=t[0].start.row,r.start.column=t[0].start.column);this.$updating||(this.$useWrapMode?this.$updateWrapData(u,f):this.$updateRowLengthCache(u,f));this.$modified=!0;this._signal("changeFold",{data:n,action:"remove"})};this.removeFolds=function(n){for(var i=[],t=0;t<n.length;t++)i.push(n[t]);i.forEach(function(n){this.removeFold(n)},this);this.$modified=!0};this.expandFold=function(n){this.removeFold(n);n.subFolds.forEach(function(t){n.restoreRange(t);this.addFold(t)},this);n.collapseChildren>0&&this.foldAll(n.start.row+1,n.end.row,n.collapseChildren-1);n.subFolds=[]};this.expandFolds=function(n){n.forEach(function(n){this.expandFold(n)},this)};this.unfold=function(n,t){var u,r,f;if(n==null)u=new i(0,0,this.getLength(),0),t==null&&(t=!0);else if(typeof n=="number")u=new i(n,0,n,this.getLine(n).length);else if("row"in n)u=i.fromPoints(n,n);else{if(Array.isArray(n))return r=[],n.forEach(function(n){r=r.concat(this.unfold(n))},this),r;u=n}for(r=this.getFoldsInRangeList(u),f=r;r.length==1&&i.comparePoints(r[0].start,u.start)<0&&i.comparePoints(r[0].end,u.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(u);return t!=0?this.removeFolds(r):this.expandFolds(r),f.length?f:void 0};this.isRowFolded=function(n,t){return!!this.getFoldLine(n,t)};this.getRowFoldEnd=function(n,t){var i=this.getFoldLine(n,t);return i?i.end.row:n};this.getRowFoldStart=function(n,t){var i=this.getFoldLine(n,t);return i?i.start.row:n};this.getFoldDisplayLine=function(n,t,i,r,u){r==null&&(r=n.start.row);u==null&&(u=0);t==null&&(t=n.end.row);i==null&&(i=this.getLine(t).length);var e=this.doc,f="";return n.walk(function(n,t,i,o){if(!(t<r)){if(t==r){if(i<u)return;o=Math.max(u,o)}f+=n!=null?n:e.getLine(t).substring(o,i)}},t,i),f};this.getDisplayLine=function(n,t,i,r){var f=this.getFoldLine(n),u;return f?this.getFoldDisplayLine(f,n,t,i,r):(u=this.doc.getLine(n),u.substring(r||0,t||u.length))};this.$cloneFoldData=function(){var n=[];return n=this.$foldData.map(function(t){var i=t.folds.map(function(n){return n.clone()});return new r(n,i)}),n};this.toggleFold=function(n){var o=this.selection,t=o.getRange(),i,r,u,e,f;if(t.isEmpty()){if(u=t.start,i=this.getFoldAt(u.row,u.column),i){this.expandFold(i);return}(r=this.findMatchingBracket(u))?t.comparePoint(r)==1?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:u.row,column:u.column+1}))?(t.comparePoint(r)==1?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(u.row,u.column)||t}else{if(e=this.getFoldsInRange(t),n&&e.length){this.expandFolds(e);return}e.length==1&&(i=e[0])}if(i||(i=this.getFoldAt(t.start.row,t.start.column)),i&&i.range.toString()==t.toString()){this.expandFold(i);return}if(f="...",!t.isMultiLine()){if(f=this.getTextRange(t),f.length<4)return;f=f.trim().substring(0,2)+".."}this.addFold(f,t)};this.getCommentFoldRange=function(n,t,r){var e=new f(this,n,t),u=e.getCurrentToken(),s=u&&u.type,h,o,c,l;if(u&&/^comment|string/.test(s)){if(s=s.match(/comment|string/)[0],s=="comment"&&(s+="|doc-start|\\.doc"),h=new RegExp(s),o=new i,r!=1){do u=e.stepBackward();while(u&&h.test(u.type)&&!/^comment.end/.test(u.type));u=e.stepForward()}if(o.start.row=e.getCurrentTokenRow(),o.start.column=e.getCurrentTokenColumn()+(/^comment.start/.test(u.type)?u.value.length:2),e=new f(this,n,t),r!=-1){c=-1;do if(u=e.stepForward(),c==-1)l=this.getState(e.$row),h.test(l)||(c=e.$row);else if(e.$row>c)break;while(u&&h.test(u.type)&&!/^comment.start/.test(u.type));u=e.stepBackward()}else u=e.getCurrentToken();return o.end.row=e.getCurrentTokenRow(),o.end.column=e.getCurrentTokenColumn(),/^comment.end/.test(u.type)||(o.end.column+=u.value.length-2),o}};this.foldAll=function(n,t,i,r){var e,u,f;if(i==undefined&&(i=1e5),e=this.foldWidgets,e)for(t=t||this.getLength(),n=n||0,u=n;u<t;u++)(e[u]==null&&(e[u]=this.getFoldWidget(u)),e[u]=="start")&&(!r||r(u))&&(f=this.getFoldWidgetRange(u),f&&f.isMultiLine()&&f.end.row<=t&&f.start.row>=n&&(u=f.end.row,f.collapseChildren=i,this.addFold("...",f)))};this.foldToLevel=function(n){for(this.foldAll();n-->0;)this.unfold(null,!1)};this.foldAllComments=function(){var n=this;this.foldAll(null,null,null,function(t){for(var i,u=n.getTokens(t),r=0;r<u.length;r++)if(i=u[r],i.type!="text"||!/^\s+$/.test(i.value))return/comment/.test(i.type)?!0:!1})};this.$foldStyles={manual:1,markbegin:1,markbeginend:1};this.$foldStyle="markbegin";this.setFoldStyle=function(n){if(!this.$foldStyles[n])throw new Error("invalid fold style: "+n+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=n){this.$foldStyle=n;n=="manual"&&this.unfold();var t=this.$foldMode;this.$setFolding(null);this.$setFolding(t)}};this.$setFolding=function(n){if(this.$foldMode!=n){if(this.$foldMode=n,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!n||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[];this.getFoldWidget=n.getFoldWidget.bind(n,this,this.$foldStyle);this.getFoldWidgetRange=n.getFoldWidgetRange.bind(n,this,this.$foldStyle);this.$updateFoldWidgets=this.updateFoldWidgets.bind(this);this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this);this.on("change",this.$updateFoldWidgets);this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}};this.getParentFoldRangeData=function(n,t){var u=this.foldWidgets,i,e,f,r;if(!u||t&&u[n])return{};for(i=n-1;i>=0;){if(f=u[i],f==null&&(f=u[i]=this.getFoldWidget(i)),f=="start"&&(r=this.getFoldWidgetRange(i),e||(e=r),r&&r.end.row>=n))break;i--}return{range:i!==-1&&r,firstRange:e}};this.onFoldWidgetClick=function(n,t){var r,u,i;t instanceof o&&(t=t.domEvent);r={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};u=this.$toggleFoldWidget(n,r);u||(i=t.target||t.srcElement,i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid"))};this.$toggleFoldWidget=function(n,t){var i,u,o,f;if(this.getFoldWidget){var s=this.getFoldWidget(n),h=this.getLine(n),e=s==="end"?-1:1,r=this.getFoldAt(n,e===-1?0:h.length,e);return r?(t.children||t.all?this.removeFold(r):this.expandFold(r),r):(i=this.getFoldWidgetRange(n,!0),i&&!i.isMultiLine()&&(r=this.getFoldAt(i.start.row,i.start.column,1),r&&i.isEqual(r.range)))?(this.removeFold(r),r):(t.siblings?(u=this.getParentFoldRangeData(n),u.range&&(o=u.range.start.row+1,f=u.range.end.row),this.foldAll(o,f,t.all?1e4:0)):t.children?(f=i?i.end.row:this.getLength(),this.foldAll(n+1,f,t.all?1e4:0)):i&&(t.all&&(i.collapseChildren=1e4),this.addFold("...",i)),i)}};this.toggleFoldWidget=function(){var n=this.selection.getCursor().row,t,i,r;(n=this.getRowFoldStart(n),t=this.$toggleFoldWidget(n,{}),t)||(i=this.getParentFoldRangeData(n,!0),t=i.range||i.firstRange,t&&(n=t.start.row,r=this.getFoldAt(n,this.getLine(n).length,1),r?this.removeFold(r):this.addFold("...",t)))};this.updateFoldWidgets=function(n){var t=n.start.row,i=n.end.row-t,r;i===0?this.foldWidgets[t]=null:n.action=="remove"?this.foldWidgets.splice(t,i+1,null):(r=Array(i+1),r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r))};this.tokenizerUpdateFoldWidgets=function(n){var t=n.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}var i=n("../range").Range,r=n("./fold_line").FoldLine,u=n("./fold").Fold,f=n("../token_iterator").TokenIterator,o=n("../mouse/mouse_event").MouseEvent;t.Folding=e});define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(n,t){"use strict";function u(){this.findMatchingBracket=function(n,t){var r,i;return n.column==0?null:(r=t||this.getLine(n.row).charAt(n.column-1),r=="")?null:(i=r.match(/([\(\[\{])|([\)\]\}])/),i?i[1]?this.$findClosingBracket(i[1],n):this.$findOpeningBracket(i[2],n):null)};this.getBracketRange=function(n){var o=this.getLine(n.row),e=!0,t,f=o.charAt(n.column-1),r=f&&f.match(/([\(\[\{])|([\)\]\}])/),u;if(r||(f=o.charAt(n.column),n={row:n.row,column:n.column+1},r=f&&f.match(/([\(\[\{])|([\)\]\}])/),e=!1),!r)return null;if(r[1]){if(u=this.$findClosingBracket(r[1],n),!u)return null;t=i.fromPoints(n,u);e||(t.end.column++,t.start.column--);t.cursor=t.end}else{if(u=this.$findOpeningBracket(r[2],n),!u)return null;t=i.fromPoints(u,n);e||(t.start.column++,t.end.column--);t.cursor=t.start}return t};this.getMatchingBracketRanges=function(n,t){var o=this.getLine(n.row),s=/([\(\[\{])|([\)\]\}])/,f=!t&&o.charAt(n.column-1),r=f&&f.match(s),e,u,h;return(r||(f=(t===undefined||t)&&o.charAt(n.column),n={row:n.row,column:n.column+1},r=f&&f.match(s)),!r)?null:(e=new i(n.row,n.column-1,n.row,n.column),u=r[1]?this.$findClosingBracket(r[1],n):this.$findOpeningBracket(r[2],n),!u)?[e]:(h=new i(u.row,u.column,u.row,u.column+1),[e,h])};this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"};this.$findOpeningBracket=function(n,t,i){var c=this.$brackets[n],s=1,f=new r(this,t.row,t.column),u=f.getCurrentToken(),e,o,h;if(u||(u=f.stepForward()),u){for(i||(i=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+")),e=t.column-f.getCurrentTokenColumn()-2,o=u.value;;){while(e>=0){if(h=o.charAt(e),h==c){if(s-=1,s==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(s+=1);e-=1}do u=f.stepBackward();while(u&&!i.test(u.type));if(u==null)break;o=u.value;e=o.length-1}return null}};this.$findClosingBracket=function(n,t,i){var l=this.$brackets[n],o=1,f=new r(this,t.row,t.column),u=f.getCurrentToken(),e,s,c,h;if(u||(u=f.stepForward()),u){for(i||(i=new RegExp("(\\.?"+u.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+")),e=t.column-f.getCurrentTokenColumn();;){for(s=u.value,c=s.length;e<c;){if(h=s.charAt(e),h==l){if(o-=1,o==0)return{row:f.getCurrentTokenRow(),column:e+f.getCurrentTokenColumn()}}else h==n&&(o+=1);e+=1}do u=f.stepForward();while(u&&!i.test(u.type));if(u==null)break;e=0}return null}};this.getMatchingTags=function(n){var t=new r(this,n.row,n.column),i=this.$findTagName(t),u;if(i)return u=t.stepBackward(),u.value==="<"?this.$findClosingTag(t,i):this.$findOpeningTag(t,i)};this.$findTagName=function(n){var t=n.getCurrentToken(),i=!1,r=!1;if(t&&t.type.indexOf("tag-name")===-1)do t=r?n.stepBackward():n.stepForward(),t&&(t.value==="/>"?r=!0:t.type.indexOf("tag-name")!==-1&&(i=!0));while(t&&!i);return t};this.$findClosingTag=function(n,t){var h,c=t.value,v=t.value,u=0,l=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),r,a,e,f,o,s;t=n.stepForward();r=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+t.value.length);a=!1;do if(h=t,t=n.stepForward(),t)if(t.value!==">"||a||(e=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),a=!0),t.type.indexOf("tag-name")!==-1){if(c=t.value,v===c)if(h.value==="<")u++;else if(h.value==="<\/"&&(u--,u<0)){if(n.stepBackward(),f=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+2),t=n.stepForward(),o=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+t.value.length),t=n.stepForward(),!t||t.value!==">")return;s=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1)}}else if(v===c&&t.value==="/>"&&(u--,u<0))var f=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+2),o=f,s=o,e=new i(r.end.row,r.end.column,r.end.row,r.end.column+1);while(t&&u>=0);if(l&&e&&f&&s&&r&&o)return{openTag:new i(l.start.row,l.start.column,e.end.row,e.end.column),closeTag:new i(f.start.row,f.start.column,s.end.row,s.end.column),openTagName:r,closeTagName:o}};this.$findOpeningTag=function(n,t){var r=n.getCurrentToken(),b=t.value,f=0,e=n.getCurrentTokenRow(),o=n.getCurrentTokenColumn(),l=o+2,a=new i(e,o,e,l),v,s,y,h,c,p,u,w;if(n.stepForward(),v=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+t.value.length),t=n.stepForward(),t&&t.value===">"){s=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1);n.stepBackward();n.stepBackward();do if(t=r,e=n.getCurrentTokenRow(),o=n.getCurrentTokenColumn(),l=o+t.value.length,r=n.stepBackward(),t)if(t.type.indexOf("tag-name")!==-1){if(b===t.value)if(r.value==="<"){if(f++,f>0){y=new i(e,o,e,l);h=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1);do t=n.stepForward();while(t&&t.value!==">");c=new i(n.getCurrentTokenRow(),n.getCurrentTokenColumn(),n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1)}}else r.value==="<\/"&&f--}else if(t.value==="/>"){for(p=0,u=r;u;){if(u.type.indexOf("tag-name")!==-1&&u.value===b){f--;break}if(u.value==="<")break;u=n.stepBackward();p++}for(w=0;w<p;w++)n.stepForward()}while(r&&f<=0);if(h&&c&&a&&s&&y&&v)return{openTag:new i(h.start.row,h.start.column,c.end.row,c.end.column),closeTag:new i(a.start.row,a.start.column,s.end.row,s.end.column),openTagName:y,closeTagName:v}}}}var r=n("../token_iterator").TokenIterator,i=n("../range").Range;t.BracketMatch=u});define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(n,t){"use strict";function o(n){return n<4352?!1:n>=4352&&n<=4447||n>=4515&&n<=4519||n>=4602&&n<=4607||n>=9001&&n<=9002||n>=11904&&n<=11929||n>=11931&&n<=12019||n>=12032&&n<=12245||n>=12272&&n<=12283||n>=12288&&n<=12350||n>=12353&&n<=12438||n>=12441&&n<=12543||n>=12549&&n<=12589||n>=12593&&n<=12686||n>=12688&&n<=12730||n>=12736&&n<=12771||n>=12784&&n<=12830||n>=12832&&n<=12871||n>=12880&&n<=13054||n>=13056&&n<=19903||n>=19968&&n<=42124||n>=42128&&n<=42182||n>=43360&&n<=43388||n>=44032&&n<=55203||n>=55216&&n<=55238||n>=55243&&n<=55291||n>=63744&&n<=64255||n>=65040&&n<=65049||n>=65072&&n<=65106||n>=65108&&n<=65126||n>=65128&&n<=65131||n>=65281&&n<=65376||n>=65504&&n<=65510}var w=n("./lib/oop"),h=n("./lib/lang"),b=n("./bidihandler").BidiHandler,u=n("./config"),k=n("./lib/event_emitter").EventEmitter,d=n("./selection").Selection,c=n("./mode/text").Mode,r=n("./range").Range,g=n("./document").Document,nt=n("./background_tokenizer").BackgroundTokenizer,tt=n("./search_highlight").SearchHighlight,it=n("./undomanager").UndoManager,i=function(){function n(t,i){this.doc;this.$breakpoints=[];this.$decorations=[];this.$frontMarkers={};this.$backMarkers={};this.$markerId=1;this.$undoSelect=!0;this.$foldData=[];this.id="session"+ ++n.$uid;this.$foldData.toString=function(){return this.join("\n")};this.bgTokenizer=new nt((new c).getTokenizer(),this);var r=this;this.bgTokenizer.on("update",function(n){r._signal("tokenizerUpdate",n)});this.on("changeFold",this.onChangeFold.bind(this));this.$onChange=this.onChange.bind(this);typeof t=="object"&&t.getLine||(t=new g(t));this.setDocument(t);this.selection=new d(this);this.$bidiHandler=new b(this);u.resetOptions(this);this.setMode(i);u._signal("session",this);this.destroyed=!1}return n.prototype.setDocument=function(n){this.doc&&this.doc.off("change",this.$onChange);this.doc=n;n.on("change",this.$onChange,!0);this.bgTokenizer.setDocument(this.getDocument());this.resetCaches()},n.prototype.getDocument=function(){return this.doc},n.prototype.$resetRowCache=function(n){if(!n){this.$docRowCache=[];this.$screenRowCache=[];return}var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,n)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},n.prototype.$getRowCacheIndex=function(n,t){for(var r=0,u=n.length-1,i,f;r<=u;)if(i=r+u>>1,f=n[i],t>f)r=i+1;else{if(!(t<f))return i;u=i-1}return r-1},n.prototype.resetCaches=function(){this.$modified=!0;this.$wrapData=[];this.$rowLengthCache=[];this.$resetRowCache(0);this.destroyed||this.bgTokenizer.start(0)},n.prototype.onChangeFold=function(n){var t=n.data;this.$resetRowCache(t.start.row)},n.prototype.onChange=function(n){this.$modified=!0;this.$bidiHandler.onChange(n);this.$resetRowCache(n.start.row);var t=this.$updateInternalDataOnChange(n);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(n,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule());this.bgTokenizer.$updateOnChange(n);this._signal("change",n)},n.prototype.setValue=function(n){this.doc.setValue(n);this.selection.moveTo(0,0);this.$resetRowCache(0);this.setUndoManager(this.$undoManager);this.getUndoManager().reset()},n.fromJSON=function(t){var u,i;return typeof t=="string"&&(t=JSON.parse(t)),u=new it,u.$undoStack=t.history.undo,u.$redoStack=t.history.redo,u.mark=t.history.mark,u.$rev=t.history.rev,i=new n(t.value),t.folds.forEach(function(n){i.addFold("...",r.fromPoints(n.start,n.end))}),i.setAnnotations(t.annotations),i.setBreakpoints(t.breakpoints),i.setMode(t.mode),i.setScrollLeft(t.scrollLeft),i.setScrollTop(t.scrollTop),i.setUndoManager(u),i.selection.fromJSON(t.selection),i},n.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(n){return n.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},n.prototype.toString=function(){return this.doc.getValue()},n.prototype.getSelection=function(){return this.selection},n.prototype.getState=function(n){return this.bgTokenizer.getState(n)},n.prototype.getTokens=function(n){return this.bgTokenizer.getTokens(n)},n.prototype.getTokenAt=function(n,t){var u=this.bgTokenizer.getTokens(n),r,f=0,i;if(t==null)i=u.length-1,f=this.getLine(n).length;else for(i=0;i<u.length;i++)if(f+=u[i].value.length,f>=t)break;return r=u[i],r?(r.index=i,r.start=f-r.value.length,r):null},n.prototype.setUndoManager=function(n){if(this.$undoManager=n,this.$informUndoManager&&this.$informUndoManager.cancel(),n){var t=this;n.addSession(this);this.$syncInformUndoManager=function(){t.$informUndoManager.cancel();t.mergeUndoDeltas=!1};this.$informUndoManager=h.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},n.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},n.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},n.prototype.getTabString=function(){return this.getUseSoftTabs()?h.stringRepeat(" ",this.getTabSize()):"\t"},n.prototype.setUseSoftTabs=function(n){this.setOption("useSoftTabs",n)},n.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},n.prototype.setTabSize=function(n){this.setOption("tabSize",n)},n.prototype.getTabSize=function(){return this.$tabSize},n.prototype.isTabStop=function(n){return this.$useSoftTabs&&n.column%this.$tabSize==0},n.prototype.setNavigateWithinSoftTabs=function(n){this.setOption("navigateWithinSoftTabs",n)},n.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},n.prototype.setOverwrite=function(n){this.setOption("overwrite",n)},n.prototype.getOverwrite=function(){return this.$overwrite},n.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},n.prototype.addGutterDecoration=function(n,t){this.$decorations[n]||(this.$decorations[n]="");this.$decorations[n]+=" "+t;this._signal("changeBreakpoint",{})},n.prototype.removeGutterDecoration=function(n,t){this.$decorations[n]=(this.$decorations[n]||"").replace(" "+t,"");this._signal("changeBreakpoint",{})},n.prototype.getBreakpoints=function(){return this.$breakpoints},n.prototype.setBreakpoints=function(n){this.$breakpoints=[];for(var t=0;t<n.length;t++)this.$breakpoints[n[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},n.prototype.clearBreakpoints=function(){this.$breakpoints=[];this._signal("changeBreakpoint",{})},n.prototype.setBreakpoint=function(n,t){t===undefined&&(t="ace_breakpoint");t?this.$breakpoints[n]=t:delete this.$breakpoints[n];this._signal("changeBreakpoint",{})},n.prototype.clearBreakpoint=function(n){delete this.$breakpoints[n];this._signal("changeBreakpoint",{})},n.prototype.addMarker=function(n,t,i,r){var u=this.$markerId++,f={range:n,type:i||"line",renderer:typeof i=="function"?i:null,clazz:t,inFront:!!r,id:u};return r?(this.$frontMarkers[u]=f,this._signal("changeFrontMarker")):(this.$backMarkers[u]=f,this._signal("changeBackMarker")),u},n.prototype.addDynamicMarker=function(n,t){if(n.update){var i=this.$markerId++;return n.id=i,n.inFront=!!t,t?(this.$frontMarkers[i]=n,this._signal("changeFrontMarker")):(this.$backMarkers[i]=n,this._signal("changeBackMarker")),n}},n.prototype.removeMarker=function(n){var t=this.$frontMarkers[n]||this.$backMarkers[n],i;t&&(i=t.inFront?this.$frontMarkers:this.$backMarkers,delete i[n],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},n.prototype.getMarkers=function(n){return n?this.$frontMarkers:this.$backMarkers},n.prototype.highlight=function(n){if(!this.$searchHighlight){var t=new tt(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(n)},n.prototype.highlightLines=function(n,t,i,u){typeof t!="number"&&(i=t,t=n);i||(i="ace_step");var f=new r(n,0,t,Infinity);return f.id=this.addMarker(f,i,"fullLine",u),f},n.prototype.setAnnotations=function(n){this.$annotations=n;this._signal("changeAnnotation",{})},n.prototype.getAnnotations=function(){return this.$annotations||[]},n.prototype.clearAnnotations=function(){this.setAnnotations([])},n.prototype.$detectNewLine=function(n){var t=n.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},n.prototype.getWordRange=function(n,t){var u=this.getLine(n),e=!1,o,i,f;if(t>0&&(e=!!u.charAt(t-1).match(this.tokenRe)),e||(e=!!u.charAt(t).match(this.tokenRe)),o=e?this.tokenRe:/^\s+$/.test(u.slice(t-1,t+1))?/\s/:this.nonTokenRe,i=t,i>0){do i--;while(i>=0&&u.charAt(i).match(o));i++}for(f=t;f<u.length&&u.charAt(f).match(o);)f++;return new r(n,i,n,f)},n.prototype.getAWordRange=function(n,t){for(var i=this.getWordRange(n,t),r=this.getLine(i.end.row);r.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},n.prototype.setNewLineMode=function(n){this.doc.setNewLineMode(n)},n.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},n.prototype.setUseWorker=function(n){this.setOption("useWorker",n)},n.prototype.getUseWorker=function(){return this.$useWorker},n.prototype.onReloadTokenizer=function(n){var t=n.data;this.bgTokenizer.start(t.first);this._signal("tokenizerUpdate",n)},n.prototype.setMode=function(n,t){if(n&&typeof n=="object"){if(n.getTokenizer)return this.$onChangeMode(n);var r=n,i=r.path}else i=n||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!r){this.$onChangeMode(this.$modes[i]);t&&t();return}this.$modeId=i;u.loadModule(["mode",i],function(n){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!r?this.$onChangeMode(this.$modes[i]):n&&n.Mode&&(n=new n.Mode(r),r||(this.$modes[i]=n,n.$id=i),this.$onChangeMode(n));t&&t()}.bind(this));this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},n.prototype.$onChangeMode=function(n,t){var r,i,u;if(t||(this.$modeId=n.$id),this.$mode!==n){if(r=this.$mode,this.$mode=n,this.$stopWorker(),this.$useWorker&&this.$startWorker(),i=n.getTokenizer(),i.on!==undefined){u=this.onReloadTokenizer.bind(this);i.on("update",u)}this.bgTokenizer.setTokenizer(i);this.bgTokenizer.setDocument(this.getDocument());this.tokenRe=n.tokenRe;this.nonTokenRe=n.nonTokenRe;t||(n.attachToSession&&n.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(n.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:r,mode:n}))}},n.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},n.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(n){u.warn("Could not load worker",n);this.$worker=null}},n.prototype.getMode=function(){return this.$mode},n.prototype.setScrollTop=function(n){this.$scrollTop===n||isNaN(n)||(this.$scrollTop=n,this._signal("changeScrollTop",n))},n.prototype.getScrollTop=function(){return this.$scrollTop},n.prototype.setScrollLeft=function(n){this.$scrollLeft===n||isNaN(n)||(this.$scrollLeft=n,this._signal("changeScrollLeft",n))},n.prototype.getScrollLeft=function(){return this.$scrollLeft},n.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},n.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var n=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>n&&(n=t.screenWidth)}),this.lineWidgetWidth=n},n.prototype.$computeWidth=function(n){var t;if(this.$modified||n){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;var f=this.doc.getAllLines(),r=this.$rowLengthCache,u=0,e=0,i=this.$foldData[e],o=i?i.start.row:Infinity,s=f.length;for(t=0;t<s;t++){if(t>o){if(t=i.end.row+1,t>=s)break;i=this.$foldData[e++];o=i?i.start.row:Infinity}r[t]==null&&(r[t]=this.$getStringScreenWidth(f[t])[0]);r[t]>u&&(u=r[t])}this.screenWidth=u}},n.prototype.getLine=function(n){return this.doc.getLine(n)},n.prototype.getLines=function(n,t){return this.doc.getLines(n,t)},n.prototype.getLength=function(){return this.doc.getLength()},n.prototype.getTextRange=function(n){return this.doc.getTextRange(n||this.selection.getRange())},n.prototype.insert=function(n,t){return this.doc.insert(n,t)},n.prototype.remove=function(n){return this.doc.remove(n)},n.prototype.removeFullLines=function(n,t){return this.doc.removeFullLines(n,t)},n.prototype.undoChanges=function(n,t){var r,i;if(n.length){for(this.$fromUndo=!0,r=n.length-1;r!=-1;r--)i=n[r],i.action=="insert"||i.action=="remove"?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds);!t&&this.$undoSelect&&(n.selectionBefore?this.selection.fromJSON(n.selectionBefore):this.selection.setRange(this.$getUndoSelection(n,!0)));this.$fromUndo=!1}},n.prototype.redoChanges=function(n,t){var i,r;if(n.length){for(this.$fromUndo=!0,i=0;i<n.length;i++)r=n[i],(r.action=="insert"||r.action=="remove")&&this.doc.$safeApplyDelta(r);!t&&this.$undoSelect&&(n.selectionAfter?this.selection.fromJSON(n.selectionAfter):this.selection.setRange(this.$getUndoSelection(n,!1)));this.$fromUndo=!1}},n.prototype.setUndoSelect=function(n){this.$undoSelect=n},n.prototype.$getUndoSelection=function(n,t){function o(n){return t?n.action!=="insert":n.action==="insert"}for(var i,f,u,e=0;e<n.length;e++)if(i=n[e],i.start){if(!f){f=o(i)?r.fromPoints(i.start,i.end):r.fromPoints(i.start,i.start);continue}o(i)?(u=i.start,f.compare(u.row,u.column)==-1&&f.setStart(u),u=i.end,f.compare(u.row,u.column)==1&&f.setEnd(u)):(u=i.start,f.compare(u.row,u.column)==-1&&(f=r.fromPoints(i.start,i.start)))}return f},n.prototype.replace=function(n,t){return this.doc.replace(n,t)},n.prototype.moveText=function(n,t,i){var c=this.getTextRange(n),s=this.getFoldsInRange(n),u=r.fromPoints(t,t),f,e;if(i||(this.remove(n),f=n.start.row-n.end.row,e=f?-n.end.column:n.start.column-n.end.column,e&&(u.start.row==n.end.row&&u.start.column>n.end.column&&(u.start.column+=e),u.end.row==n.end.row&&u.end.column>n.end.column&&(u.end.column+=e)),f&&u.start.row>=n.end.row&&(u.start.row+=f,u.end.row+=f)),u.end=this.insert(u.start,c),s.length){var o=n.start,h=u.start,f=h.row-o.row,e=h.column-o.column;this.addFolds(s.map(function(n){return n=n.clone(),n.start.row==o.row&&(n.start.column+=e),n.end.row==o.row&&(n.end.column+=e),n.start.row+=f,n.end.row+=f,n}))}return u},n.prototype.indentRows=function(n,t,i){i=i.replace(/\t/g,this.getTabString());for(var r=n;r<=t;r++)this.doc.insertInLine({row:r,column:0},i)},n.prototype.outdentRows=function(n){for(var f,t,e=n.collapseRows(),i=new r(0,0,0,0),o=this.getTabSize(),u=e.start.row;u<=e.end.row;++u){for(f=this.getLine(u),i.start.row=u,i.end.row=u,t=0;t<o;++t)if(f.charAt(t)!=" ")break;t<o&&f.charAt(t)=="\t"?(i.start.column=t,i.end.column=t+1):(i.start.column=0,i.end.column=t);this.remove(i)}},n.prototype.$moveLines=function(n,t,i){var f,u;if(n=this.getRowFoldStart(n),t=this.getRowFoldEnd(t),i<0){if(f=this.getRowFoldStart(n+i),f<0)return 0;u=f-n}else if(i>0){if(f=this.getRowFoldEnd(t+i),f>this.doc.getLength()-1)return 0;u=f-t}else n=this.$clipRowToDocument(n),t=this.$clipRowToDocument(t),u=t-n+1;var o=new r(n,0,t,Number.MAX_VALUE),e=this.getFoldsInRange(o).map(function(n){return n=n.clone(),n.start.row+=u,n.end.row+=u,n}),s=i==0?this.doc.getLines(n,t):this.doc.removeFullLines(n,t);return this.doc.insertFullLines(n+u,s),e.length&&this.addFolds(e),u},n.prototype.moveLinesUp=function(n,t){return this.$moveLines(n,t,-1)},n.prototype.moveLinesDown=function(n,t){return this.$moveLines(n,t,1)},n.prototype.duplicateLines=function(n,t){return this.$moveLines(n,t,0)},n.prototype.$clipRowToDocument=function(n){return Math.max(0,Math.min(n,this.doc.getLength()-1))},n.prototype.$clipColumnToRow=function(n,t){return t<0?0:Math.min(this.doc.getLine(n).length,t)},n.prototype.$clipPositionToDocument=function(n,t){if(t=Math.max(0,t),n<0)n=0,t=0;else{var i=this.doc.getLength();n>=i?(n=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(n).length,t)}return{row:n,column:t}},n.prototype.$clipRangeToDocument=function(n){n.start.row<0?(n.start.row=0,n.start.column=0):n.start.column=this.$clipColumnToRow(n.start.row,n.start.column);var t=this.doc.getLength()-1;return n.end.row>t?(n.end.row=t,n.end.column=this.doc.getLine(t).length):n.end.column=this.$clipColumnToRow(n.end.row,n.end.column),n},n.prototype.setUseWrapMode=function(n){if(n!=this.$useWrapMode){if(this.$useWrapMode=n,this.$modified=!0,this.$resetRowCache(0),n){var t=this.getLength();this.$wrapData=Array(t);this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},n.prototype.getUseWrapMode=function(){return this.$useWrapMode},n.prototype.setWrapLimitRange=function(n,t){(this.$wrapLimitRange.min!==n||this.$wrapLimitRange.max!==t)&&(this.$wrapLimitRange={min:n,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},n.prototype.adjustWrapLimit=function(n,t){var i=this.$wrapLimitRange,r;return i.max<0&&(i={min:t,max:t}),r=this.$constrainWrapLimit(n,i.min,i.max),r!=this.$wrapLimit&&r>1?(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},n.prototype.$constrainWrapLimit=function(n,t,i){return t&&(n=Math.max(t,n)),i&&(n=Math.min(i,n)),n},n.prototype.getWrapLimit=function(){return this.$wrapLimit},n.prototype.setWrapLimit=function(n){this.setWrapLimitRange(n,n)},n.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},n.prototype.$updateInternalDataOnChange=function(n){var l=this.$useWrapMode,p=n.action,f=n.start,e=n.end,i=f.row,s=e.row,r=s-i,h=null,o,u,c,a,v,y,t;if(this.$updating=!0,r!=0)if(p==="remove"){for(this[l?"$wrapData":"$rowLengthCache"].splice(i,r),o=this.$foldData,h=this.getFoldsInRange(n),this.removeFolds(h),t=this.getFoldLine(e.row),u=0,t&&(t.addRemoveChars(e.row,e.column,f.column-e.column),t.shiftRow(-r),c=this.getFoldLine(i),c&&c!==t&&(c.merge(t),t=c),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=e.row&&t.shiftRow(-r);s=i}else{a=Array(r);a.unshift(i,0);v=l?this.$wrapData:this.$rowLengthCache;v.splice.apply(v,a);var o=this.$foldData,t=this.getFoldLine(i),u=0;for(t&&(y=t.range.compareInside(f.row,f.column),y==0?(t=t.split(f.row,f.column),t&&(t.shiftRow(r),t.addRemoveChars(s,0,e.column-f.column))):y==-1&&(t.addRemoveChars(i,0,e.column-f.column),t.shiftRow(r)),u=o.indexOf(t)+1),u;u<o.length;u++)t=o[u],t.start.row>=i&&t.shiftRow(r)}else r=Math.abs(n.start.column-n.end.column),p==="remove"&&(h=this.getFoldsInRange(n),this.removeFolds(h),r=-r),t=this.getFoldLine(i),t&&t.addRemoveChars(i,f.column,r);return l&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,l?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),h},n.prototype.$updateRowLengthCache=function(n,t){this.$rowLengthCache[n]=null;this.$rowLengthCache[t]=null},n.prototype.$updateWrapData=function(n,t){var e=this.doc.getAllLines(),o=this.getTabSize(),h=this.$wrapData,c=this.$wrapLimit,i,r,u=n;for(t=Math.min(t,e.length-1);u<=t;)r=this.getFoldLine(u,r),r?(i=[],r.walk(function(n,t,r,u){var o,h;if(n!=null)for(o=this.$getDisplayTokens(n,i.length),o[0]=f,h=1;h<o.length;h++)o[h]=s;else o=this.$getDisplayTokens(e[t].substring(u,r),i.length);i=i.concat(o)}.bind(this),r.end.row,e[r.end.row].length+1),h[r.start.row]=this.$computeWrapSplits(i,c,o),u=r.end.row+1):(i=this.$getDisplayTokens(e[u]),h[u]=this.$computeWrapSplits(i,c,o),u++)},n.prototype.$computeWrapSplits=function(n,t,i){function g(){var t=0,r,u;if(d===0)return t;if(w)for(r=0;r<n.length;r++)if(u=n[r],u==e)t+=1;else{if(u!=y){if(u==p)continue;break}t+=i}return k&&w!==!1&&(t+=i),Math.min(t,d)}function h(t){for(var r,f=t-u,i=u;i<t;i++)r=n[i],(r===12||r===2)&&(f-=1);l.length||(c=g(),l.indent=c);b+=f;l.push(b);u=t}var r,o;if(n.length==0)return[];for(var l=[],nt=n.length,u=0,b=0,k=this.$wrapAsCode,w=this.$indentedSoftWrap,d=t<=Math.max(2*i,8)||w===!1?0:Math.floor(t/2),c=0;nt-u>t-c;){if(r=u+t-c,n[r-1]>=e&&n[r]>=e){h(r);continue}if(n[r]==f||n[r]==s){for(r;r!=u-1;r--)if(n[r]==f)break;if(r>u){h(r);continue}for(r=u+t,r;r<n.length;r++)if(n[r]!=s)break;if(r==n.length)break;h(r);continue}for(o=Math.max(r-(t-(t>>2)),u-1);r>o&&n[r]<f;)r--;if(k){while(r>o&&n[r]<f)r--;while(r>o&&n[r]==v)r--}else while(r>o&&n[r]<e)r--;if(r>o){h(++r);continue}r=u+t;n[r]==a&&r--;h(r-c)}return l},n.prototype.$getDisplayTokens=function(n,t){var r=[],s,u,i,f;for(t=t||0,u=0;u<n.length;u++)if(i=n.charCodeAt(u),i==9)for(s=this.getScreenTabSize(r.length+t),r.push(y),f=1;f<s;f++)r.push(p);else i==32?r.push(e):i>39&&i<48||i>57&&i<64?r.push(v):i>=4352&&o(i)?r.push(l,a):r.push(l);return r},n.prototype.$getStringScreenWidth=function(n,t,i){if(t==0)return[0,0];t==null&&(t=Infinity);i=i||0;for(var u,r=0;r<n.length;r++)if(u=n.charCodeAt(r),i+=u==9?this.getScreenTabSize(i):u>=4352&&o(u)?2:1,i>t)break;return[i,r]},n.prototype.getRowLength=function(n){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0),!this.$useWrapMode||!this.$wrapData[n]?t:this.$wrapData[n].length+t},n.prototype.getRowLineCount=function(n){return!this.$useWrapMode||!this.$wrapData[n]?1:this.$wrapData[n].length+1},n.prototype.getRowWrapIndent=function(n){if(this.$useWrapMode){var i=this.screenToDocumentPosition(n,Number.MAX_VALUE),t=this.$wrapData[i.row];return t.length&&t[0]<i.column?t.indent:0}return 0},n.prototype.getScreenLastRowColumn=function(n){var t=this.screenToDocumentPosition(n,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},n.prototype.getDocumentLastRowColumn=function(n,t){var i=this.documentToScreenRow(n,t);return this.getScreenLastRowColumn(i)},n.prototype.getDocumentLastRowColumnPosition=function(n,t){var i=this.documentToScreenRow(n,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},n.prototype.getRowSplitData=function(n){return this.$useWrapMode?this.$wrapData[n]:undefined},n.prototype.getScreenTabSize=function(n){return this.$tabSize-(n%this.$tabSize|0)},n.prototype.screenToDocumentRow=function(n,t){return this.screenToDocumentPosition(n,t).row},n.prototype.screenToDocumentColumn=function(n,t){return this.screenToDocumentPosition(n,t).column},n.prototype.screenToDocumentPosition=function(n,t,i){var b,w,s,f;if(n<0)return{row:0,column:0};var h,r=0,e=0,v,o=0,c=0,l=this.$screenRowCache,y=this.$getRowCacheIndex(l,n),p=l.length;if(p&&y>=0)var o=l[y],r=this.$docRowCache[y],b=n>l[p-1];else b=!p;for(var a=this.getLength()-1,u=this.getNextFoldLine(r),k=u?u.start.row:Infinity;o<=n;){if(c=this.getRowLength(r),o+c>n||r>=a)break;o+=c;r++;r>k&&(r=u.end.row+1,u=this.getNextFoldLine(r,u),k=u?u.start.row:Infinity);b&&(this.$docRowCache.push(r),this.$screenRowCache.push(o))}if(u&&u.start.row<=r)h=this.getFoldDisplayLine(u),r=u.start.row;else{if(o+c<=n||r>a)return{row:a,column:this.getLine(a).length};h=this.getLine(r);u=null}return w=0,s=Math.floor(n-o),this.$useWrapMode&&(f=this.$wrapData[r],f&&(v=f[s],s>0&&f.length&&(w=f.indent,e=f[s-1]||f[f.length-1],h=h.substring(e)))),i!==undefined&&this.$bidiHandler.isBidiRow(o+s,r,s)&&(t=this.$bidiHandler.offsetToCol(i)),e+=this.$getStringScreenWidth(h,t-w)[1],this.$useWrapMode&&e>=v&&(e=v-1),u?u.idxToPosition(e):{row:r,column:e}},n.prototype.documentToScreenPosition=function(n,t){var a,b,r,l,u,w,o,s;a=typeof t=="undefined"?this.$clipPositionToDocument(n.row,n.column):this.$clipPositionToDocument(n,t);n=a.row;t=a.column;var f=0,v=null,h=null;h=this.getFoldAt(n,t,1);h&&(n=h.start.row,t=h.start.column);var e,i=0,c=this.$docRowCache,y=this.$getRowCacheIndex(c,n),p=c.length;if(p&&y>=0)var i=c[y],f=this.$screenRowCache[y],b=n>c[p-1];else b=!p;for(r=this.getNextFoldLine(i),l=r?r.start.row:Infinity;i<n;){if(i>=l){if(e=r.end.row+1,e>n)break;r=this.getNextFoldLine(e,r);l=r?r.start.row:Infinity}else e=i+1;f+=this.getRowLength(i);i=e;b&&(this.$docRowCache.push(i),this.$screenRowCache.push(f))}if(u="",r&&i>=l?(u=this.getFoldDisplayLine(r,n,t),v=r.start.row):(u=this.getLine(n).substring(0,t),v=n),w=0,this.$useWrapMode&&(o=this.$wrapData[v],o)){for(s=0;u.length>=o[s];)f++,s++;u=u.substring(o[s-1]||0,u.length);w=s>0?o.indent:0}return this.lineWidgets&&this.lineWidgets[i]&&this.lineWidgets[i].rowsAbove&&(f+=this.lineWidgets[i].rowsAbove),{row:f,column:w+this.$getStringScreenWidth(u)[0]}},n.prototype.documentToScreenColumn=function(n,t){return this.documentToScreenPosition(n,t).column},n.prototype.documentToScreenRow=function(n,t){return this.documentToScreenPosition(n,t).row},n.prototype.getScreenLength=function(){var i=0,n=null,u,t,f;if(this.$useWrapMode)for(var o=this.$wrapData.length,r=0,t=0,n=this.$foldData[t++],e=n?n.start.row:Infinity;r<o;)f=this.$wrapData[r],i+=f?f.length+1:1,r++,r>e&&(r=n.end.row+1,n=this.$foldData[t++],e=n?n.start.row:Infinity);else for(i=this.getLength(),u=this.$foldData,t=0;t<u.length;t++)n=u[t],i-=n.end.row-n.start.row;return this.lineWidgets&&(i+=this.$getWidgetScreenLength()),i},n.prototype.$setFontMetrics=function(n){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,i,r){if(i===0)return[0,0];i||(i=Infinity);r=r||0;for(var f,u=0;u<t.length;u++)if(f=t.charAt(u),r+=f==="\t"?this.getScreenTabSize(r):n.getCharacterWidth(f),r>i)break;return[r,u]})},n.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0);this.$stopWorker();this.removeAllListeners();this.doc&&this.doc.off("change",this.$onChange);this.selection.detach()},n}();i.$uid=0;i.prototype.$modes=u.$modes;i.prototype.getValue=i.prototype.toString;i.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}};i.prototype.$overwrite=!1;i.prototype.$mode=null;i.prototype.$modeId=null;i.prototype.$scrollTop=0;i.prototype.$scrollLeft=0;i.prototype.$wrapLimit=80;i.prototype.$useWrapMode=!1;i.prototype.$wrapLimitRange={min:null,max:null};i.prototype.lineWidgets=null;i.prototype.isFullWidth=o;w.implement(i.prototype,k);var l=1,a=2,f=3,s=4,v=9,e=10,y=11,p=12;n("./edit_session/folding").Folding.call(i.prototype);n("./edit_session/bracket_match").BracketMatch.call(i.prototype);u.defineOptions(i.prototype,"session",{wrap:{set:function(n){if(!n||n=="off"?n=!1:n=="free"?n=!0:n=="printMargin"?n=-1:typeof n=="string"&&(n=parseInt(n,10)||!1),this.$wrap!=n)if(this.$wrap=n,n){var t=typeof n=="number"?n:null;this.setWrapLimitRange(t,t);this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(n){n=n=="auto"?this.$mode.type!="text":n!="text";n!=this.$wrapAsCode&&(this.$wrapAsCode=n,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(n){this.$useWorker=n;this.$stopWorker();n&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(n){n=parseInt(n);n>0&&this.$tabSize!==n&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=n,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(n){this.setFoldStyle(n)},handlesSet:!0},overwrite:{set:function(){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(n){this.doc.setNewLineMode(n)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(n){this.setMode(n)},get:function(){return this.$modeId},handlesSet:!0}});t.EditSession=i});define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(n,t){"use strict";function u(n,t){function u(n,i){i===void 0&&(i=!0);var r=f&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return r.test(n)||t.regExp?f&&t.$supportsUnicodeFlag?i?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var f=i.supportsLookbehind(),r=Array.from(n),e=r[0],o=r[r.length-1];return u(e)+n+u(o,!1)}var i=n("./lib/lang"),f=n("./lib/oop"),r=n("./range").Range,e=function(){function n(){this.$options={}}return n.prototype.set=function(n){return f.mixin(this.$options,n),this},n.prototype.getOptions=function(){return i.copyObject(this.$options)},n.prototype.setOptions=function(n){this.$options=n},n.prototype.find=function(n){var t=this.$options,u=this.$matchIterator(n,t),i;return u?(i=null,u.forEach(function(n,u,f,e){return i=new r(n,u,f,e),u==e&&t.start&&t.start.start&&t.skipCurrent!=0&&i.isEqual(t.start)?(i=null,!1):!0}),i):!1},n.prototype.findAll=function(n){var l=this.$options,s,p,a,e,u,y,t,v,k;if(!l.needle)return[];this.$assembleRegExp(l);var o=l.range,h=o?n.getLines(o.start.row,o.end.row):n.doc.getAllLines(),f=[],c=l.re;if(l.$isMultiLine){s=c.length;p=h.length-s;n:for(e=c.offset||0;e<=p;e++){for(t=0;t<s;t++)if(h[e+t].search(c[t])==-1)continue n;var w=h[e],d=h[e+s-1],b=w.length-w.match(c[0])[0].length,g=d.match(c[s-1])[0].length;a&&a.end.row===e&&a.end.column>b||(f.push(a=new r(e,b,e+s-1,g)),s>2&&(e=e+s-2))}}else for(u=0;u<h.length;u++)for(y=i.getMatchOffsets(h[u],c),t=0;t<y.length;t++)v=y[t],f.push(new r(u,v.offset,u,v.offset+v.length));if(o){for(var nt=o.start.column,tt=o.end.column,u=0,t=f.length-1;u<t&&f[u].start.column<nt&&f[u].start.row==0;)u++;for(k=o.end.row-o.start.row;u<t&&f[t].end.column>tt&&f[t].end.row==k;)t--;for(f=f.slice(u,t+1),u=0,t=f.length;u<t;u++)f[u].start.row+=o.start.row,f[u].end.row+=o.start.row}return f},n.prototype.replace=function(n,t){var u=this.$options,f=this.$assembleRegExp(u),e,i,r;if(u.$isMultiLine)return t;if(f){if(e=f.exec(n),!e||e[0].length!=n.length)return null;if(t=n.replace(f,t),u.preserveCase){for(t=t.split(""),i=Math.min(n.length,n.length);i--;)r=n[i],t[i]=r&&r.toLowerCase()!=r?t[i].toUpperCase():t[i].toLowerCase();t=t.join("")}return t}},n.prototype.$assembleRegExp=function(n,t){var r,f,e;if(n.needle instanceof RegExp)return n.re=n.needle;if(r=n.needle,!n.needle)return n.re=!1;n.regExp||(r=i.escapeRegExp(r));f=n.caseSensitive?"gm":"gmi";try{new RegExp(r,"u");n.$supportsUnicodeFlag=!0;f+="u"}catch(o){n.$supportsUnicodeFlag=!1}if(n.wholeWord&&(r=u(r,n)),n.$isMultiLine=!t&&/[\n\r]/.test(r),n.$isMultiLine)return n.re=this.$assembleMultilineRegExp(r,f);try{e=new RegExp(r,f)}catch(o){e=!1}return n.re=e},n.prototype.$assembleMultilineRegExp=function(n,t){for(var r=n.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),u=[],i=0;i<r.length;i++)try{u.push(new RegExp(r[i],t))}catch(f){return!1}return u},n.prototype.$matchIterator=function(n,t){var r=this.$assembleRegExp(t),h,c,a,s,f;if(!r)return!1;var e=t.backwards==1,v=t.skipCurrent!=0,l=r.unicode,o=t.range,u=t.start;return u||(u=o?o[e?"end":"start"]:n.selection.getRange()),u.start&&(u=u[v!=e?"end":"start"]),h=o?o.start.row:0,c=o?o.end.row:n.getLength()-1,a=e?function(n){var i=u.row;if(!f(i,u.column,n)){for(i--;i>=h;i--)if(f(i,Number.MAX_VALUE,n))return;if(t.wrap!=0)for(i=c,h=u.row;i>=h;i--)if(f(i,Number.MAX_VALUE,n))return}}:function(n){var i=u.row;if(!f(i,u.column,n)){for(i+=1;i<=c;i++)if(f(i,0,n))return;if(t.wrap!=0)for(i=h,c=u.row;i<=c;i++)if(f(i,0,n))return}},t.$isMultiLine?(s=r.length,f=function(t,i,u){var f=e?t-s+1:t,o,c,h,l;if(!(f<0)&&!(f+s>n.getLength())&&(o=n.getLine(f),c=o.search(r[0]),(e||!(c<i))&&c!==-1)){for(h=1;h<s;h++)if(o=n.getLine(f+h),o.search(r[h])==-1)return;if(l=o.match(r[s-1])[0].length,!e||!(l>i))return u(f,c,f+s-1,l)?!0:void 0}}):f=e?function(t,u,f){var a=n.getLine(t),h=[],o,c=0,s,v,e;for(r.lastIndex=0;o=r.exec(a);){if(e=o[0].length,c=o.index,!e){if(c>=a.length)break;r.lastIndex=c+=i.skipEmptyMatch(a,c,l)}if(o.index+e>u)break;h.push(o.index,e)}for(s=h.length-1;s>=0;s-=2)if(v=h[s-1],e=h[s],f(t,v,t,v+e))return!0}:function(t,u,f){var o=n.getLine(t),e,s,h;for(r.lastIndex=u;s=r.exec(o);){if(h=s[0].length,e=s.index,f(t,e,t,e+h))return!0;if(!h&&(r.lastIndex=e+=i.skipEmptyMatch(o,e,l),e>=o.length))return!1}},{forEach:a}},n}();t.Search=e});define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(n,t){"use strict";function f(n){return typeof n=="object"&&n.bindKey&&n.bindKey.position||(n.isDefault?-100:0)}var o=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),i=n("../lib/keys"),s=n("../lib/useragent"),u=i.KEY_MODS,r=function(){function n(n,t){this.$init(n,t,!1)}return n.prototype.$init=function(n,t,i){this.platform=t||(s.isMac?"mac":"win");this.commands={};this.commandKeyBinding={};this.addCommands(n);this.$singleCommand=i},n.prototype.addCommand=function(n){this.commands[n.name]&&this.removeCommand(n);this.commands[n.name]=n;n.bindKey&&this._buildKeyHash(n)},n.prototype.removeCommand=function(n,t){var e=n&&(typeof n=="string"?n:n.name),r,u,i,f;n=this.commands[e];t||delete this.commands[e];r=this.commandKeyBinding;for(u in r)i=r[u],i==n?delete r[u]:Array.isArray(i)&&(f=i.indexOf(n),f!=-1&&(i.splice(f,1),i.length==1&&(r[u]=i[0])))},n.prototype.bindKey=function(n,t,i){if(typeof n=="object"&&n&&(i==undefined&&(i=n.position),n=n[this.platform]),n){if(typeof t=="function")return this.addCommand({exec:t,bindKey:n,name:t.name||n});n.split("|").forEach(function(n){var r="",f,e,o;n.indexOf(" ")!=-1&&(f=n.split(/\s+/),n=f.pop(),f.forEach(function(n){var t=this.parseKeys(n),i=u[t.hashId]+t.key;r+=(r?" ":"")+i;this._addCommandToBinding(r,"chainKeys")},this),r+=" ");e=this.parseKeys(n);o=u[e.hashId]+e.key;this._addCommandToBinding(r+o,t,i)},this)}},n.prototype._addCommandToBinding=function(n,t,i){var r=this.commandKeyBinding,u,e,o,s;if(t)if(!r[n]||this.$singleCommand)r[n]=t;else{for(Array.isArray(r[n])?(u=r[n].indexOf(t))!=-1&&r[n].splice(u,1):r[n]=[r[n]],typeof i!="number"&&(i=f(t)),e=r[n],u=0;u<e.length;u++)if(o=e[u],s=f(o),s>i)break;e.splice(u,0,t)}else delete r[n]},n.prototype.addCommands=function(n){n&&Object.keys(n).forEach(function(t){var i=n[t];if(i){if(typeof i=="string")return this.bindKey(i,t);(typeof i=="function"&&(i={exec:i}),typeof i=="object")&&(i.name||(i.name=t),this.addCommand(i))}},this)},n.prototype.removeCommands=function(n){Object.keys(n).forEach(function(t){this.removeCommand(n[t])},this)},n.prototype.bindKeys=function(n){Object.keys(n).forEach(function(t){this.bindKey(t,n[t])},this)},n.prototype._buildKeyHash=function(n){this.bindKey(n.bindKey,n)},n.prototype.parseKeys=function(n){var t=n.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(n){return n}),r=t.pop(),o=i[r],f,u,e;if(i.FUNCTION_KEYS[o])r=i.FUNCTION_KEYS[o].toLowerCase();else{if(!t.length)return{key:r,hashId:-1};if(t.length==1&&t[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}for(f=0,u=t.length;u--;){if(e=i.KEY_MODS[t[u]],e==null)return typeof console!="undefined"&&console.error("invalid modifier "+t[u]+" in "+n),!1;f|=e}return{key:r,hashId:f}},n.prototype.findKeyCommand=function(n,t){var i=u[n]+t;return this.commandKeyBinding[i]},n.prototype.handleKeyboard=function(n,t,i,r){if(!(r<0)){var e=u[t]+i,f=this.commandKeyBinding[e];return(n.$keyChain&&(n.$keyChain+=" "+e,f=this.commandKeyBinding[n.$keyChain]||f),f&&(f=="chainKeys"||f[f.length-1]=="chainKeys"))?(n.$keyChain=n.$keyChain||e,{command:"null"}):(n.$keyChain&&((!t||t==4)&&i.length==1?n.$keyChain=n.$keyChain.slice(0,-e.length-1):(t==-1||r>0)&&(n.$keyChain="")),{command:f})}},n.prototype.getStatusText=function(n,t){return t.$keyChain||""},n}(),e=function(n){function t(t,i){var r=n.call(this,t,i)||this;return r.$singleCommand=!0,r}return o(t,n),t}(r);e.call=function(n,t,i){r.prototype.$init.call(n,t,i,!0)};r.call=function(n,t,i){r.prototype.$init.call(n,t,i,!1)};t.HashHandler=e;t.MultiHashHandler=r});define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(n,t){"use strict";var r=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),u=n("../lib/oop"),f=n("../keyboard/hash_handler").MultiHashHandler,e=n("../lib/event_emitter").EventEmitter,i=function(n){function t(t,i){var r=n.call(this,i,t)||this;return r.byName=r.commands,r.setDefaultHandler("exec",function(n){return n.args?n.command.exec(n.editor,n.args,n.event,!1):n.command.exec(n.editor,{},n.event,!0)}),r}return r(t,n),t.prototype.exec=function(n,t,i){var u,r;if(Array.isArray(n)){for(u=n.length;u--;)if(this.exec(n[u],t,i))return!0;return!1}return(typeof n=="string"&&(n=this.commands[n]),!n)?!1:t&&t.$readOnly&&!n.readOnly?!1:this.$checkCommandState!=0&&n.isAvailable&&!n.isAvailable(t)?!1:(r={editor:t,command:n,args:i},r.returnValue=this._emit("exec",r),this._signal("afterExec",r),r.returnValue===!1?!1:!0)},t.prototype.toggleRecording=function(n){if(!this.$inReplay)return n&&n._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(n){this.macro.push([n.command,n.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(n){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(n);try{this.$inReplay=!0;this.macro.forEach(function(t){typeof t=="string"?this.exec(t,n):this.exec(t[0],n,t[1])},this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(n){return n.map(function(n){return typeof n[0]!="string"&&(n[0]=n[0].name),n[1]||(n=n[0]),n})},t}(f);u.implement(i.prototype,e);t.CommandManager=i});define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(n,t){"use strict";function i(n,t){return{win:n,mac:t}}var e=n("../lib/lang"),u=n("../config"),f=n("../range").Range,r;for(t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:i("Ctrl-,","Command-,"),exec:function(n){u.loadModule("ace/ext/settings_menu",function(t){t.init(n);n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:i("Alt-E","F4"),exec:function(n){u.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(n){u.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:i("Ctrl-A","Command-A"),exec:function(n){n.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:i(null,"Ctrl-L"),exec:function(n){n.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:i("Ctrl-L","Command-L"),exec:function(n,t){typeof t!="number"||isNaN(t)||n.gotoLine(t);n.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(n){n.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(n){n.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:i("F2","F2"),exec:function(n){n.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:i("Alt-F2","Alt-F2"),exec:function(n){n.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:i("Alt-0","Command-Option-0"),exec:function(n){n.session.foldAll();n.session.unfold(n.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(n){n.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:i("Ctrl-K","Command-G"),exec:function(n){n.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(n){n.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:i("Alt-K","Ctrl-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:i("Ctrl-F","Command-F"),exec:function(n){u.loadModule("ace/ext/searchbox",function(t){t.Search(n)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(n){n.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(n){n.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(n){n.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(n){n.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:i("Up","Up|Ctrl-P"),exec:function(n,t){n.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(n){n.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(n){n.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(n){n.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:i("Down","Down|Ctrl-N"),exec:function(n,t){n.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(n){n.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:i("Ctrl-Left","Option-Left"),exec:function(n){n.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(n){n.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(n){n.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:i("Left","Left|Ctrl-B"),exec:function(n,t){n.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(n){n.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:i("Ctrl-Right","Option-Right"),exec:function(n){n.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(n){n.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:i("Shift-Right","Shift-Right"),exec:function(n){n.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:i("Right","Right|Ctrl-F"),exec:function(n,t){n.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(n){n.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:i(null,"Option-PageDown"),exec:function(n){n.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(n){n.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(n){n.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:i(null,"Option-PageUp"),exec:function(n){n.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(n){n.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:i("Ctrl-Up",null),exec:function(n){n.renderer.scrollBy(0,-2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:i("Ctrl-Down",null),exec:function(n){n.renderer.scrollBy(0,2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(n){n.commands.toggleRecording(n)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(n){n.commands.replay(n)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:i("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(n){n.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:i("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(n){n.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(n){n.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(){},readOnly:!0},{name:"cut",description:"Cut",exec:function(n){var i=n.$copyWithEmptySelection&&n.selection.isEmpty(),t=i?n.selection.getLineRange():n.selection.getRange();n._emit("cut",t);t.isEmpty()||n.session.remove(t);n.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(n,t){n.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:i("Ctrl-D","Command-D"),exec:function(n){n.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(n){n.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(n){n.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:i("Ctrl-/","Command-/"),exec:function(n){n.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(n){n.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(n){n.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(n){n.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(n){u.loadModule("ace/ext/searchbox",function(t){t.Search(n,!0)})}},{name:"undo",description:"Undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(n){n.undo()}},{name:"redo",description:"Redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(n){n.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(n){n.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:i("Alt-Up","Option-Up"),exec:function(n){n.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(n){n.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:i("Alt-Down","Option-Down"),exec:function(n){n.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(n){n.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(n){n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:i("Shift-Delete",null),exec:function(n){if(!n.selection.isEmpty())return!1;n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(n){n.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(n){n.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(n){var t=n.selection.getRange();t.start.column=0;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(n){var t=n.selection.getRange();t.end.column=Number.MAX_VALUE;n.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(n){n.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(n){n.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(n){n.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:i("Tab","Tab"),exec:function(n){n.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(n){n.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(n){n.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(n,t){n.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(n,t){n.insert(e.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:i(null,"Ctrl-O"),exec:function(n){n.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(n){n.transposeLetters()},multiSelectAction:function(n){n.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(n){n.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(n){n.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:i(null,null),exec:function(n){n.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var t=n.selection.getRange();t.start.column=t.end.column=0;t.end.row++;n.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:i("Ctrl+F3","F3"),exec:function(n){n.openLink()}},{name:"joinlines",description:"Join lines",bindKey:i(null,null),exec:function(n){for(var r,h=n.selection.isBackwards(),t=h?n.selection.getSelectionLead():n.selection.getSelectionAnchor(),u=h?n.selection.getSelectionAnchor():n.selection.getSelectionLead(),i=n.session.doc.getLine(t.row).length,l=n.session.doc.getTextRange(n.selection.getRange()),c=l.replace(/\n\s*/," ").length,o=n.session.doc.getLine(t.row),s=t.row+1;s<=u.row+1;s++)r=e.stringTrimLeft(e.stringTrimRight(n.session.doc.getLine(s))),r.length!==0&&(r=" "+r),o+=r;u.row+1<n.session.doc.getLength()-1&&(o+=n.session.doc.getNewLineCharacter());n.clearSelection();n.session.doc.replace(new f(t.row,0,u.row+2,0),o);c>0?(n.selection.moveCursorTo(t.row,t.column),n.selection.selectTo(t.row,t.column+c)):(i=n.session.doc.getLine(t.row).length>i?i+1:i,n.selection.moveCursorTo(t.row,i))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:i(null,null),exec:function(n){var u=n.session.doc.getLength()-1,e=n.session.doc.getLine(u).length,i=n.selection.rangeList.ranges,r=[],t;for(i.length<1&&(i=[n.selection.getRange()]),t=0;t<i.length;t++)t==i.length-1&&(i[t].end.row!==u||i[t].end.column!==e)&&r.push(new f(i[t].end.row,i[t].end.column,u,e)),t===0?(i[t].start.row!==0||i[t].start.column!==0)&&r.push(new f(0,0,i[t].start.row,i[t].start.column)):r.push(new f(i[t-1].end.row,i[t-1].end.column,i[t].start.row,i[t].start.column));for(n.exitMultiSelectMode(),n.clearSelection(),t=0;t<r.length;t++)n.selection.addRange(r[t],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(n){n.selection.clearSelection();n.navigateLineEnd();n.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(n){n.selection.clearSelection();var t=n.getCursorPosition();n.selection.moveTo(t.row-1,Number.MAX_VALUE);n.insert("\n");t.row===0&&n.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(n){console.warn("This is an obsolete command. Please use `openCommandPalette` instead.");n.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:i("F1","F1"),exec:function(n){n.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:i(null,null),exec:function(n){n.prompt({$type:"modes"})},readOnly:!0}],r=1;r<9;r++)t.commands.push({name:"foldToLevel"+r,description:"Fold To Level "+r,level:r,exec:function(n){n.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})});define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("./lib/dom"),r=function(){function n(n){this.session=n;this.session.widgetManager=this;this.session.getRowLength=this.getRowLength;this.session.$getWidgetScreenLength=this.$getWidgetScreenLength;this.updateOnChange=this.updateOnChange.bind(this);this.renderWidgets=this.renderWidgets.bind(this);this.measureWidgets=this.measureWidgets.bind(this);this.session._changedWidgets=[];this.$onChangeEditor=this.$onChangeEditor.bind(this);this.session.on("change",this.updateOnChange);this.session.on("changeFold",this.updateOnFold);this.session.on("changeEditor",this.$onChangeEditor)}return n.prototype.getRowLength=function(n){var t;return t=this.lineWidgets?this.lineWidgets[n]&&this.lineWidgets[n].rowCount||0:0,!this.$useWrapMode||!this.$wrapData[n]?1+t:this.$wrapData[n].length+1+t},n.prototype.$getWidgetScreenLength=function(){var n=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&!t.hidden&&(n+=t.rowCount)}),n},n.prototype.$onChangeEditor=function(n){this.attach(n.editor)},n.prototype.attach=function(n){(n&&n.widgetManager&&n.widgetManager!=this&&n.widgetManager.detach(),this.editor!=n)&&(this.detach(),this.editor=n,n&&(n.widgetManager=this,n.renderer.on("beforeRender",this.measureWidgets),n.renderer.on("afterRender",this.renderWidgets)))},n.prototype.detach=function(){var n=this.editor,t;n&&(this.editor=null,n.widgetManager=null,n.renderer.off("beforeRender",this.measureWidgets),n.renderer.off("afterRender",this.renderWidgets),t=this.session.lineWidgets,t&&t.forEach(function(n){n&&n.el&&n.el.parentNode&&(n._inDocument=!1,n.el.parentNode.removeChild(n.el))}))},n.prototype.updateOnFold=function(n,t){var i=t.lineWidgets,f;if(i&&n.action){var o=n.data,u=o.start.row,r=o.end.row,e=n.action=="add";for(f=u+1;f<r;f++)i[f]&&(i[f].hidden=e);i[r]&&(e?i[u]?i[r].hidden=e:i[u]=i[r]:(i[u]==i[r]&&(i[u]=undefined),i[r].hidden=e))}},n.prototype.updateOnChange=function(n){var i=this.session.lineWidgets,t,u,r,f;i&&(t=n.start.row,u=n.end.row-t,u!==0&&(n.action=="remove"?(r=i.splice(t+1,u),!i[t]&&r[r.length-1]&&(i[t]=r.pop()),r.forEach(function(n){n&&this.removeLineWidget(n)},this),this.$updateRows()):(f=new Array(u),i[t]&&i[t].column!=null&&n.start.column>i[t].column&&t++,f.unshift(t,0),i.splice.apply(i,f),this.$updateRows())))},n.prototype.$updateRows=function(){var t=this.session.lineWidgets,n;t&&(n=!0,t.forEach(function(t,i){if(t)for(n=!1,t.row=i;t.$oldWidget;)t.$oldWidget.row=i,t=t.$oldWidget}),n&&(this.session.lineWidgets=null))},n.prototype.$registerLineWidget=function(n){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[n.row];return t&&(n.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[n.row]=n,n},n.prototype.addLineWidget=function(n){var r,t,u;return(this.$registerLineWidget(n),n.session=this.session,!this.editor)?n:(r=this.editor.renderer,n.html&&!n.el&&(n.el=i.createElement("div"),n.el.innerHTML=n.html),n.text&&!n.el&&(n.el=i.createElement("div"),n.el.textContent=n.text),n.el&&(i.addCssClass(n.el,"ace_lineWidgetContainer"),n.className&&i.addCssClass(n.el,n.className),n.el.style.position="absolute",n.el.style.zIndex="5",r.container.appendChild(n.el),n._inDocument=!0,n.coverGutter||(n.el.style.zIndex="3"),n.pixelHeight==null&&(n.pixelHeight=n.el.offsetHeight)),n.rowCount==null&&(n.rowCount=n.pixelHeight/r.layerConfig.lineHeight),t=this.session.getFoldAt(n.row,0),n.$fold=t,t&&(u=this.session.lineWidgets,n.row==t.end.row&&!u[t.start.row]?u[t.start.row]=n:n.hidden=!0),this.session._emit("changeFold",{data:{start:{row:n.row}}}),this.$updateRows(),this.renderWidgets(null,r),this.onWidgetChanged(n),n)},n.prototype.removeLineWidget=function(n){if(n._inDocument=!1,n.session=null,n.el&&n.el.parentNode&&n.el.parentNode.removeChild(n.el),n.editor&&n.editor.destroy)try{n.editor.destroy()}catch(i){}if(this.session.lineWidgets){var t=this.session.lineWidgets[n.row];if(t==n)this.session.lineWidgets[n.row]=n.$oldWidget,n.$oldWidget&&this.onWidgetChanged(n.$oldWidget);else while(t){if(t.$oldWidget==n){t.$oldWidget=n.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:n.row}}});this.$updateRows()},n.prototype.getWidgetsAtRow=function(n){for(var i=this.session.lineWidgets,t=i&&i[n],r=[];t;)r.push(t),t=t.$oldWidget;return r},n.prototype.onWidgetChanged=function(n){this.session._changedWidgets.push(n);this.editor&&this.editor.renderer.updateFull()},n.prototype.measureWidgets=function(n,t){var f=this.session._changedWidgets,o=t.layerConfig,u,e,i,r;if(f&&f.length){for(u=Infinity,e=0;e<f.length;e++)if((i=f[e],i&&i.el)&&i.session==this.session){if(!i._inDocument){if(this.session.lineWidgets[i.row]!=i)continue;i._inDocument=!0;t.container.appendChild(i.el)}i.h=i.el.offsetHeight;i.fixedWidth||(i.w=i.el.offsetWidth,i.screenWidth=Math.ceil(i.w/o.characterWidth));r=i.h/o.lineHeight;i.coverLine&&(r-=this.session.getRowLineCount(i.row),r<0&&(r=0));i.rowCount!=r&&(i.rowCount=r,i.row<u&&(u=i.row))}u!=Infinity&&(this.session._emit("changeFold",{data:{start:{row:u}}}),this.session.lineWidgetWidth=null);this.session._changedWidgets=[]}},n.prototype.renderWidgets=function(n,t){var r=t.layerConfig,e=this.session.lineWidgets,u,h,f,i,o,s;if(e){for(u=Math.min(this.firstRow,r.firstRow),h=Math.max(this.lastRow,r.lastRow,e.length);u>0&&!e[u];)u--;for(this.firstRow=r.firstRow,this.lastRow=r.lastRow,t.$cursorLayer.config=r,f=u;f<=h;f++)if(i=e[f],i&&i.el){if(i.hidden){i.el.style.top=-100-(i.pixelHeight||0)+"px";continue}i._inDocument||(i._inDocument=!0,t.container.appendChild(i.el));o=t.$cursorLayer.getPixelPosition({row:f,column:0},!0).top;i.coverLine||(o+=r.lineHeight*this.session.getRowLineCount(i.row));i.el.style.top=o-r.offset+"px";s=i.coverGutter?0:t.gutterWidth;i.fixedWidth||(s-=t.scrollLeft);i.el.style.left=s+"px";i.fullWidth&&i.screenWidth&&(i.el.style.minWidth=r.width+2*r.padding+"px");i.el.style.right=i.fixedWidth?t.scrollBar.getWidth()+"px":""}}},n}();t.LineWidgets=r});define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(n,t){"use strict";var i=n("../lib/keys"),u=n("../mouse/default_gutter_handler").GutterTooltip,f=function(){function n(n){this.editor=n;this.gutterLayer=n.renderer.$gutterLayer;this.element=n.renderer.$gutter;this.lines=n.renderer.$gutterLayer.$lines;this.activeRowIndex=null;this.activeLane=null;this.annotationTooltip=new u(this.editor)}return n.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this));this.element.addEventListener("focusout",this.$blurGutter.bind(this));this.editor.on("mousewheel",this.$blurGutter.bind(this))},n.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this));this.element.removeEventListener("focusout",this.$blurGutter.bind(this));this.editor.off("mousewheel",this.$blurGutter.bind(this))},n.prototype.$onGutterKeyDown=function(n){if(this.annotationTooltip.isOpen){n.preventDefault();n.keyCode===i.escape&&this.annotationTooltip.hideTooltip();return}if(n.target===this.element){if(n.keyCode!=i.enter)return;n.preventDefault();var t=this.editor.getCursorPosition().row;this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0);setTimeout(function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),n=this.$findNearestFoldWidget(i),t=this.$findNearestAnnotation(i);if(n!==null||t!==null){if(n===null&&t!==null){this.activeRowIndex=t;this.activeLane="annotation";this.$focusAnnotation(this.activeRowIndex);return}if(n!==null&&t===null){this.activeRowIndex=n;this.activeLane="fold";this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(t-i)<Math.abs(n-i)){this.activeRowIndex=t;this.activeLane="annotation";this.$focusAnnotation(this.activeRowIndex);return}this.activeRowIndex=n;this.activeLane="fold";this.$focusFoldWidget(this.activeRowIndex);return}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(n);setTimeout(function(){this.editor._signal("gutterkeydown",new r(n,this))}.bind(this),10)},n.prototype.$handleGutterKeyboardInteraction=function(n){var t;if(n.keyCode===i.tab){n.preventDefault();return}if(n.keyCode===i.escape){n.preventDefault();this.$blurGutter();this.element.focus();this.lane=null;return}if(n.keyCode===i.up){n.preventDefault();switch(this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}return}if(n.keyCode===i.down){n.preventDefault();switch(this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}return}if(n.keyCode===i.left){n.preventDefault();this.$switchLane("annotation");return}if(n.keyCode===i.right){n.preventDefault();this.$switchLane("fold");return}if(n.keyCode===i.enter||n.keyCode===i.space){n.preventDefault();switch(this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),n);setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var f=this.lines.cells[this.activeRowIndex].element.childNodes[2],r=f.getBoundingClientRect(),u=this.annotationTooltip.getElement().style;u.left=r.right+"px";u.top=r.bottom+"px";this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}return}},n.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip();return},n.prototype.$isFoldWidgetVisible=function(n){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(n)),i=this.$getFoldWidget(n).style.display!=="none";return t&&i},n.prototype.$isAnnotationVisible=function(n){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(n)),i=this.$getAnnotation(n).style.display!=="none";return t&&i},n.prototype.$getFoldWidget=function(n){var t=this.lines.get(n),i=t.element;return i.childNodes[1]},n.prototype.$getAnnotation=function(n){var t=this.lines.get(n),i=t.element;return i.childNodes[2]},n.prototype.$findNearestFoldWidget=function(n){if(this.$isFoldWidgetVisible(n))return n;for(var t=0;n-t>0||n+t<this.lines.getLength()-1;){if(t++,n-t>=0&&this.$isFoldWidgetVisible(n-t))return n-t;if(n+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(n+t))return n+t}return null},n.prototype.$findNearestAnnotation=function(n){if(this.$isAnnotationVisible(n))return n;for(var t=0;n-t>0||n+t<this.lines.getLength()-1;){if(t++,n-t>=0&&this.$isAnnotationVisible(n-t))return n-t;if(n+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(n+t))return n+t}return null},n.prototype.$focusFoldWidget=function(n){if(n!=null){var t=this.$getFoldWidget(n);t.classList.add(this.editor.renderer.keyboardFocusClassName);t.focus()}},n.prototype.$focusAnnotation=function(n){if(n!=null){var t=this.$getAnnotation(n);t.classList.add(this.editor.renderer.keyboardFocusClassName);t.focus()}},n.prototype.$blurFoldWidget=function(n){var t=this.$getFoldWidget(n);t.classList.remove(this.editor.renderer.keyboardFocusClassName);t.blur()},n.prototype.$blurAnnotation=function(n){var t=this.$getAnnotation(n);t.classList.remove(this.editor.renderer.keyboardFocusClassName);t.blur()},n.prototype.$moveFoldWidgetUp=function(){for(var n=this.activeRowIndex;n>0;)if(n--,this.$isFoldWidgetVisible(n)){this.$blurFoldWidget(this.activeRowIndex);this.activeRowIndex=n;this.$focusFoldWidget(this.activeRowIndex);return}return},n.prototype.$moveFoldWidgetDown=function(){for(var n=this.activeRowIndex;n<this.lines.getLength()-1;)if(n++,this.$isFoldWidgetVisible(n)){this.$blurFoldWidget(this.activeRowIndex);this.activeRowIndex=n;this.$focusFoldWidget(this.activeRowIndex);return}return},n.prototype.$moveAnnotationUp=function(){for(var n=this.activeRowIndex;n>0;)if(n--,this.$isAnnotationVisible(n)){this.$blurAnnotation(this.activeRowIndex);this.activeRowIndex=n;this.$focusAnnotation(this.activeRowIndex);return}return},n.prototype.$moveAnnotationDown=function(){for(var n=this.activeRowIndex;n<this.lines.getLength()-1;)if(n++,this.$isAnnotationVisible(n)){this.$blurAnnotation(this.activeRowIndex);this.activeRowIndex=n;this.$focusAnnotation(this.activeRowIndex);return}return},n.prototype.$switchLane=function(n){var t,i;switch(n){case"annotation":if(this.activeLane==="annotation")break;if(t=this.$findNearestAnnotation(this.activeRowIndex),t==null)break;this.activeLane="annotation";this.$blurFoldWidget(this.activeRowIndex);this.activeRowIndex=t;this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;if(i=this.$findNearestFoldWidget(this.activeRowIndex),i==null)break;this.activeLane="fold";this.$blurAnnotation(this.activeRowIndex);this.activeRowIndex=i;this.$focusFoldWidget(this.activeRowIndex)}return},n.prototype.$rowIndexToRow=function(n){var t=this.lines.get(n);return t?t.row:null},n.prototype.$rowToRowIndex=function(n){for(var i,t=0;t<this.lines.getLength();t++)if(i=this.lines.get(t),i.row==n)return t;return null},n}(),r;t.GutterKeyboardHandler=f;r=function(){function n(n,t){this.gutterKeyboardHandler=t;this.domEvent=n}return n.prototype.getKey=function(){return i.keyCodeToString(this.domEvent.keyCode)},n.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},n.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},n.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},n}();t.GutterKeyboardEvent=r});define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(n,t){"use strict";var v=this&&this.__values||function(n){var t=typeof Symbol=="function"&&Symbol.iterator,i=t&&n[t],r=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.");},h=n("./lib/oop"),f=n("./lib/dom"),u=n("./lib/lang"),c=n("./lib/useragent"),y=n("./keyboard/textinput").TextInput,p=n("./mouse/mouse_handler").MouseHandler,w=n("./mouse/fold_handler").FoldHandler,b=n("./keyboard/keybinding").KeyBinding,k=n("./edit_session").EditSession,d=n("./search").Search,i=n("./range").Range,g=n("./lib/event_emitter").EventEmitter,nt=n("./commands/command_manager").CommandManager,tt=n("./commands/default_commands").commands,e=n("./config"),l=n("./token_iterator").TokenIterator,it=n("./line_widgets").LineWidgets,rt=n("./keyboard/gutter_handler").GutterKeyboardHandler,s=n("./config").nls,a=n("./clipboard"),ut=n("./lib/keys"),r=function(){function n(t,i,r){this.session;this.$toDestroy=[];var f=t.getContainerElement();this.container=f;this.renderer=t;this.id="editor"+ ++n.$uid;this.commands=new nt(c.isMac?"mac":"win",tt);typeof document=="object"&&(this.textInput=new y(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new p(this),new w(this));this.keyBinding=new b(this);this.$search=(new d).set({wrap:!0});this.$historyTracker=this.$historyTracker.bind(this);this.commands.on("exec",this.$historyTracker);this.$initOperationListeners();this._$emitInputEvent=u.delayedCall(function(){this._signal("input",{});this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this));this.on("change",function(n,t){t._$emitInputEvent.schedule(31)});this.setSession(i||r&&r.session||new k(""));e.resetOptions(this);r&&this.setOptions(r);e._signal("editor",this)}return n.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0);this.commands.on("afterExec",this.endOperation.bind(this),!0);this.$opResetTimer=u.delayedCall(this.endOperation.bind(this,!0));this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel);this.curOp.docChanged=!0}.bind(this),!0);this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel);this.curOp.selectionChanged=!0}.bind(this),!0)},n.prototype.startOperation=function(n){if(this.curOp){if(!n||this.curOp.command)return;this.prevOp=this.curOp}n||(this.previousCommand=null,n={});this.$opResetTimer.schedule();this.curOp=this.session.curOp={command:n.command||{},args:n.args,scrollTop:this.renderer.scrollTop};this.curOp.selectionBefore=this.selection.toJSON()},n.prototype.endOperation=function(n){var i,t,r,u,f;if(this.curOp&&this.session){if(n&&n.returnValue===!1||!this.session)return this.curOp=null;if(n==1&&this.curOp.command&&this.curOp.command.name=="mouse")return;if(this._signal("beforeEndOperation"),!this.curOp)return;if(i=this.curOp.command,t=i&&i.scrollIntoView,t){switch(t){case"center-animate":t="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":r=this.selection.getRange();u=this.renderer.layerConfig;(r.start.row>=u.lastRow||r.end.row<=u.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}t=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}f=this.selection.toJSON();this.curOp.selectionAfter=f;this.$lastSel=this.selection.toJSON();this.session.getUndoManager().addSelection(f);this.prevOp=this.curOp;this.curOp=null}},n.prototype.$historyTracker=function(n){var u;if(this.$mergeUndoDeltas){var i=this.prevOp,r=this.$mergeableCommands,t=i.command&&n.command.name==i.command.name;n.command.name=="insertstring"?(u=n.args,this.mergeNextCommand===undefined&&(this.mergeNextCommand=!0),t=t&&this.mergeNextCommand&&(!/\s/.test(u)||/\s/.test(i.args)),this.mergeNextCommand=!0):t=t&&r.indexOf(n.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(t=!1);t?this.session.mergeUndoDeltas=!0:r.indexOf(n.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},n.prototype.setKeyboardHandler=function(n,t){if(n&&typeof n=="string"&&n!="ace"){this.$keybindingId=n;var i=this;e.loadModule(["keybinding",n],function(r){i.$keybindingId==n&&i.keyBinding.setKeyboardHandler(r&&r.handler);t&&t()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(n),t&&t()},n.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},n.prototype.setSession=function(n){var t,i;this.session!=n&&(this.curOp&&this.endOperation(),this.curOp={},t=this.session,t&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),i=this.session.getSelection(),i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)),this.session=n,n?(this.$onDocumentChange=this.onDocumentChange.bind(this),n.on("change",this.$onDocumentChange),this.renderer.setSession(n),this.$onChangeMode=this.onChangeMode.bind(this),n.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),n.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),n.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),n.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),n.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),n.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=n.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(n)),this._signal("changeSession",{session:n,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),n&&n._signal("changeEditor",{editor:this}),n&&!n.destroyed&&n.bgTokenizer.scheduleStart())},n.prototype.getSession=function(){return this.session},n.prototype.setValue=function(n,t){return this.session.doc.setValue(n),t?t==1?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),n},n.prototype.getValue=function(){return this.session.getValue()},n.prototype.getSelection=function(){return this.selection},n.prototype.resize=function(n){this.renderer.onResize(n)},n.prototype.setTheme=function(n,t){this.renderer.setTheme(n,t)},n.prototype.getTheme=function(){return this.renderer.getTheme()},n.prototype.setStyle=function(n){this.renderer.setStyle(n)},n.prototype.unsetStyle=function(n){this.renderer.unsetStyle(n)},n.prototype.getFontSize=function(){return this.getOption("fontSize")||f.computedStyle(this.container).fontSize},n.prototype.setFontSize=function(n){this.setOption("fontSize",n)},n.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var n=this;this.$highlightPending=!0;setTimeout(function(){var r,h,o,f,s;if(n.$highlightPending=!1,r=n.session,r&&!r.destroyed){r.$bracketHighlight&&(r.$bracketHighlight.markerIds.forEach(function(n){r.removeMarker(n)}),r.$bracketHighlight=null);var u=n.getCursorPosition(),e=n.getKeyboardHandler(),c=e&&e.$getDirectionForHighlight&&e.$getDirectionForHighlight(n),t=r.getMatchingBracketRanges(u,c);if(t||(h=new l(r,u.row,u.column),o=h.getCurrentToken(),o&&/\b(?:tag-open|tag-name)/.test(o.type)&&(f=r.getMatchingTags(u),f&&(t=[f.openTagName,f.closeTagName]))),!t&&r.$mode.getMatching&&(t=r.$mode.getMatching(n.session)),!t){n.getHighlightIndentGuides()&&n.renderer.$textLayer.$highlightIndentGuide();return}s="ace_bracket";Array.isArray(t)?t.length==1&&(s="ace_error_bracket"):t=[t];t.length==2&&(i.comparePoints(t[0].end,t[1].start)==0?t=[i.fromPoints(t[0].start,t[1].end)]:i.comparePoints(t[0].start,t[1].end)==0&&(t=[i.fromPoints(t[1].start,t[0].end)]));r.$bracketHighlight={ranges:t,markerIds:t.map(function(n){return r.addMarker(n,s,"text")})};n.getHighlightIndentGuides()&&n.renderer.$textLayer.$highlightIndentGuide()}},50)}},n.prototype.focus=function(){this.textInput.focus()},n.prototype.isFocused=function(){return this.textInput.isFocused()},n.prototype.blur=function(){this.textInput.blur()},n.prototype.onFocus=function(n){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",n))},n.prototype.onBlur=function(n){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",n))},n.prototype.$cursorChange=function(){this.renderer.updateCursor();this.$highlightBrackets();this.$updateHighlightActiveLine()},n.prototype.onDocumentChange=function(n){var t=this.session.$useWrapMode,i=n.start.row==n.end.row?n.end.row:Infinity;this.renderer.updateLines(n.start.row,i,t);this._signal("change",n);this.$cursorChange()},n.prototype.onTokenizerUpdate=function(n){var t=n.data;this.renderer.updateLines(t.first,t.last)},n.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},n.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},n.prototype.onCursorChange=function(){this.$cursorChange();this._signal("changeSelection")},n.prototype.$updateHighlightActiveLine=function(){var t=this.getSession(),n,r;this.$highlightActiveLine&&(this.$selectionStyle=="line"&&this.selection.isMultiLine()||(n=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(n=!1),!this.renderer.$maxLines||this.session.getLength()!==1||this.renderer.$minLines>1||(n=!1));t.$highlightLineMarker&&!n?(t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null):!t.$highlightLineMarker&&n?(r=new i(n.row,n.column,n.row,Infinity),r.id=t.addMarker(r,"ace_active-line","screenLine"),t.$highlightLineMarker=r):n&&(t.$highlightLineMarker.start.row=n.row,t.$highlightLineMarker.end.row=n.row,t.$highlightLineMarker.start.column=n.column,t._signal("changeBackMarker"))},n.prototype.onSelectionChange=function(){var n=this.session,t,i,r;n.$selectionMarker&&n.removeMarker(n.$selectionMarker);n.$selectionMarker=null;this.selection.isEmpty()?this.$updateHighlightActiveLine():(t=this.selection.getRange(),i=this.getSelectionStyle(),n.$selectionMarker=n.addMarker(t,"ace_selection",i));r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r);this._signal("changeSelection")},n.prototype.$getSelectionHighLightRegexp=function(){var o=this.session,n=this.getSelectionRange(),i,e;if(!n.isEmpty()&&!n.isMultiLine()){var r=n.start.column,u=n.end.column,f=o.getLine(n.start.row),t=f.substring(r,u);if(!(t.length>5e3)&&/[\w\d]/.test(t))return(i=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:t}),e=f.substring(r-1,u+1),!i.test(e))?void 0:i}},n.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},n.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},n.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},n.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},n.prototype.onChangeMode=function(n){this.renderer.updateText();this._emit("changeMode",n)},n.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},n.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},n.prototype.onChangeFold=function(){this.$updateHighlightActiveLine();this.renderer.updateFull()},n.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},n.prototype.getCopyText=function(){var r=this.getSelectedText(),e=this.session.doc.getNewLineCharacter(),f=!1,t,n,u,i;if(!r&&this.$copyWithEmptySelection)for(f=!0,t=this.selection.getAllRanges(),n=0;n<t.length;n++)(u=t[n],n&&t[n-1].start.row==u.start.row)||(r+=this.session.getLine(u.start.row)+e);return i={text:r},this._signal("copy",i),a.lineMode=f?i.text:!1,i.text},n.prototype.onCopy=function(){this.commands.exec("copy",this)},n.prototype.onCut=function(){this.commands.exec("cut",this)},n.prototype.onPaste=function(n,t){var i={text:n,event:t};this.commands.exec("paste",this,i)},n.prototype.$handlePaste=function(n){var u,f;typeof n=="string"&&(n={text:n});this._signal("paste",n);var t=n.text,o=t===a.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)o?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(o)this.selection.rangeList.ranges.forEach(function(n){r.insert({row:n.start.row,column:0},t)});else{var i=t.split(/\r\n|\r|\n/),e=this.selection.rangeList.ranges,s=i.length==2&&(!i[0]||!i[1]);if(i.length!=e.length||s)return this.commands.exec("insertstring",this,t);for(u=e.length;u--;)f=e[u],f.isEmpty()||r.remove(f),r.insert(f.start,i[u])}},n.prototype.execCommand=function(n,t){return this.commands.exec(n,this,t)},n.prototype.insert=function(n,t){var f=this.session,s=f.getMode(),r=this.getCursorPosition(),u,e,o,c,a;this.getBehavioursEnabled()&&!t&&(u=s.transformAction(f.getState(r.row),"insertion",this,f,n),u&&(n!==u.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),n=u.text));n=="\t"&&(n=this.session.getTabString());this.selection.isEmpty()?this.session.getOverwrite()&&n.indexOf("\n")==-1&&(e=i.fromPoints(r,r),e.end.column+=n.length,this.session.remove(e)):(e=this.getSelectionRange(),r=this.session.remove(e),this.clearSelection());(n=="\n"||n=="\r\n")&&(o=f.getLine(r.row),r.column>o.search(/\S|$/)&&(c=o.substr(r.column).search(/\S|$/),f.doc.removeInLine(r.row,r.column,r.column+c)));this.clearSelection();var l=r.column,h=f.getState(r.row),o=f.getLine(r.row),v=s.checkOutdent(h,o,n);f.insert(r,n);u&&u.selection&&(u.selection.length==2?this.selection.setSelectionRange(new i(r.row,l+u.selection[0],r.row,l+u.selection[1])):this.selection.setSelectionRange(new i(r.row+u.selection[0],u.selection[1],r.row+u.selection[2],u.selection[3])));this.$enableAutoIndent&&(f.getDocument().isNewLine(n)&&(a=s.getNextLineIndent(h,o.slice(0,r.column),f.getTabString()),f.insert({row:r.row+1,column:0},a)),v&&s.autoOutdent(h,f,r.row))},n.prototype.autoIndent=function(){for(var c,l,n,a,f,v,t=this.session,e=t.getMode(),o=this.selection.isEmpty()?[new i(0,0,t.doc.getLength()-1,0)]:this.selection.getAllRanges(),s="",h="",r="",y=t.getTabString(),u=0;u<o.length;u++)for(c=o[u].start.row,l=o[u].end.row,n=c;n<=l;n++)n>0&&(s=t.getState(n-1),h=t.getLine(n-1),r=e.getNextLineIndent(s,h,y)),a=t.getLine(n),f=e.$getIndent(a),r!==f&&(f.length>0&&(v=new i(n,0,n,f.length),t.remove(v)),r.length>0&&t.insert({row:n,column:0},r)),e.autoOutdent(s,t,n)},n.prototype.onTextInput=function(n,t){if(!t)return this.keyBinding.onTextInput(n);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,n,t);this.selection.rangeCount?this.forEachSelection(i):i();this.endOperation()},n.prototype.applyComposition=function(n,t){var i;(t.extendLeft||t.extendRight)&&(i=this.selection.getRange(),i.start.column-=t.extendLeft,i.end.column+=t.extendRight,i.start.column<0&&(i.start.row--,i.start.column+=this.session.getLine(i.start.row).length+1),this.selection.setRange(i),!n&&!i.isEmpty()&&this.remove());(n||!this.selection.isEmpty())&&this.insert(n,!0);(t.restoreStart||t.restoreEnd)&&(i=this.selection.getRange(),i.start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))},n.prototype.onCommandKey=function(n,t,i){return this.keyBinding.onCommandKey(n,t,i)},n.prototype.setOverwrite=function(n){this.session.setOverwrite(n)},n.prototype.getOverwrite=function(){return this.session.getOverwrite()},n.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},n.prototype.setScrollSpeed=function(n){this.setOption("scrollSpeed",n)},n.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},n.prototype.setDragDelay=function(n){this.setOption("dragDelay",n)},n.prototype.getDragDelay=function(){return this.getOption("dragDelay")},n.prototype.setSelectionStyle=function(n){this.setOption("selectionStyle",n)},n.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},n.prototype.setHighlightActiveLine=function(n){this.setOption("highlightActiveLine",n)},n.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},n.prototype.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)},n.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},n.prototype.setHighlightSelectedWord=function(n){this.setOption("highlightSelectedWord",n)},n.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},n.prototype.setAnimatedScroll=function(n){this.renderer.setAnimatedScroll(n)},n.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},n.prototype.setShowInvisibles=function(n){this.renderer.setShowInvisibles(n)},n.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},n.prototype.setDisplayIndentGuides=function(n){this.renderer.setDisplayIndentGuides(n)},n.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},n.prototype.setHighlightIndentGuides=function(n){this.renderer.setHighlightIndentGuides(n)},n.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},n.prototype.setShowPrintMargin=function(n){this.renderer.setShowPrintMargin(n)},n.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},n.prototype.setPrintMarginColumn=function(n){this.renderer.setPrintMarginColumn(n)},n.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},n.prototype.setReadOnly=function(n){this.setOption("readOnly",n)},n.prototype.getReadOnly=function(){return this.getOption("readOnly")},n.prototype.setBehavioursEnabled=function(n){this.setOption("behavioursEnabled",n)},n.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},n.prototype.setWrapBehavioursEnabled=function(n){this.setOption("wrapBehavioursEnabled",n)},n.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},n.prototype.setShowFoldWidgets=function(n){this.setOption("showFoldWidgets",n)},n.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},n.prototype.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)},n.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},n.prototype.remove=function(n){var t,r,u;if(this.selection.isEmpty()&&(n=="left"?this.selection.selectLeft():this.selection.selectRight()),t=this.getSelectionRange(),this.getBehavioursEnabled()){var i=this.session,e=i.getState(t.start.row),f=i.getMode().transformAction(e,"deletion",this,i,t);t.end.column===0&&(r=i.getTextRange(t),r[r.length-1]=="\n"&&(u=i.getLine(t.end.row),/^\s+$/.test(u)&&(t.end.column=u.length)));f&&(t=f)}this.session.remove(t);this.clearSelection()},n.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight();this.session.remove(this.getSelectionRange());this.clearSelection()},n.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft();this.session.remove(this.getSelectionRange());this.clearSelection()},n.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart();this.selection.isEmpty()&&this.selection.selectLeft();this.session.remove(this.getSelectionRange());this.clearSelection()},n.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var n=this.getSelectionRange();n.start.column==n.end.column&&n.start.row==n.end.row&&(n.end.column=0,n.end.row++);this.session.remove(n);this.clearSelection()},n.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var n=this.getCursorPosition();this.insert("\n");this.moveCursorToPosition(n)},n.prototype.setGhostText=function(n,t){this.session.widgetManager||(this.session.widgetManager=new it(this.session),this.session.widgetManager.attach(this));this.renderer.setGhostText(n,t)},n.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},n.prototype.transposeLetters=function(){var t,n,r,f,u;this.selection.isEmpty()&&(t=this.getCursorPosition(),n=t.column,n!==0)&&(r=this.session.getLine(t.row),n<r.length?(f=r.charAt(n)+r.charAt(n-1),u=new i(t.row,n-1,t.row,n+1)):(f=r.charAt(n-1)+r.charAt(n-2),u=new i(t.row,n-2,t.row,n)),this.session.replace(u,f),this.session.selection.moveToPosition(u.end))},n.prototype.toLowerCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toLowerCase());this.selection.setSelectionRange(i)},n.prototype.toUpperCase=function(){var i=this.getSelectionRange(),n,t;this.selection.isEmpty()&&this.selection.selectWord();n=this.getSelectionRange();t=this.session.getTextRange(n);this.session.replace(n,t.toUpperCase());this.selection.setSelectionRange(i)},n.prototype.indent=function(){var t=this.session,n=this.getSelectionRange(),o,i,e,r;if(n.start.row<n.end.row){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}if(n.start.column<n.end.column&&(o=t.getTextRange(n),!/^\s+$/.test(o))){i=this.$getSelectedRows();t.indentRows(i.first,i.last,"\t");return}var c=t.getLine(n.start.row),s=n.start,f=t.getTabSize(),h=t.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())r=f-h%f,e=u.stringRepeat(" ",r);else{for(r=h%f;c[n.start.column-1]==" "&&r;)n.start.column--,r--;this.selection.setSelectionRange(n);e="\t"}return this.insert(e)},n.prototype.blockIndent=function(){var n=this.$getSelectedRows();this.session.indentRows(n.first,n.last,"\t")},n.prototype.blockOutdent=function(){var n=this.session.getSelection();this.session.outdentRows(n.getRange())},n.prototype.sortLines=function(){for(var r,e,t=this.$getSelectedRows(),u=this.session,f=[],n=t.first;n<=t.last;n++)f.push(u.getLine(n));for(f.sort(function(n,t){return n.toLowerCase()<t.toLowerCase()?-1:n.toLowerCase()>t.toLowerCase()?1:0}),r=new i(0,0,0,0),n=t.first;n<=t.last;n++)e=u.getLine(n),r.start.row=n,r.end.row=n,r.end.column=e.length,u.replace(r,f[n-t.first])},n.prototype.toggleCommentLines=function(){var t=this.session.getState(this.getCursorPosition().row),n=this.$getSelectedRows();this.session.getMode().toggleCommentLines(t,this.session,n.first,n.last)},n.prototype.toggleBlockComment=function(){var n=this.getCursorPosition(),t=this.session.getState(n.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,n)},n.prototype.getNumberAt=function(n,t){var r=/[\-]?[0-9]+(?:\.[0-9]+)?/g,u,i;for(r.lastIndex=0,u=this.session.getLine(n);r.lastIndex<t;)if(i=r.exec(u),i.index<=t&&i.index+i[0].length>=t)return{value:i[0],start:i.index,end:i.index+i[0].length};return null},n.prototype.modifyNumber=function(n){var u=this.selection.getCursor().row,r=this.selection.getCursor().column,l=new i(u,r-1,u,r),h=this.session.getTextRange(l),t,s,c;if(!isNaN(parseFloat(h))&&isFinite(h)){if(t=this.getNumberAt(u,r),t){var e=t.value.indexOf(".")>=0?t.start+t.value.indexOf(".")+1:t.end,o=t.start+t.value.length-e,f=parseFloat(t.value);f*=Math.pow(10,o);n*=e!==t.end&&r<e?Math.pow(10,t.end-r-1):Math.pow(10,t.end-r);f+=n;f/=Math.pow(10,o);s=f.toFixed(o);c=new i(u,t.start,u,t.end);this.session.replace(c,s);this.moveCursorTo(u,Math.max(t.start+1,r+s.length-t.value.length))}}else this.toggleWord()},n.prototype.toggleWord=function(){var y=this.selection.getCursor().row,w=this.selection.getCursor().column,c,l,o,i,t,a,v,p;this.selection.selectWord();var n=this.getSelectedText(),s=this.selection.getWordRange().start.column,b=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),r=w-s-1;r<0&&(r=0);var f=0,e=0,h=this;for(n.match(/[A-Za-z0-9_]+/)&&b.forEach(function(t){e=f+t.length;r>=f&&r<=e&&(n=t,h.selection.clearSelection(),h.moveCursorTo(y,f+s),h.selection.selectTo(y,e+s));f=e}),c=this.$toggleWordPairs,o=0;o<c.length;o++)for(i=c[o],t=0;t<=1;t++)a=+!t,v=n.match(new RegExp("^\\s?_?("+u.escapeRegExp(i[t])+")\\s?$","i")),v&&(p=n.match(new RegExp("([_]|^|\\s)("+u.escapeRegExp(v[1])+")($|\\s)","g")),p&&(l=n.replace(new RegExp(u.escapeRegExp(i[t]),"i"),function(n){var t=i[a];return n.toUpperCase()==n?t=t.toUpperCase():n.charAt(0).toUpperCase()==n.charAt(0)&&(t=t.substr(0,0)+i[a].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(l),l=""))},n.prototype.findLinkAt=function(n,t){var s,h,l=this.session.getLine(n),a=l.split(/((?:https?|ftp):\/\/[\S]+)/),u=t,f,e,c,r,i,o;u<0&&(u=0);f=0;e=0;try{for(r=v(a),i=r.next();!i.done;i=r.next()){if(o=i.value,e=f+o.length,u>=f&&u<=e&&o.match(/((?:https?|ftp):\/\/[\S]+)/)){c=o.replace(/[\s:.,'";}\]]+$/,"");break}f=e}}catch(y){s={error:y}}finally{try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(s)throw s.error;}}return c},n.prototype.openLink=function(){var t=this.selection.getCursor(),n=this.findLinkAt(t.row,t.column);return n&&window.open(n,"_blank"),n!=null},n.prototype.removeLines=function(){var n=this.$getSelectedRows();this.session.removeFullLines(n.first,n.last);this.clearSelection()},n.prototype.duplicateSelection=function(){var t=this.selection,i=this.session,n=t.getRange(),f=t.isBackwards(),r,u,e;n.isEmpty()?(r=n.start.row,i.duplicateLines(r,r)):(u=f?n.start:n.end,e=i.insert(u,i.getTextRange(n)),n.start=u,n.end=e,t.setSelectionRange(n,f))},n.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},n.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},n.prototype.moveText=function(n,t,i){return this.session.moveText(n,t,i)},n.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},n.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},n.prototype.$moveLines=function(n,t){var f,l,r=this.selection,h,u,i,o,y,s,c;if(!r.inMultiSelectMode||this.inVirtualSelectionMode)h=r.toOrientedRange(),f=this.$getSelectedRows(h),l=this.session.$moveLines(f.first,f.last,t?0:n),t&&n==-1&&(l=0),h.moveBy(l,0),r.fromOrientedRange(h);else{u=r.rangeList.ranges;r.rangeList.detach(this.session);this.inVirtualSelectionMode=!0;var e=0,a=0,v=u.length;for(i=0;i<v;i++){for(o=i,u[i].moveBy(e,0),f=this.$getSelectedRows(u[i]),y=f.first,s=f.last;++i<v;){if(a&&u[i].moveBy(a,0),c=this.$getSelectedRows(u[i]),t&&c.first!=s)break;if(!t&&c.first>s+1)break;s=c.last}for(i--,e=this.session.$moveLines(y,s,t?0:n),t&&n==-1&&(o=i+1);o<=i;)u[o].moveBy(e,0),o++;t||(e=0);a+=e}r.fromOrientedRange(r.ranges[0]);r.rangeList.attach(this.session);this.inVirtualSelectionMode=!1}},n.prototype.$getSelectedRows=function(n){return n=(n||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(n.start.row),last:this.session.getRowFoldEnd(n.end.row)}},n.prototype.onCompositionStart=function(n){this.renderer.showComposition(n)},n.prototype.onCompositionUpdate=function(n){this.renderer.setCompositionText(n)},n.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},n.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},n.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},n.prototype.isRowVisible=function(n){return n>=this.getFirstVisibleRow()&&n<=this.getLastVisibleRow()},n.prototype.isRowFullyVisible=function(n){return n>=this.renderer.getFirstFullyVisibleRow()&&n<=this.renderer.getLastFullyVisibleRow()},n.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},n.prototype.$moveByPage=function(n,t){var i=this.renderer,r=this.renderer.layerConfig,u=n*Math.floor(r.height/r.lineHeight),f;t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(u,0)}):t===!1&&(this.selection.moveCursorBy(u,0),this.selection.clearSelection());f=i.scrollTop;i.scrollBy(0,u*r.lineHeight);t!=null&&i.scrollCursorIntoView(null,.5);i.animateScrolling(f)},n.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},n.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},n.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},n.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},n.prototype.scrollPageDown=function(){this.$moveByPage(1)},n.prototype.scrollPageUp=function(){this.$moveByPage(-1)},n.prototype.scrollToRow=function(n){this.renderer.scrollToRow(n)},n.prototype.scrollToLine=function(n,t,i,r){this.renderer.scrollToLine(n,t,i,r)},n.prototype.centerSelection=function(){var n=this.getSelectionRange(),t={row:Math.floor(n.start.row+(n.end.row-n.start.row)/2),column:Math.floor(n.start.column+(n.end.column-n.start.column)/2)};this.renderer.alignCursor(t,.5)},n.prototype.getCursorPosition=function(){return this.selection.getCursor()},n.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},n.prototype.getSelectionRange=function(){return this.selection.getRange()},n.prototype.selectAll=function(){this.selection.selectAll()},n.prototype.clearSelection=function(){this.selection.clearSelection()},n.prototype.moveCursorTo=function(n,t){this.selection.moveCursorTo(n,t)},n.prototype.moveCursorToPosition=function(n){this.selection.moveCursorToPosition(n)},n.prototype.jumpToMatching=function(n,t){var e=this.getCursorPosition(),o=new l(this.session,e.row,e.column),c=o.getCurrentToken(),w=0,r,u,f,a;if(c&&c.type.indexOf("tag-name")!==-1&&(c=o.stepBackward()),r=c||o.stepForward(),r){var y,p=!1,s={},h=e.column-r.start,v,b={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;h<r.value.length&&!p;h++)if(b[r.value[h]]){v=b[r.value[h]]+"."+r.type.replace("rparen","lparen");isNaN(s[v])&&(s[v]=0);switch(r.value[h]){case"(":case"[":case"{":s[v]++;break;case")":case"]":case"}":s[v]--;s[v]===-1&&(y="bracket",p=!0)}}}else r.type.indexOf("tag-name")!==-1&&(isNaN(s[r.value])&&(s[r.value]=0),c.value==="<"&&w>1?s[r.value]++:c.value==="<\/"&&s[r.value]--,s[r.value]===-1&&(y="tag",p=!0));p||(c=r,w++,r=o.stepForward(),h=0)}while(r&&!p);if(y){if(y==="bracket")u=this.session.getBracketRange(e),u||(u=new i(o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h-1,o.getCurrentTokenRow(),o.getCurrentTokenColumn()+h-1),f=u.start,(t||f.row===e.row&&Math.abs(f.column-e.column)<2)&&(u=this.session.getBracketRange(f)));else if(y==="tag"){if(!r||r.type.indexOf("tag-name")===-1)return;u=new i(o.getCurrentTokenRow(),o.getCurrentTokenColumn()-2,o.getCurrentTokenRow(),o.getCurrentTokenColumn()-2);u.compare(e.row,e.column)===0&&(a=this.session.getMatchingTags(e),a&&(a.openTag.contains(e.row,e.column)?(u=a.closeTag,f=u.start):(u=a.openTag,f=a.closeTag.start.row===e.row&&a.closeTag.start.column===e.column?u.end:u.start)));f=f||u.start}f=u&&u.cursor||f;f&&(n?u&&t?this.selection.setRange(u):u&&u.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},n.prototype.gotoLine=function(n,t,i){this.selection.clearSelection();this.session.unfold({row:n-1,column:t||0});this.exitMultiSelectMode&&this.exitMultiSelectMode();this.moveCursorTo(n-1,t||0);this.isRowFullyVisible(n-1)||this.scrollToLine(n-1,!0,i)},n.prototype.navigateTo=function(n,t){this.selection.moveTo(n,t)},n.prototype.navigateUp=function(n){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(-n||-1,0)},n.prototype.navigateDown=function(n){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection();this.selection.moveCursorBy(n||1,0)},n.prototype.navigateLeft=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},n.prototype.navigateRight=function(n){if(this.selection.isEmpty())for(n=n||1;n--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},n.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart();this.clearSelection()},n.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd();this.clearSelection()},n.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd();this.clearSelection()},n.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart();this.clearSelection()},n.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight();this.clearSelection()},n.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft();this.clearSelection()},n.prototype.replace=function(n,t){t&&this.$search.set(t);var i=this.$search.find(this.session),r=0;return i?(this.$tryReplace(i,n)&&(r=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end),r):r},n.prototype.replaceAll=function(n,t){var i,r,f,u;if(t&&this.$search.set(t),i=this.$search.findAll(this.session),r=0,!i.length)return r;for(f=this.getSelectionRange(),this.selection.moveTo(0,0),u=i.length-1;u>=0;--u)this.$tryReplace(i[u],n)&&r++;return this.selection.setSelectionRange(f),r},n.prototype.$tryReplace=function(n,t){var i=this.session.getTextRange(n);return t=this.$search.replace(i,t),t!==null?(n.end=this.session.replace(n,t),n):null},n.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},n.prototype.find=function(n,t,i){var r,u;if(t||(t={}),typeof n=="string"||n instanceof RegExp?t.needle=n:typeof n=="object"&&h.mixin(t,n),r=this.selection.getRange(),t.needle==null&&(n=this.session.getTextRange(r)||this.$search.$options.needle,n||(r=this.session.getWordRange(r.start.row,r.start.column),n=this.session.getTextRange(r)),this.$search.set({needle:n})),this.$search.set(t),t.start||this.$search.set({start:r}),u=this.$search.find(this.session),t.preventScroll)return u;if(u)return this.revealRange(u,i),u;t.backwards?r.start=r.end:r.end=r.start;this.selection.setRange(r)},n.prototype.findNext=function(n,t){this.find({skipCurrent:!0,backwards:!1},n,t)},n.prototype.findPrevious=function(n,t){this.find(n,{skipCurrent:!0,backwards:!0},t)},n.prototype.revealRange=function(n,t){this.session.unfold(n);this.selection.setSelectionRange(n);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(n.start,n.end,.5);t!==!1&&this.renderer.animateScrolling(i)},n.prototype.undo=function(){this.session.getUndoManager().undo(this.session);this.renderer.scrollCursorIntoView(null,.5)},n.prototype.redo=function(){this.session.getUndoManager().redo(this.session);this.renderer.scrollCursorIntoView(null,.5)},n.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(n){n.destroy()}),this.$toDestroy=null);this.$mouseHandler&&this.$mouseHandler.destroy();this.renderer.destroy();this._signal("destroy",this);this.session&&this.session.destroy();this._$emitInputEvent&&this._$emitInputEvent.cancel();this.removeAllListeners()},n.prototype.setAutoScrollEditorIntoView=function(n){var u,r,t,i;if(n){r=this;t=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));i=this.$scrollAnchor;i.style.cssText="position:absolute";this.container.insertBefore(i,this.container.firstChild);var f=this.on("changeSelection",function(){t=!0}),e=this.renderer.on("beforeRender",function(){t&&(u=r.renderer.container.getBoundingClientRect())}),o=this.renderer.on("afterRender",function(){if(t&&u&&(r.isFocused()||r.searchBox&&r.searchBox.isFocused())){var e=r.renderer,n=e.$cursorLayer.$pixelPos,f=e.layerConfig,o=n.top-f.offset;t=n.top>=0&&o+u.top<0?!0:n.top<f.height&&n.top+u.top+f.lineHeight>window.innerHeight?!1:null;t!=null&&(i.style.top=o+"px",i.style.left=n.left+"px",i.style.height=f.lineHeight+"px",i.scrollIntoView(t));t=u=null}});this.setAutoScrollEditorIntoView=function(n){n||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",f),this.renderer.off("afterRender",o),this.renderer.off("beforeRender",e))}}},n.prototype.$resetCursorStyle=function(){var t=this.$cursorStyle||"ace",n=this.renderer.$cursorLayer;n&&(n.setSmoothBlinking(/smooth/.test(t)),n.isBlinking=!this.$readOnly&&t!="wide",f.setCssClass(n.element,"ace_slim-cursors",/slim/.test(t)))},n.prototype.prompt=function(n,t,i){var r=this;e.loadModule("ace/ext/prompt",function(u){u.prompt(r,n,t,i)})},n}(),o;r.$uid=0;r.prototype.curOp=null;r.prototype.prevOp={};r.prototype.$mergeableCommands=["backspace","del","insertstring"];r.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]];h.implement(r.prototype,g);e.defineOptions(r.prototype,"editor",{selectionStyle:{set:function(n){this.onSelectionChange();this._signal("changeSelectionStyle",{data:n})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(n){this.textInput.setReadOnly(n);this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(n){this.textInput.setCopyWithEmptySelection(n)},initialValue:!1},cursorStyle:{set:function(){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(n){this.setAutoScrollEditorIntoView(n)}},keyboardHandler:{set:function(n){this.setKeyboardHandler(n)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(n){this.session.setValue(n)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(n){this.setSession(n)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(n){this.renderer.$gutterLayer.setShowLineNumbers(n);this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);n&&this.$relativeLineNumbers?o.attach(this):o.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(n){this.$showLineNumbers&&n?o.attach(this):o.detach(this)}},placeholder:{set:function(){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var t=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0),n;t&&this.renderer.placeholderNode?(this.renderer.off("afterRender",this.$updatePlaceholder),f.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null):t||this.renderer.placeholderNode?!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||""):(this.renderer.on("afterRender",this.$updatePlaceholder),f.addCssClass(this.container,"ace_hasPlaceholder"),n=f.createElement("div"),n.className="ace_placeholder",n.textContent=this.$placeholder||"",this.renderer.placeholderNode=n,this.renderer.content.appendChild(this.renderer.placeholderNode))}.bind(this),this.on("input",this.$updatePlaceholder));this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(n){var i={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(n){n.blur();n.renderer.scroller.focus()},readOnly:!0},r=function(n){if(n.target==this.renderer.scroller&&n.keyCode===ut.enter){n.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0);this.focus()}},t;n?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(c.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",s("editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",s("Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",r.bind(this)),this.commands.addCommand(i),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",s("editor")),this.renderer.$gutter.setAttribute("aria-label",s("Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new rt(this)),t.addListener()):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",r.bind(this)),this.commands.removeCommand(i),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});o={getText:function(n,t){return(Math.abs(n.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(n,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(n,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(n){n.renderer.$gutterLayer.$renderer=this;n.on("changeSelection",this.update);this.update(null,n)},detach:function(n){n.renderer.$gutterLayer.$renderer==this&&(n.renderer.$gutterLayer.$renderer=null);n.off("changeSelection",this.update);this.update(null,n)}};t.Editor=r});define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(){function n(n,t){this.element=n;this.canvasHeight=t||5e5;this.element.style.height=this.canvasHeight*2+"px";this.cells=[];this.cellCache=[];this.$offsetCoefficient=0}return n.prototype.moveContainer=function(n){i.translate(this.element,0,-(n.firstRowScreen*n.lineHeight%this.canvasHeight)-n.offset*this.$offsetCoefficient)},n.prototype.pageChanged=function(n,t){return Math.floor(n.firstRowScreen*n.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},n.prototype.computeLineTop=function(n,t,i){var r=t.firstRowScreen*t.lineHeight,u=Math.floor(r/this.canvasHeight),f=i.documentToScreenRow(n,0)*t.lineHeight;return f-u*this.canvasHeight},n.prototype.computeLineHeight=function(n,t,i){return t.lineHeight*i.getRowLineCount(n)},n.prototype.getLength=function(){return this.cells.length},n.prototype.get=function(n){return this.cells[n]},n.prototype.shift=function(){this.$cacheCell(this.cells.shift())},n.prototype.pop=function(){this.$cacheCell(this.cells.pop())},n.prototype.push=function(n){var r,t;if(Array.isArray(n)){for(this.cells.push.apply(this.cells,n),r=i.createFragment(this.element),t=0;t<n.length;t++)r.appendChild(n[t].element);this.element.appendChild(r)}else this.cells.push(n),this.element.appendChild(n.element)},n.prototype.unshift=function(n){var t,r;if(Array.isArray(n)){for(this.cells.unshift.apply(this.cells,n),t=i.createFragment(this.element),r=0;r<n.length;r++)t.appendChild(n[r].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(n),this.element.insertAdjacentElement("afterbegin",n.element)},n.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},n.prototype.$cacheCell=function(n){n&&(n.element.remove(),this.cellCache.push(n))},n.prototype.createCell=function(n,t,r,u){var f=this.cellCache.pop(),e;return f||(e=i.createElement("div"),u&&u(e),this.element.appendChild(e),f={element:e,text:"",row:n}),f.row=n,f},n}();t.Lines=r});define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(n,t){"use strict";function f(n){var f=document.createTextNode(""),r,t,u;return n.appendChild(f),r=i.createElement("span"),n.appendChild(r),t=i.createElement("span"),n.appendChild(t),u=i.createElement("span"),t.appendChild(u),n}var i=n("../lib/dom"),e=n("../lib/oop"),o=n("../lib/lang"),s=n("../lib/event_emitter").EventEmitter,h=n("./lines").Lines,r=n("../config").nls,u=function(){function n(n){this.element=i.createElement("div");this.element.className="ace_layer ace_gutter-layer";n.appendChild(this.element);this.setShowFoldWidgets(this.$showFoldWidgets);this.gutterWidth=0;this.$annotations=[];this.$updateAnnotations=this.$updateAnnotations.bind(this);this.$lines=new h(this.element);this.$lines.$offsetCoefficient=1}return n.prototype.setSession=function(n){this.session&&this.session.off("change",this.$updateAnnotations);this.session=n;n&&n.on("change",this.$updateAnnotations)},n.prototype.addGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration");this.session.addGutterDecoration(n,t)},n.prototype.removeGutterDecoration=function(n,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration");this.session.removeGutterDecoration(n,t)},n.prototype.setAnnotations=function(n){var f,i,u,e;for(this.$annotations=[],f=0;f<n.length;f++){var r=n[f],s=r.row,t=this.$annotations[s];t||(t=this.$annotations[s]={text:[],type:[]});i=r.text;u=r.type;i=i?o.escapeHTML(i):r.html||"";t.text.indexOf(i)===-1&&(t.text.push(i),t.type.push(u));e=r.className;e?t.className=e:u=="error"?t.className=" ace_error":u=="warning"&&t.className!=" ace_error"?t.className=" ace_warning":u=="info"&&!t.className&&(t.className=" ace_info")}},n.prototype.$updateAnnotations=function(n){var t,i,r;this.$annotations.length&&(t=n.start.row,i=n.end.row-t,i!==0&&(n.action=="remove"?this.$annotations.splice(t,i+1,null):(r=new Array(i+1),r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r))))},n.prototype.update=function(n){this.config=n;var u=this.session,e=n.firstRow,o=Math.min(n.lastRow+n.gutterOffset,u.getLength()-1);this.oldLastRow=o;this.config=n;this.$lines.moveContainer(n);this.$updateCursorRow();for(var t=u.getNextFoldLine(e),s=t?t.start.row:Infinity,r=null,h=-1,i=e;;){if(i>s&&(i=t.end.row+1,t=u.getNextFoldLine(i,t),s=t?t.start.row:Infinity),i>o){while(this.$lines.getLength()>h+1)this.$lines.pop();break}r=this.$lines.get(++h);r?r.row=i:(r=this.$lines.createCell(i,n,this.session,f),this.$lines.push(r));this.$renderCell(r,n,t,i);i++}this._signal("afterRender");this.$updateGutterWidth(n)},n.prototype.$updateGutterWidth=function(n){var i=this.session,f=i.gutterRenderer||this.$renderer,e=i.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"",t,u;(this.$fixedWidth||i.$useWrapMode)&&(r=i.getLength()+e-1);t=f?f.getWidth(i,r,n):r.toString().length*n.characterWidth;u=this.$padding||this.$computePadding();t+=u.left+u.right;t===this.gutterWidth||isNaN(t)||(this.gutterWidth=t,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",t))},n.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var n=this.session.selection.getCursor();this.$cursorRow!==n.row&&(this.$cursorRow=n.row)}},n.prototype.updateLineHighlight=function(){var r,i,n,t,u;if(this.$highlightGutterLine&&(r=this.session.selection.cursor.row,this.$cursorRow=r,!this.$cursorCell||this.$cursorCell.row!=r))for(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),i=this.$lines.cells,this.$cursorCell=null,n=0;n<i.length;n++)if(t=i[n],t.row>=this.$cursorRow){if(t.row>this.$cursorRow){if(u=this.session.getFoldLine(this.$cursorRow),!(n>0&&u&&u.start.row==i[n-1].row))break;t=i[n-1]}t.element.className="ace_gutter-active-line "+t.element.className;this.$cursorCell=t;break}},n.prototype.scrollLines=function(n){var t=this.config,i,r,u;if((this.config=n,this.$updateCursorRow(),this.$lines.pageChanged(t,n))||(this.$lines.moveContainer(n),i=Math.min(n.lastRow+n.gutterOffset,this.session.getLength()-1),r=this.oldLastRow,this.oldLastRow=i,!t||r<n.firstRow)||i<t.firstRow)return this.update(n);if(t.firstRow<n.firstRow)for(u=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);u>0;u--)this.$lines.shift();if(r>i)for(u=this.session.getFoldedRowCount(i+1,r);u>0;u--)this.$lines.pop();n.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(n,n.firstRow,t.firstRow-1));i>r&&this.$lines.push(this.$renderLines(n,r+1,i));this.updateLineHighlight();this._signal("afterRender");this.$updateGutterWidth(n)},n.prototype.$renderLines=function(n,t,i){for(var o=[],r=t,u=this.session.getNextFoldLine(r),s=u?u.start.row:Infinity,e;;){if(r>s&&(r=u.end.row+1,u=this.session.getNextFoldLine(r,u),s=u?u.start.row:Infinity),r>i)break;e=this.$lines.createCell(r,n,this.session,f);this.$renderCell(e,n,u,r);o.push(e);r++}return o},n.prototype.$renderCell=function(n,t,u,f){var c=n.element,s=this.session,it=c.childNodes[0],e=c.childNodes[1],o=c.childNodes[2],l=o.firstChild,ot=s.$firstLineNumber,rt=s.$breakpoints,ut=s.$decorations,ft=s.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&s.foldWidgets,nt=u?u.start.row:Number.MAX_VALUE,y=t.lineHeight+"px",h=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",et=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",p=(ft?ft.getText(s,f):f+ot).toString(),a,w,tt,b,k,v,d;if(this.$highlightGutterLine&&(f==this.$cursorRow||u&&f<this.$cursorRow&&f>=nt&&this.$cursorRow<=u.end.row)&&(h+="ace_gutter-active-line ",this.$cursorCell!=n&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=n)),rt[f]&&(h+=rt[f]),ut[f]&&(h+=ut[f]),this.$annotations[f]&&f!==nt&&(h+=this.$annotations[f].className),g&&(a=g[f],a==null&&(a=g[f]=s.getFoldWidget(f))),a){if(w="ace_fold-widget ace_"+a,tt=a=="start"&&f==nt&&f<u.end.row,tt){for(w+=" ace_closed",b="",k=!1,v=f+1;v<=u.end.row;v++)if(this.$annotations[v]){if(this.$annotations[v].className===" ace_error"){k=!0;b=" ace_error_fold";break}if(this.$annotations[v].className===" ace_warning"){k=!0;b=" ace_warning_fold";continue}}h+=b}else w+=" ace_open";e.className!=w&&(e.className=w);i.setStyle(e.style,"height",y);i.setStyle(e.style,"display","inline-block");e.setAttribute("role","button");e.setAttribute("tabindex","-1");d=s.getFoldWidgetRange(f);d?e.setAttribute("aria-label",r("Toggle code folding, rows $0 through $1",[d.start.row+1,d.end.row+1])):u?e.setAttribute("aria-label",r("Toggle code folding, rows $0 through $1",[u.start.row+1,u.end.row+1])):e.setAttribute("aria-label",r("Toggle code folding, row $0",[f+1]));tt?(e.setAttribute("aria-expanded","false"),e.setAttribute("title",r("Unfold code"))):(e.setAttribute("aria-expanded","true"),e.setAttribute("title",r("Fold code")))}else e&&(i.setStyle(e.style,"display","none"),e.setAttribute("tabindex","0"),e.removeAttribute("role"),e.removeAttribute("aria-label"));return k&&this.$showFoldedAnnotations?(o.className="ace_gutter_annotation",l.className=et,l.className+=b,i.setStyle(l.style,"height",y),i.setStyle(o.style,"display","block"),i.setStyle(o.style,"height",y),o.setAttribute("aria-label",r("Read annotations row $0",[p])),o.setAttribute("tabindex","-1"),o.setAttribute("role","button")):this.$annotations[f]?(o.className="ace_gutter_annotation",l.className=et,this.$useSvgGutterIcons?l.className+=this.$annotations[f].className:c.classList.add(this.$annotations[f].className.replace(" ","")),i.setStyle(l.style,"height",y),i.setStyle(o.style,"display","block"),i.setStyle(o.style,"height",y),o.setAttribute("aria-label",r("Read annotations row $0",[p])),o.setAttribute("tabindex","-1"),o.setAttribute("role","button")):(i.setStyle(o.style,"display","none"),o.removeAttribute("aria-label"),o.removeAttribute("role"),o.setAttribute("tabindex","0")),p!==it.data&&(it.data=p),c.className!=h&&(c.className=h),i.setStyle(n.element.style,"height",this.$lines.computeLineHeight(f,t,s)+"px"),i.setStyle(n.element.style,"top",this.$lines.computeLineTop(f,t,s)+"px"),n.text=p,o.style.display==="none"&&e.style.display==="none"?n.element.setAttribute("aria-hidden",!0):n.element.setAttribute("aria-hidden",!1),n},n.prototype.setHighlightGutterLine=function(n){this.$highlightGutterLine=n},n.prototype.setShowLineNumbers=function(n){this.$renderer=!n&&{getWidth:function(){return 0},getText:function(){return""}}},n.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},n.prototype.setShowFoldWidgets=function(n){n?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled");this.$showFoldWidgets=n;this.$padding=null},n.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},n.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var n=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(n.borderLeftWidth)||0)+(parseInt(n.paddingLeft)||0)+1,this.$padding.right=(parseInt(n.borderRightWidth)||0)+(parseInt(n.paddingRight)||0),this.$padding},n.prototype.getRegion=function(n){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return n.x<t.left+i.left?"markers":this.$showFoldWidgets&&n.x>i.right-t.right?"foldWidgets":void 0},n}();u.prototype.$fixedWidth=!1;u.prototype.$highlightGutterLine=!0;u.prototype.$renderer="";u.prototype.$showLineNumbers=!0;u.prototype.$showFoldWidgets=!0;e.implement(u.prototype,s);t.Gutter=u});define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(n,t){"use strict";function r(n,t,i,r){return(n?1:0)|(t?2:0)|(i?4:0)|(r?8:0)}var u=n("../range").Range,f=n("../lib/dom"),i=function(){function n(n){this.element=f.createElement("div");this.element.className="ace_layer ace_marker-layer";n.appendChild(this.element)}return n.prototype.setPadding=function(n){this.$padding=n},n.prototype.setSession=function(n){this.session=n},n.prototype.setMarkers=function(n){this.markers=n},n.prototype.elt=function(n,t){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1);i.style.cssText=t;i.className=n},n.prototype.update=function(n){var r,u,t,i,f,e;if(n){this.config=n;this.i=0;for(u in this.markers){if(t=this.markers[u],!t.range){t.update(r,this,this.session,n);continue}(i=t.range.clipRows(n.firstRow,n.lastRow),i.isEmpty())||(i=i.toScreenRange(this.session),t.renderer?(f=this.$getTop(i.start.row,n),e=this.$padding+i.start.column*n.characterWidth,t.renderer(r,i,e,f,n)):t.type=="fullLine"?this.drawFullLineMarker(r,i,t.clazz,n):t.type=="screenLine"?this.drawScreenLineMarker(r,i,t.clazz,n):i.isMultiLine()?t.type=="text"?this.drawTextMarker(r,i,t.clazz,n):this.drawMultiLineMarker(r,i,t.clazz,n):this.drawSingleLineMarker(r,i,t.clazz+" ace_start ace_br15",n))}if(this.i!=-1)while(this.i<this.element.childElementCount)this.element.removeChild(this.element.lastChild)}},n.prototype.$getTop=function(n,t){return(n-t.firstRowScreen)*t.lineHeight},n.prototype.drawTextMarker=function(n,t,i,f,e){for(var v=this.session,s=t.start.row,h=t.end.row,o=s,y=0,c=0,a=v.getScreenLastRowColumn(o),l=new u(o,t.start.column,o,c);o<=h;o++)l.start.row=l.end.row=o,l.start.column=o==s?t.start.column:v.getRowWrapIndent(o),l.end.column=a,y=c,c=a,a=o+1<h?v.getScreenLastRowColumn(o+1):o==h?0:t.end.column,this.drawSingleLineMarker(n,l,i+(o==s?" ace_start":"")+" ace_br"+r(o==s||o==s+1&&t.start.column,y<c,c>a,o==h),f,o==h?0:1,e)},n.prototype.drawMultiLineMarker=function(n,t,i,r,u){var s=this.$padding,e=r.lineHeight,o=this.$getTop(t.start.row,r),l=s+t.start.column*r.characterWidth,f,c,h;(u=u||"",this.session.$bidiHandler.isBidiRow(t.start.row)?(f=t.clone(),f.end.row=f.start.row,f.end.column=this.session.getLine(f.start.row).length,this.drawBidiSingleLineMarker(n,f,i+" ace_br1 ace_start",r,null,u)):this.elt(i+" ace_br1 ace_start","height:"+e+"px;right:0;top:"+o+"px;left:"+l+"px;"+(u||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?(f=t.clone(),f.start.row=f.end.row,f.start.column=0,this.drawBidiSingleLineMarker(n,f,i+" ace_br12",r,null,u)):(o=this.$getTop(t.end.row,r),c=t.end.column*r.characterWidth,this.elt(i+" ace_br12","height:"+e+"px;width:"+c+"px;top:"+o+"px;left:"+s+"px;"+(u||""))),e=(t.end.row-t.start.row-1)*r.lineHeight,e<=0)||(o=this.$getTop(t.start.row+1,r),h=(t.start.column?1:0)|(t.end.column?0:8),this.elt(i+(h?" ace_br"+h:""),"height:"+e+"px;right:0;top:"+o+"px;left:"+s+"px;"+(u||"")))},n.prototype.drawSingleLineMarker=function(n,t,i,r,u,f){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(n,t,i,r,u,f);var e=r.lineHeight,o=(t.end.column+(u||0)-t.start.column)*r.characterWidth,s=this.$getTop(t.start.row,r),h=this.$padding+t.start.column*r.characterWidth;this.elt(i,"height:"+e+"px;width:"+o+"px;top:"+s+"px;left:"+h+"px;"+(f||""))},n.prototype.drawBidiSingleLineMarker=function(n,t,i,r,u,f){var e=r.lineHeight,o=this.$getTop(t.start.row,r),s=this.$padding,h=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);h.forEach(function(n){this.elt(i,"height:"+e+"px;width:"+(n.width+(u||0))+"px;top:"+o+"px;left:"+(s+n.left)+"px;"+(f||""))},this)},n.prototype.drawFullLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;t.start.row!=t.end.row&&(e+=this.$getTop(t.end.row,r)-f);this.elt(i,"height:"+e+"px;top:"+f+"px;left:0;right:0;"+(u||""))},n.prototype.drawScreenLineMarker=function(n,t,i,r,u){var f=this.$getTop(t.start.row,r),e=r.lineHeight;this.elt(i,"height:"+e+"px;top:"+f+"px;left:0;right:0;"+(u||""))},n}();i.prototype.$padding=0;t.Marker=i});define("ace/layer/text_util",["require","exports","module"],function(n,t){var i=new Set(["text","rparen","lparen"]);t.isTextToken=function(n){return i.has(n)}});define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(n,t){"use strict";var f=n("../lib/oop"),u=n("../lib/dom"),r=n("../lib/lang"),e=n("./lines").Lines,o=n("../lib/event_emitter").EventEmitter,s=n("../config").nls,h=n("./text_util").isTextToken,i=function(){function n(n){this.dom=u;this.element=this.dom.createElement("div");this.element.className="ace_layer ace_text-layer";n.appendChild(this.element);this.$updateEolChar=this.$updateEolChar.bind(this);this.$lines=new e(this.element)}return n.prototype.$updateEolChar=function(){var n=this.session.doc,i=n.getNewLineCharacter()=="\n"&&n.getNewLineMode()!="windows",t=i?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},n.prototype.setPadding=function(n){this.$padding=n;this.element.style.margin="0 "+n+"px"},n.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},n.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},n.prototype.$setFontMetrics=function(n){this.$fontMetrics=n;this.$fontMetrics.on("changeCharacterSize",function(n){this._signal("changeCharacterSize",n)}.bind(this));this.$pollSizeChanges()},n.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},n.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},n.prototype.setSession=function(n){this.session=n;n&&this.$computeTabString()},n.prototype.setShowInvisibles=function(n){return this.showInvisibles==n?!1:(this.showInvisibles=n,typeof n=="string"?(this.showSpaces=/tab/i.test(n),this.showTabs=/space/i.test(n),this.showEOL=/eol/i.test(n)):this.showSpaces=this.showTabs=this.showEOL=n,this.$computeTabString(),!0)},n.prototype.setDisplayIndentGuides=function(n){return this.displayIndentGuides==n?!1:(this.displayIndentGuides=n,this.$computeTabString(),!0)},n.prototype.setHighlightIndentGuides=function(n){return this.$highlightIndentGuides===n?!1:(this.$highlightIndentGuides=n,n)},n.prototype.$computeTabString=function(){var u=this.session.getTabSize(),i,t,n;for(this.tabSize=u,i=this.$tabStrings=[0],t=1;t<u+1;t++)this.showTabs?(n=this.dom.createElement("span"),n.className="ace_invisible ace_invisible_tab",n.textContent=r.stringRepeat(this.TAB_CHAR,t),i.push(n)):i.push(this.dom.createTextNode(r.stringRepeat(" ",t),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var f="ace_indent-guide",o=this.showSpaces?" ace_invisible ace_invisible_space":"",e=this.showSpaces?r.stringRepeat(this.SPACE_CHAR,this.tabSize):r.stringRepeat(" ",this.tabSize),s=this.showTabs?" ace_invisible ace_invisible_tab":"",h=this.showTabs?r.stringRepeat(this.TAB_CHAR,this.tabSize):e,n=this.dom.createElement("span");n.className=f+o;n.textContent=e;this.$tabStrings[" "]=n;n=this.dom.createElement("span");n.className=f+s;n.textContent=h;this.$tabStrings["\t"]=n}},n.prototype.updateLines=function(n,t,i){var r,u,f,c,l;if(this.config.lastRow!=n.lastRow||this.config.firstRow!=n.firstRow)return this.update(n);this.config=n;var e=Math.max(t,n.firstRow),a=Math.min(i,n.lastRow),v=this.element.childNodes,o=0;for(r=n.firstRow;r<e;r++){if(u=this.session.getFoldLine(r),u){if(u.containsRow(e)){e=u.start.row;break}r=u.end.row}o++}for(var s=!1,r=e,u=this.session.getNextFoldLine(r),h=u?u.start.row:Infinity;;){if(r>h&&(r=u.end.row+1,u=this.session.getNextFoldLine(r,u),h=u?u.start.row:Infinity),r>a)break;f=v[o++];f&&(this.dom.removeChildren(f),this.$renderLine(f,r,r==h?u:!1),s&&(f.style.top=this.$lines.computeLineTop(r,n,this.session)+"px"),c=n.lineHeight*this.session.getRowLength(r)+"px",f.style.height!=c&&(s=!0,f.style.height=c));r++}if(s)while(o<this.$lines.cells.length)l=this.$lines.cells[o++],l.element.style.top=this.$lines.computeLineTop(l.row,n,this.session)+"px"},n.prototype.scrollLines=function(n){var t=this.config,r,u,i;if((this.config=n,this.$lines.pageChanged(t,n))||(this.$lines.moveContainer(n),r=n.lastRow,u=t?t.lastRow:-1,!t||u<n.firstRow)||r<t.firstRow||!t||t.lastRow<n.firstRow||n.lastRow<t.firstRow)return this.update(n);if(t.firstRow<n.firstRow)for(i=this.session.getFoldedRowCount(t.firstRow,n.firstRow-1);i>0;i--)this.$lines.shift();if(t.lastRow>n.lastRow)for(i=this.session.getFoldedRowCount(n.lastRow+1,t.lastRow);i>0;i--)this.$lines.pop();n.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(n,n.firstRow,t.firstRow-1));n.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(n,t.lastRow+1,n.lastRow));this.$highlightIndentGuide()},n.prototype.$renderLinesFragment=function(n,t,i){for(var h=[],r=t,f=this.session.getNextFoldLine(r),o=f?f.start.row:Infinity,s,e;;){if(r>o&&(r=f.end.row+1,f=this.session.getNextFoldLine(r,f),o=f?f.start.row:Infinity),r>i)break;s=this.$lines.createCell(r,n,this.session);e=s.element;this.dom.removeChildren(e);u.setStyle(e.style,"height",this.$lines.computeLineHeight(r,n,this.session)+"px");u.setStyle(e.style,"top",this.$lines.computeLineTop(r,n,this.session)+"px");this.$renderLine(e,r,r==o?f:!1);e.className=this.$useLineGroups()?"ace_line_group":"ace_line";h.push(s);r++}return h},n.prototype.update=function(n){this.$lines.moveContainer(n);this.config=n;for(var i=n.firstRow,r=n.lastRow,t=this.$lines;t.getLength();)t.pop();t.push(this.$renderLinesFragment(n,i,r))},n.prototype.$renderToken=function(n,t,i,u){for(var e=this,d=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),o,l=0,v,y,k,f;o=d.exec(u);){var g=o[1],a=o[2],p=o[3],w=o[4],b=o[5];(e.showSpaces||!a)&&(v=l!=o.index?u.slice(l,o.index):"",l=o.index+o[0].length,v&&c.appendChild(this.dom.createTextNode(v,this.element)),g?(y=e.session.getScreenTabSize(t+o.index),c.appendChild(e.$tabStrings[y].cloneNode(!0)),t+=y-1):a?e.showSpaces?(f=this.dom.createElement("span"),f.className="ace_invisible ace_invisible_space",f.textContent=r.stringRepeat(e.SPACE_CHAR,a.length),c.appendChild(f)):c.appendChild(this.dom.createTextNode(a,this.element)):p?(f=this.dom.createElement("span"),f.className="ace_invisible ace_invisible_space ace_invalid",f.textContent=r.stringRepeat(e.SPACE_CHAR,p.length),c.appendChild(f)):w?(t+=1,f=this.dom.createElement("span"),f.style.width=e.config.characterWidth*2+"px",f.className=e.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",f.textContent=e.showSpaces?e.SPACE_CHAR:w,c.appendChild(f)):b&&(t+=1,f=this.dom.createElement("span"),f.style.width=e.config.characterWidth*2+"px",f.className="ace_cjk",f.textContent=b,c.appendChild(f)))}return c.appendChild(this.dom.createTextNode(l?u.slice(l):u,this.element)),h(i.type)?n.appendChild(c):(k="ace_"+i.type.replace(/\./g," ace_"),f=this.dom.createElement("span"),i.type=="fold"&&(f.style.width=i.value.length*this.config.characterWidth+"px",f.setAttribute("title",s("Unfold code"))),f.className=k,f.appendChild(c),n.appendChild(f)),t+u.length},n.prototype.renderIndentGuide=function(n,t,i){var r=t.search(this.$indentGuideRe),f,u;if(r<=0||r>=i)return t;if(t[0]==" "){for(r-=r%this.tabSize,f=r/this.tabSize,u=0;u<f;u++)n.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}if(t[0]=="\t"){for(u=0;u<r;u++)n.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}return this.$highlightIndentGuide(),t},n.prototype.$highlightIndentGuide=function(){var i,e,r,n,u,o;if(this.$highlightIndentGuides&&this.displayIndentGuides&&(this.$highlightIndentGuideMarker={indentLevel:undefined,start:undefined,end:undefined,dir:undefined},i=this.session.doc.$lines,i)){var t=this.session.selection.getCursor(),f=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,s=Math.floor(f/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:s,start:t.row},e=this.session.$bracketHighlight,e)for(r=this.session.$bracketHighlight.ranges,n=0;n<r.length;n++)if(t.row!==r[n].start.row){this.$highlightIndentGuideMarker.end=r[n].start.row;this.$highlightIndentGuideMarker.dir=t.row>r[n].start.row?-1:1;break}if(!this.$highlightIndentGuideMarker.end&&i[t.row]!==""&&t.column===i[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,n=t.row+1;n<i.length;n++)if(u=i[n],o=/^\s*/.exec(u)[0].length,u!==""&&(this.$highlightIndentGuideMarker.end=n,o<=f))break;this.$renderHighlightIndentGuide()}},n.prototype.$clearActiveIndentGuide=function(){for(var u,n,t,r=this.$lines.cells,i=0;i<r.length;i++)if(u=r[i],n=u.element.childNodes,n.length>0)for(t=0;t<n.length;t++)if(n[t].classList&&n[t].classList.contains("ace_indent-guide-active")){n[t].classList.remove("ace_indent-guide-active");break}},n.prototype.$setIndentGuideActive=function(n,t){var u=this.session.doc.getLine(n.row),r,i;u!==""&&(r=n.element.childNodes,r&&(i=r[t-1],i&&i.classList&&i.classList.contains("ace_indent-guide")&&i.classList.add("ace_indent-guide-active")))},n.prototype.$renderHighlightIndentGuide=function(){var i,r,n,t;if(this.$lines&&(i=this.$lines.cells,this.$clearActiveIndentGuide(),r=this.$highlightIndentGuideMarker.indentLevel,r!==0))if(this.$highlightIndentGuideMarker.dir===1){for(n=0;n<i.length;n++)if(t=i[n],this.$highlightIndentGuideMarker.end&&t.row>=this.$highlightIndentGuideMarker.start+1){if(t.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(t,r)}}else for(n=i.length-1;n>=0;n--)if(t=i[n],this.$highlightIndentGuideMarker.end&&t.row<this.$highlightIndentGuideMarker.start){if(t.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(t,r)}},n.prototype.$createLineElement=function(){var n=this.dom.createElement("div");return n.className="ace_line",n.style.height=this.config.lineHeight+"px",n},n.prototype.$renderWrappedLine=function(n,t,i){var f=0,l=0,s=i[0],o=0,e=this.$createLineElement(),h,c,u;for(n.appendChild(e),h=0;h<t.length;h++){if(c=t[h],u=c.value,h==0&&this.displayIndentGuides){if(f=u.length,u=this.renderIndentGuide(e,u,s),!u)continue;f-=u.length}if(f+u.length<s)o=this.$renderToken(e,o,c,u),f+=u.length;else{while(f+u.length>=s)o=this.$renderToken(e,o,c,u.substring(0,s-f)),u=u.substring(s-f),f=s,e=this.$createLineElement(),n.appendChild(e),e.appendChild(this.dom.createTextNode(r.stringRepeat("",i.indent),this.element)),l++,o=0,s=i[l]||Number.MAX_VALUE;u.length!=0&&(f+=u.length,o=this.$renderToken(e,o,c,u))}}i[i.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(e,o,null,"",!0)},n.prototype.$renderSimpleLine=function(n,t){for(var f,i,r=0,u=0;u<t.length;u++)if(f=t[u],i=f.value,u!=0||!this.displayIndentGuides||(i=this.renderIndentGuide(n,i),i)){if(r+i.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(n,r,f,i);r=this.$renderToken(n,r,f,i)}},n.prototype.$renderOverflowMessage=function(n,t,i,r,u){i&&this.$renderToken(n,t,i,r.slice(0,this.MAX_LINE_LENGTH-t));var f=this.dom.createElement("span");f.className="ace_inline_button ace_keyword ace_toggle_wrap";f.textContent=u?"<hide>":"<click to see more...>";n.appendChild(f)},n.prototype.$renderLine=function(n,t,i){var u,f,r,e;i||i==0||(i=this.session.getFoldLine(t));u=i?this.$getFoldLineTokens(t,i):this.session.getTokens(t);r=n;u.length?(f=this.session.getRowSplitData(t),f&&f.length?(this.$renderWrappedLine(n,u,f),r=n.lastChild):(r=n,this.$useLineGroups()&&(r=this.$createLineElement(),n.appendChild(r)),this.$renderSimpleLine(r,u))):this.$useLineGroups()&&(r=this.$createLineElement(),n.appendChild(r));this.showEOL&&r&&(i&&(t=i.end.row),e=this.dom.createElement("span"),e.className="ace_invisible ace_invisible_eol",e.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(e))},n.prototype.$getFoldLineTokens=function(n,t){function f(n,t,r){for(var u=0,e=0,f;e+n[u].value.length<t;)if(e+=n[u].value.length,u++,u==n.length)return;for(e!=t&&(f=n[u].value.substring(t-e),f.length>r-t&&(f=f.substring(0,r-t)),i.push({type:n[u].type,value:f}),e=t+f.length,u+=1);e<r&&u<n.length;)f=n[u].value,f.length+e>r?i.push({type:n[u].type,value:f.substring(0,r-e)}):i.push(n[u]),e+=f.length,u+=1}var u=this.session,i=[],r=u.getTokens(n);return t.walk(function(n,t,e,o,s){n!=null?i.push({type:"fold",value:n}):(s&&(r=u.getTokens(t)),r.length&&f(r,o,e))},t.end.row,this.session.getLine(t.end.row).length),i},n.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},n}();i.prototype.EOF_CHAR="";i.prototype.EOL_CHAR_LF="";i.prototype.EOL_CHAR_CRLF="";i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF;i.prototype.TAB_CHAR="";i.prototype.SPACE_CHAR="";i.prototype.$padding=0;i.prototype.MAX_LINE_LENGTH=1e4;i.prototype.showInvisibles=!1;i.prototype.showSpaces=!1;i.prototype.showTabs=!1;i.prototype.showEOL=!1;i.prototype.displayIndentGuides=!0;i.prototype.$highlightIndentGuides=!0;i.prototype.$tabStrings=[];i.prototype.destroy={};i.prototype.onChangeTabSize=i.prototype.$computeTabString;f.implement(i.prototype,o);t.Text=i});define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(n,t){"use strict";var i=n("../lib/dom"),r=function(){function n(n){this.element=i.createElement("div");this.element.className="ace_layer ace_cursor-layer";n.appendChild(this.element);this.isVisible=!1;this.isBlinking=!0;this.blinkInterval=1e3;this.smoothBlinking=!1;this.cursors=[];this.cursor=this.addCursor();i.addCssClass(this.element,"ace_hidden-cursors");this.$updateCursors=this.$updateOpacity.bind(this)}return n.prototype.$updateOpacity=function(n){for(var t=this.cursors,r=t.length;r--;)i.setStyle(t[r].style,"opacity",n?"":"0")},n.prototype.$startCssAnimation=function(){for(var n=this.cursors,t=n.length;t--;)n[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0;setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},n.prototype.$stopCssAnimation=function(){this.$isAnimating=!1;i.removeCssClass(this.element,"ace_animate-blinking")},n.prototype.setPadding=function(n){this.$padding=n},n.prototype.setSession=function(n){this.session=n},n.prototype.setBlinking=function(n){n!=this.isBlinking&&(this.isBlinking=n,this.restartTimer())},n.prototype.setBlinkInterval=function(n){n!=this.blinkInterval&&(this.blinkInterval=n,this.restartTimer())},n.prototype.setSmoothBlinking=function(n){n!=this.smoothBlinking&&(this.smoothBlinking=n,i.setCssClass(this.element,"ace_smooth-blinking",n),this.$updateCursors(!0),this.restartTimer())},n.prototype.addCursor=function(){var n=i.createElement("div");return n.className="ace_cursor",this.element.appendChild(n),this.cursors.push(n),n},n.prototype.removeCursor=function(){if(this.cursors.length>1){var n=this.cursors.pop();return n.parentNode.removeChild(n),n}},n.prototype.hideCursor=function(){this.isVisible=!1;i.addCssClass(this.element,"ace_hidden-cursors");this.restartTimer()},n.prototype.showCursor=function(){this.isVisible=!0;i.removeCssClass(this.element,"ace_hidden-cursors");this.restartTimer()},n.prototype.restartTimer=function(){var n=this.$updateCursors,t;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),n(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)));i.HAS_CSS_ANIMATION?this.$startCssAnimation():(t=function(){this.timeoutId=setTimeout(function(){n(!1)},.6*this.blinkInterval)}.bind(this),this.intervalId=setInterval(function(){n(!0);t()},this.blinkInterval),t())},n.prototype.getPixelPosition=function(n,t){if(!this.config||!this.session)return{left:0,top:0};n||(n=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(n),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),u=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:r,top:u}},n.prototype.isCursorInView=function(n,t){return n.top>=0&&n.top<t.maxHeight},n.prototype.update=function(n){var u,s,t,e,f,h;this.config=n;var r=this.session.$selectionMarkers,u=0,o=0;for((r===undefined||r.length===0)&&(r=[{cursor:null}]),u=0,s=r.length;u<s;u++)(t=this.getPixelPosition(r[u].cursor,!0),(t.top>n.height+n.offset||t.top<0)&&u>1)||(e=this.cursors[o++]||this.addCursor(),f=e.style,this.drawCursor?this.drawCursor(e,t,n,r[u],this.session):this.isCursorInView(t,n)?(i.setStyle(f,"display","block"),i.translate(e,t.left,t.top),i.setStyle(f,"width",Math.round(n.characterWidth)+"px"),i.setStyle(f,"height",n.lineHeight+"px")):i.setStyle(f,"display","none"));while(this.cursors.length>o)this.removeCursor();h=this.session.getOverwrite();this.$setOverwrite(h);this.$pixelPos=t;this.restartTimer()},n.prototype.$setOverwrite=function(n){n!=this.overwrite&&(this.overwrite=n,n?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},n.prototype.destroy=function(){clearInterval(this.intervalId);clearTimeout(this.timeoutId)},n}();r.prototype.$padding=0;r.prototype.drawCursor=null;t.Cursor=r});define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t){"use strict";var s=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),h=n("./lib/oop"),r=n("./lib/dom"),u=n("./lib/event"),c=n("./lib/event_emitter").EventEmitter,f=32768,e=function(){function n(n,t){this.element=r.createElement("div");this.element.className="ace_scrollbar ace_scrollbar"+t;this.inner=r.createElement("div");this.inner.className="ace_scrollbar-inner";this.inner.textContent="";this.element.appendChild(this.inner);n.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;u.addListener(this.element,"scroll",this.onScroll.bind(this));u.addListener(this.element,"mousedown",u.preventDefault)}return n.prototype.setVisible=function(n){this.element.style.display=n?"":"none";this.isVisible=n;this.coeff=1},n}(),i,o;h.implement(e.prototype,c);i=function(n){function t(t,i){var u=n.call(this,t,"-v")||this;return u.scrollTop=0,u.scrollHeight=0,i.$scrollbarWidth=u.width=r.scrollbarWidth(t.ownerDocument),u.inner.style.width=u.element.style.width=(u.width||15)+5+"px",u.$minWidth=0,u}return s(t,n),t.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var n=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-n)/(this.coeff-n)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(n){this.element.style.height=n+"px"},t.prototype.setScrollHeight=function(n){this.scrollHeight=n;n>f?(this.coeff=f/n,n=f):this.coeff!=1&&(this.coeff=1);this.inner.style.height=n+"px"},t.prototype.setScrollTop=function(n){this.scrollTop!=n&&(this.skipEvent=!0,this.scrollTop=n,this.element.scrollTop=n*this.coeff)},t}(e);i.prototype.setInnerHeight=i.prototype.setScrollHeight;o=function(n){function t(t,i){var r=n.call(this,t,"-h")||this;return r.scrollLeft=0,r.height=i.$scrollbarWidth,r.inner.style.height=r.element.style.height=(r.height||15)+5+"px",r}return s(t,n),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft}));this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(n){this.element.style.width=n+"px"},t.prototype.setInnerWidth=function(n){this.inner.style.width=n+"px"},t.prototype.setScrollWidth=function(n){this.inner.style.width=n+"px"},t.prototype.setScrollLeft=function(n){this.scrollLeft!=n&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=n)},t}(e);t.ScrollBar=i;t.ScrollBarV=i;t.ScrollBarH=o;t.VScrollBar=i;t.HScrollBar=o});define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(n,t){"use strict";var o=this&&this.__extends||function(){var n=function(t,i){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])},n(t,i)};return function(t,i){function r(){this.constructor=t}if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),s=n("./lib/oop"),e=n("./lib/dom"),i=n("./lib/event"),h=n("./lib/event_emitter").EventEmitter,f,r,u;e.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);f=function(){function n(n,t){this.element=e.createElement("div");this.element.className="ace_sb"+t;this.inner=e.createElement("div");this.inner.className="";this.element.appendChild(this.inner);this.VScrollWidth=12;this.HScrollHeight=12;n.appendChild(this.element);this.setVisible(!1);this.skipEvent=!1;i.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return n.prototype.setVisible=function(n){this.element.style.display=n?"":"none";this.isVisible=n;this.coeff=1},n}();s.implement(f.prototype,h);r=function(n){function t(t,i){var r=n.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,r.parent=t,r.width=r.VScrollWidth,r.renderer=i,r.inner.style.width=r.element.style.width=(r.width||15)+"px",r.$minWidth=0,r}return o(t,n),t.prototype.onMouseDown=function(n,t){var f,e;if(n==="mousedown"&&i.getButton(t)===0&&t.detail!==2){if(t.target===this.inner){var r=this,u=t.clientY,o=function(n){u=n.clientY},s=function(){clearInterval(f)},h=t.clientY,c=this.thumbTop,l=function(){if(u!==undefined){var n=r.scrollTopFromThumbTop(c+u-h);n!==r.scrollTop&&r._emit("scroll",{data:n})}};return i.capture(this.inner,o,s),f=setInterval(l,20),i.preventDefault(t)}return e=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2,this._emit("scroll",{data:this.scrollTopFromThumbTop(e)}),i.preventDefault(t)}},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(n){var t=n*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return t>>=0,t<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(n){this.height=Math.max(0,n);this.slideHeight=this.height;this.viewHeight=this.height;this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(n,t){(this.pageHeight!==n||t)&&(this.pageHeight=n,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},t.prototype.setScrollTop=function(n){this.scrollTop=n;n<0&&(n=0);this.thumbTop=n*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight);this.inner.style.top=this.thumbTop+"px"},t}(f);r.prototype.setInnerHeight=r.prototype.setScrollHeight;u=function(n){function t(t,i){var r=n.call(this,t,"-h")||this;return r.scrollLeft=0,r.scrollWidth=0,r.height=r.HScrollHeight,r.inner.style.height=r.element.style.height=(r.height||12)+"px",r.renderer=i,r}return o(t,n),t.prototype.onMouseDown=function(n,t){var f,e;if(n==="mousedown"&&i.getButton(t)===0&&t.detail!==2){if(t.target===this.inner){var r=this,u=t.clientX,o=function(n){u=n.clientX},s=function(){clearInterval(f)},h=t.clientX,c=this.thumbLeft,l=function(){if(u!==undefined){var n=r.scrollLeftFromThumbLeft(c+u-h);n!==r.scrollLeft&&r._emit("scroll",{data:n})}};return i.capture(this.inner,o,s),f=setInterval(l,20),i.preventDefault(t)}return e=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2,this._emit("scroll",{data:this.scrollLeftFromThumbLeft(e)}),i.preventDefault(t)}},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(n){var t=n*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return t>>=0,t<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(n){this.width=Math.max(0,n);this.element.style.width=this.width+"px";this.slideWidth=this.width;this.viewWidth=this.width;this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(n,t){(this.pageWidth!==n||t)&&(this.pageWidth=n,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},t.prototype.setScrollLeft=function(n){this.scrollLeft=n;n<0&&(n=0);this.thumbLeft=n*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth);this.inner.style.left=this.thumbLeft+"px"},t}(f);u.prototype.setInnerWidth=u.prototype.setScrollWidth;t.ScrollBar=r;t.ScrollBarV=r;t.ScrollBarH=u;t.VScrollBar=r;t.HScrollBar=u});define("ace/renderloop",["require","exports","module","ace/lib/event"],function(n,t){"use strict";var i=n("./lib/event"),r=function(){function n(n,t){this.onRender=n;this.pending=!1;this.changes=0;this.$recursionLimit=2;this.window=t||window;var r=this;this._flush=function(){r.pending=!1;var n=r.changes;if(n&&(i.blockIdle(100),r.changes=0,r.onRender(n)),r.changes){if(r.$recursionLimit--<0)return;r.schedule()}else r.$recursionLimit=2}}return n.prototype.schedule=function(n){this.changes=this.changes|n;this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},n.prototype.clear=function(){var n=this.changes;return this.changes=0,n},n}();t.RenderLoop=r});define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(n,t){var s=n("../lib/oop"),r=n("../lib/dom"),e=n("../lib/lang"),o=n("../lib/event"),h=n("../lib/useragent"),c=n("../lib/event_emitter").EventEmitter,u=512,l=typeof ResizeObserver=="function",i=200,f=function(){function n(n){this.el=r.createElement("div");this.$setMeasureNodeStyles(this.el.style,!0);this.$main=r.createElement("div");this.$setMeasureNodeStyles(this.$main.style);this.$measureNode=r.createElement("div");this.$setMeasureNodeStyles(this.$measureNode.style);this.el.appendChild(this.$main);this.el.appendChild(this.$measureNode);n.appendChild(this.el);this.$measureNode.textContent=e.stringRepeat("X",u);this.$characterSize={width:0,height:0};l?this.$addObserver():this.checkForSizeChanges()}return n.prototype.$setMeasureNodeStyles=function(n,t){n.width=n.height="auto";n.left=n.top="0px";n.visibility="hidden";n.position="absolute";n.whiteSpace="pre";h.isIE<8?n["font-family"]="inherit":n.font="inherit";n.overflow=t?"hidden":"visible"},n.prototype.checkForSizeChanges=function(n){if(n===undefined&&(n=this.$measureSizes()),n&&(this.$characterSize.width!==n.width||this.$characterSize.height!==n.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="";this.$characterSize=n;this.charSizes=Object.create(null);this.allowBoldFonts=t&&t.width===n.width&&t.height===n.height;this._emit("changeCharacterSize",{data:n})}},n.prototype.$addObserver=function(){var n=this;this.$observer=new window.ResizeObserver(function(){n.checkForSizeChanges()});this.$observer.observe(this.$measureNode)},n.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var n=this;return this.$pollSizeChangesTimer=o.onIdle(function t(){n.checkForSizeChanges();o.onIdle(t,500)},500)},n.prototype.setPolling=function(n){n?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},n.prototype.$measureSizes=function(n){var t={height:(n||this.$measureNode).clientHeight,width:(n||this.$measureNode).clientWidth/u};return t.width===0||t.height===0?null:t},n.prototype.$measureCharWidth=function(n){this.$main.textContent=e.stringRepeat(n,u);var t=this.$main.getBoundingClientRect();return t.width/u},n.prototype.getCharacterWidth=function(n){var t=this.charSizes[n];return t===undefined&&(t=this.charSizes[n]=this.$measureCharWidth(n)/this.$characterSize.width),t},n.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer);this.$observer&&this.$observer.disconnect();this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},n.prototype.$getZoom=function(n){return!n||!n.parentElement?1:(window.getComputedStyle(n).zoom||1)*this.$getZoom(n.parentElement)},n.prototype.$initTransformMeasureNodes=function(){var n=function(n,t){return["div",{style:"position: absolute;top:"+n+"px;left:"+t+"px;"}]};this.els=r.buildDom([n(0,0),n(i,0),n(0,i),n(i,i)],this.el)},n.prototype.transformCoordinates=function(n,t){function y(n,t,i){var r=n[1]*t[0]-n[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/r,(+n[1]*i[0]-n[0]*i[1])/r]}function u(n,t){return[n[0]-t[0],n[1]-t[1]]}function o(n,t){return[n[0]+t[0],n[1]+t[1]]}function r(n,t){return[n*t[0],n*t[1]]}function s(n){var t=n.getBoundingClientRect();return[t.left,t.top]}var p,c,k;n&&(p=this.$getZoom(this.el),n=r(1/p,n));this.els||this.$initTransformMeasureNodes();var e=s(this.els[0]),l=s(this.els[1]),a=s(this.els[2]),v=s(this.els[3]),f=y(u(v,l),u(v,a),u(o(l,a),o(v,e))),w=r(1+f[0],u(l,e)),b=r(1+f[1],u(a,e));if(t){var h=t,d=f[0]*h[0]/i+f[1]*h[1]/i+1,g=o(r(h[0],w),r(h[1],b));return o(r(1/d/i,g),e)}return c=u(n,e),k=y(u(w,r(f[0],c)),u(b,r(f[1],c)),c),r(i,k)},n}();f.prototype.$characterSize={width:0,height:0};s.implement(f.prototype,c);t.FontMetrics=f});define("ace/css/editor-css",["require","exports","module"],function(n,t,i){i.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(60em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n    white-space: pre;\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}'});define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(n,t){"use strict";var r=n("../lib/dom"),u=n("../lib/oop"),f=n("../lib/event_emitter").EventEmitter,i=function(){function n(n,t){this.canvas=r.createElement("canvas");this.renderer=t;this.pixelRatio=1;this.maxHeight=t.layerConfig.maxHeight;this.lineHeight=t.layerConfig.lineHeight;this.canvasHeight=n.parent.scrollHeight;this.heightRatio=this.canvasHeight/this.maxHeight;this.canvasWidth=n.width;this.minDecorationHeight=2*this.pixelRatio|0;this.halfMinDecorationHeight=this.minDecorationHeight/2|0;this.canvas.width=this.canvasWidth;this.canvas.height=this.canvasHeight;this.canvas.style.top="0px";this.canvas.style.right="0px";this.canvas.style.zIndex="7px";this.canvas.style.position="absolute";this.colors={};this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"};this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"};n.element.appendChild(this.canvas)}return n.prototype.$updateDecorators=function(n){function y(n,t){return n.priority<t.priority?-1:n.priority>t.priority?1:0}var p=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light,a,r,t,v,c,u,i,h,f,l;if(n&&(this.maxHeight=n.maxHeight,this.lineHeight=n.lineHeight,this.canvasHeight=n.height,a=(n.lastRow+1)*this.lineHeight,this.heightRatio=a<this.canvasHeight?1:this.canvasHeight/this.maxHeight),r=this.canvas.getContext("2d"),t=this.renderer.session.$annotations,r.clearRect(0,0,this.canvas.width,this.canvas.height),t)for(v={info:1,warning:2,error:3},t.forEach(function(n){n.priority=v[n.type]||null}),t=t.sort(y),c=this.renderer.session.$foldData,u=0;u<t.length;u++){var e=t[u].row,f=this.compensateFoldRows(e,c),l=Math.round((e-f)*this.lineHeight*this.heightRatio),o=Math.round((e-f)*this.lineHeight*this.heightRatio),s=Math.round(((e-f)*this.lineHeight+this.lineHeight)*this.heightRatio),w=s-o;w<this.minDecorationHeight&&(i=(o+s)/2|0,i<this.halfMinDecorationHeight?i=this.halfMinDecorationHeight:i+this.halfMinDecorationHeight>this.canvasHeight&&(i=this.canvasHeight-this.halfMinDecorationHeight),o=Math.round(i-this.halfMinDecorationHeight),s=Math.round(i+this.halfMinDecorationHeight));r.fillStyle=p[t[u].type]||null;r.fillRect(0,l,this.canvasWidth,s-o)}h=this.renderer.session.selection.getCursor();h&&(f=this.compensateFoldRows(h.row,c),l=Math.round((h.row-f)*this.lineHeight*this.heightRatio),r.fillStyle="rgba(0, 0, 0, 0.5)",r.fillRect(0,l,this.canvasWidth,2))},n.prototype.compensateFoldRows=function(n,t){var r=0,i;if(t&&t.length>0)for(i=0;i<t.length;i++)n>t[i].start.row&&n<t[i].end.row?r+=n-t[i].start.row:n>=t[i].end.row&&(r+=t[i].end.row-t[i].start.row);return r},n}();u.implement(i.prototype,f);t.Decorator=i});define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(n,t){"use strict";var c=n("./lib/oop"),i=n("./lib/dom"),l=n("./lib/lang"),u=n("./config"),a=n("./layer/gutter").Gutter,e=n("./layer/marker").Marker,v=n("./layer/text").Text,y=n("./layer/cursor").Cursor,o=n("./scrollbar").HScrollBar,s=n("./scrollbar").VScrollBar,p=n("./scrollbar_custom").HScrollBar,w=n("./scrollbar_custom").VScrollBar,b=n("./renderloop").RenderLoop,k=n("./layer/font_metrics").FontMetrics,d=n("./lib/event_emitter").EventEmitter,h=n("./css/editor-css"),g=n("./layer/decorators").Decorator,f=n("./lib/useragent"),r;i.importCssString(h,"ace_editor.css",!1);r=function(){function n(n,t){var r=this,h;this.container=n||i.createElement("div");i.addCssClass(this.container,"ace_editor");i.HI_DPI&&i.addCssClass(this.container,"ace_hidpi");this.setTheme(t);u.get("useStrictCSP")==null&&u.set("useStrictCSP",!1);this.$gutter=i.createElement("div");this.$gutter.className="ace_gutter";this.container.appendChild(this.$gutter);this.$gutter.setAttribute("aria-hidden","true");this.scroller=i.createElement("div");this.scroller.className="ace_scroller";this.container.appendChild(this.scroller);this.content=i.createElement("div");this.content.className="ace_content";this.scroller.appendChild(this.content);this.$gutterLayer=new a(this.$gutter);this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this));this.$markerBack=new e(this.content);h=this.$textLayer=new v(this.content);this.canvas=h.element;this.$markerFront=new e(this.content);this.$cursorLayer=new y(this.content);this.$horizScroll=!1;this.$vScroll=!1;this.scrollBar=this.scrollBarV=new s(this.container,this);this.scrollBarH=new o(this.container,this);this.scrollBarV.on("scroll",function(n){r.$scrollAnimation||r.session.setScrollTop(n.data-r.scrollMargin.top)});this.scrollBarH.on("scroll",function(n){r.$scrollAnimation||r.session.setScrollLeft(n.data-r.scrollMargin.left)});this.scrollTop=0;this.scrollLeft=0;this.cursorPos={row:0,column:0};this.$fontMetrics=new k(this.container);this.$textLayer.$setFontMetrics(this.$fontMetrics);this.$textLayer.on("changeCharacterSize",function(n){r.updateCharacterSize();r.onResize(!0,r.gutterWidth,r.$size.width,r.$size.height);r._signal("changeCharacterSize",n)});this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0};this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1};this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0};this.$keepTextAreaAtCursor=!f.isIOS;this.$loop=new b(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView);this.$loop.schedule(this.CHANGE_FULL);this.updateCharacterSize();this.setPadding(4);this.$addResizeObserver();u.resetOptions(this);u._signal("renderer",this)}return n.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts));this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth();this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight();this.$updatePrintMargin();i.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},n.prototype.setSession=function(n){(this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=n,n&&this.scrollMargin.top&&n.getScrollTop()<=0&&n.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(n),this.$markerBack.setSession(n),this.$markerFront.setSession(n),this.$gutterLayer.setSession(n),this.$textLayer.setSession(n),n)&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},n.prototype.updateLines=function(n,t,i){if(t===undefined&&(t=Infinity),this.$changedLines?(this.$changedLines.firstRow>n&&(this.$changedLines.firstRow=n),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:n,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},n.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT);this.$textLayer.$updateEolChar();this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},n.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER);this.$textLayer.onChangeTabSize()},n.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},n.prototype.updateFull=function(n){n?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},n.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},n.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},n.prototype.onResize=function(n,t,i,r){var u,f;if(!(this.resizing>2)){if(this.resizing>0?this.resizing++:this.resizing=n?1:0,u=this.container,r||(r=u.clientHeight||u.scrollHeight),i||(i=u.clientWidth||u.scrollWidth),f=this.$updateCachedSize(n,t,i,r),this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!i&&!r)return this.resizing=0;n&&(this.$gutterLayer.$padding=null);n?this.$renderChanges(f|this.$changes,!0):this.$loop.schedule(f|this.$changes);this.resizing&&(this.resizing=0);this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null;this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},n.prototype.$updateCachedSize=function(n,t,r,u){var o;u-=this.$extraHeight||0;var e=0,f=this.$size,s={width:f.width,height:f.height,scrollerHeight:f.scrollerHeight,scrollerWidth:f.scrollerWidth};return u&&(n||f.height!=u)&&(f.height=u,e|=this.CHANGE_SIZE,f.scrollerHeight=f.height,this.$horizScroll&&(f.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(f.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",e|=this.CHANGE_SCROLL),r&&(n||f.width!=r)&&(e|=this.CHANGE_SIZE,f.width=r,t==null&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,i.setStyle(this.scrollBarH.element.style,"left",t+"px"),i.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),f.scrollerWidth=Math.max(0,r-t-this.scrollBarV.getWidth()-this.margin.h),i.setStyle(this.$gutter.style,"left",this.margin.left+"px"),o=this.scrollBarV.getWidth()+"px",i.setStyle(this.scrollBarH.element.style,"right",o),i.setStyle(this.scroller.style,"right",o),i.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(f.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||n)&&(e|=this.CHANGE_FULL)),f.$dirty=!r||!u,e&&this._signal("resize",s),e},n.prototype.onGutterResize=function(n){var t=this.$showGutter?n:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height));this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},n.prototype.adjustWrapLimit=function(){var n=this.$size.scrollerWidth-this.$padding*2,t=Math.floor(n/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},n.prototype.setAnimatedScroll=function(n){this.setOption("animatedScroll",n)},n.prototype.getAnimatedScroll=function(){return this.$animatedScroll},n.prototype.setShowInvisibles=function(n){this.setOption("showInvisibles",n);this.session.$bidiHandler.setShowInvisibles(n)},n.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},n.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},n.prototype.setDisplayIndentGuides=function(n){this.setOption("displayIndentGuides",n)},n.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},n.prototype.setHighlightIndentGuides=function(n){this.setOption("highlightIndentGuides",n)},n.prototype.setShowPrintMargin=function(n){this.setOption("showPrintMargin",n)},n.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},n.prototype.setPrintMarginColumn=function(n){this.setOption("printMarginColumn",n)},n.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},n.prototype.getShowGutter=function(){return this.getOption("showGutter")},n.prototype.setShowGutter=function(n){return this.setOption("showGutter",n)},n.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},n.prototype.setFadeFoldWidgets=function(n){this.setOption("fadeFoldWidgets",n)},n.prototype.setHighlightGutterLine=function(n){this.setOption("highlightGutterLine",n)},n.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},n.prototype.$updatePrintMargin=function(){var n,t;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||(n=i.createElement("div"),n.className="ace_layer ace_print-margin-layer",this.$printMarginEl=i.createElement("div"),this.$printMarginEl.className="ace_print-margin",n.appendChild(this.$printMarginEl),this.content.insertBefore(n,this.content.firstChild)),t=this.$printMarginEl.style,t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit())},n.prototype.getContainerElement=function(){return this.container},n.prototype.getMouseEventTarget=function(){return this.scroller},n.prototype.getTextAreaContainer=function(){return this.container},n.prototype.$moveTextAreaToCursor=function(){var s,n,u,o,r,c,l;if(!this.$isMousePressed){if(s=this.textarea.style,n=this.$composition,!this.$keepTextAreaAtCursor&&!n){i.translate(this.textarea,-100,0);return}if(u=this.$cursorLayer.$pixelPos,u){n&&n.markerRange&&(u=this.$cursorLayer.getPixelPosition(n.markerRange.start,!0));var h=this.layerConfig,t=u.top,e=u.left;if(t-=h.offset,o=n&&n.useTextareaForIME||f.isMobile?this.lineHeight:1,t<0||t>h.height-o){i.translate(this.textarea,0,0);return}r=1;c=this.$size.height-o;n?n.useTextareaForIME?(l=this.textarea.value,r=this.characterWidth*this.session.$getStringScreenWidth(l)[0]):t+=this.lineHeight+2:t+=this.lineHeight;e-=this.scrollLeft;e>this.$size.scrollerWidth-r&&(e=this.$size.scrollerWidth-r);e+=this.gutterWidth+this.margin.left;i.setStyle(s,"height",o+"px");i.setStyle(s,"width",r+"px");i.translate(this.textarea,Math.min(e,this.$size.scrollerWidth-r),Math.min(t,c))}}},n.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},n.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},n.prototype.getLastFullyVisibleRow=function(){var n=this.layerConfig,t=n.lastRow,i=this.session.documentToScreenRow(t,0)*n.lineHeight;return i-this.session.getScrollTop()>n.height-n.lineHeight?t-1:t},n.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},n.prototype.setPadding=function(n){this.$padding=n;this.$textLayer.setPadding(n);this.$cursorLayer.setPadding(n);this.$markerFront.setPadding(n);this.$markerBack.setPadding(n);this.$loop.schedule(this.CHANGE_FULL);this.$updatePrintMargin()},n.prototype.setScrollMargin=function(n,t,i,r){var u=this.scrollMargin;u.top=n|0;u.bottom=t|0;u.right=r|0;u.left=i|0;u.v=u.top+u.bottom;u.h=u.left+u.right;u.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-u.top);this.updateFull()},n.prototype.setMargin=function(n,t,i,r){var u=this.margin;u.top=n|0;u.bottom=t|0;u.right=r|0;u.left=i|0;u.v=u.top+u.bottom;u.h=u.left+u.right;this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height);this.updateFull()},n.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},n.prototype.setHScrollBarAlwaysVisible=function(n){this.setOption("hScrollBarAlwaysVisible",n)},n.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},n.prototype.setVScrollBarAlwaysVisible=function(n){this.setOption("vScrollBarAlwaysVisible",n)},n.prototype.$updateScrollBarV=function(){var n=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(n-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>n-t&&(n=this.scrollTop+t,this.scrollBarV.scrollTop=null));this.scrollBarV.setScrollHeight(n+this.scrollMargin.v);this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},n.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h);this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},n.prototype.freeze=function(){this.$frozen=!0},n.prototype.unfreeze=function(){this.$frozen=!1},n.prototype.$renderChanges=function(n,t){var r,u,f,e;if(this.$changes&&(n|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!n&&!t){this.$changes|=n;return}if(this.$size.$dirty)return this.$changes|=n,this.onResize(!0);if(this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",n),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics),r=this.layerConfig,(n&this.CHANGE_FULL||n&this.CHANGE_SIZE||n&this.CHANGE_TEXT||n&this.CHANGE_LINES||n&this.CHANGE_SCROLL||n&this.CHANGE_H_SCROLL)&&(n|=this.$computeLayerConfig()|this.$loop.clear(),r.firstRow!=this.layerConfig.firstRow&&r.firstRowScreen==this.layerConfig.firstRowScreen&&(u=this.scrollTop+(r.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight,u>0&&(this.scrollTop=u,n|=this.CHANGE_SCROLL,n|=this.$computeLayerConfig()|this.$loop.clear())),r=this.layerConfig,this.$updateScrollBarV(),n&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),i.translate(this.content,-this.scrollLeft,-r.offset),f=r.width+2*this.$padding+"px",e=r.minHeight+"px",i.setStyle(this.content.style,"width",f),i.setStyle(this.content.style,"height",e)),n&this.CHANGE_H_SCROLL&&(i.translate(this.content,-this.scrollLeft,-r.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),n&this.CHANGE_FULL){this.$changedLines=null;this.$textLayer.update(r);this.$showGutter&&this.$gutterLayer.update(r);this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r);this.$markerBack.update(r);this.$markerFront.update(r);this.$cursorLayer.update(r);this.$moveTextAreaToCursor();this._signal("afterRender",n);return}if(n&this.CHANGE_SCROLL){this.$changedLines=null;n&this.CHANGE_TEXT||n&this.CHANGE_LINES?this.$textLayer.update(r):this.$textLayer.scrollLines(r);this.$showGutter&&(n&this.CHANGE_GUTTER||n&this.CHANGE_LINES?this.$gutterLayer.update(r):this.$gutterLayer.scrollLines(r));this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r);this.$markerBack.update(r);this.$markerFront.update(r);this.$cursorLayer.update(r);this.$moveTextAreaToCursor();this._signal("afterRender",n);return}n&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(r),this.$showGutter&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):n&this.CHANGE_LINES?((this.$updateLines()||n&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):n&this.CHANGE_TEXT||n&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r)):n&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(r),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(r));n&this.CHANGE_CURSOR&&(this.$cursorLayer.update(r),this.$moveTextAreaToCursor());n&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(r);n&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(r);this._signal("afterRender",n)},n.prototype.$autosize=function(){var i=this.session.getScreenLength()*this.lineHeight,r=this.$maxLines*this.lineHeight,n=Math.min(r,Math.max((this.$minLines||1)*this.lineHeight,i))+this.scrollMargin.v+(this.$extraHeight||0),u,t,f;this.$horizScroll&&(n+=this.scrollBarH.getHeight());this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);u=n<=2*this.lineHeight;t=!u&&i>r;(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||t!=this.$vScroll)&&(t!=this.$vScroll&&(this.$vScroll=t,this.scrollBarV.setVisible(t)),f=this.container.clientWidth,this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,f,n),this.desiredHeight=n,this._signal("autosize"))},n.prototype.$computeLayerConfig=function(){var i=this.session,n=this.$size,k=n.height<=2*this.lineHeight,nt=this.session.getScreenLength(),e=nt*this.lineHeight,r=this.$getLongestLine(),v=!k&&(this.$hScrollBarAlwaysVisible||n.scrollerWidth-r-2*this.$padding<0),y=this.$horizScroll!==v,d,o,p,u,s,h,b,a;y&&(this.$horizScroll=v,this.scrollBarH.setVisible(v));d=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();o=n.scrollerHeight+this.lineHeight;p=!this.$maxLines&&this.$scrollPastEnd?(n.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;e+=p;u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,e-n.scrollerHeight+u.bottom)));this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-n.scrollerWidth+u.right)));s=!k&&(this.$vScrollBarAlwaysVisible||n.scrollerHeight-e+p<0||this.scrollTop>u.top);h=d!==s;h&&(this.$vScroll=s,this.scrollBarV.setVisible(s));var c=this.scrollTop%this.lineHeight,tt=Math.ceil(o/this.lineHeight)-1,t=Math.max(0,Math.round((this.scrollTop-c)/this.lineHeight)),l=t+tt,w,g,f=this.lineHeight;return t=i.screenToDocumentRow(t,0),b=i.getFoldLine(t),b&&(t=b.start.row),w=i.documentToScreenRow(t,0),g=i.getRowLength(t)*f,l=Math.min(i.screenToDocumentRow(l,0),i.getLength()-1),o=n.scrollerHeight+i.getRowLength(l)*f+g,c=this.scrollTop-w*f,a=0,(this.layerConfig.width!=r||y)&&(a=this.CHANGE_H_SCROLL),(y||h)&&(a|=this.$updateCachedSize(!0,this.gutterWidth,n.width,n.height),this._signal("scrollbarVisibilityChanged"),h&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:t,firstRowScreen:w,lastRow:l,lineHeight:f,characterWidth:this.characterWidth,minHeight:o,maxHeight:e,offset:c,gutterOffset:f?Math.max(0,Math.ceil((c+n.height-n.scrollerHeight)/f)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),a},n.prototype.$updateLines=function(){var i,t,n;if(this.$changedLines&&(i=this.$changedLines.firstRow,t=this.$changedLines.lastRow,this.$changedLines=null,n=this.layerConfig,!(i>n.lastRow+1))&&!(t<n.firstRow)){if(t===Infinity){this.$showGutter&&this.$gutterLayer.update(n);this.$textLayer.update(n);return}return this.$textLayer.updateLines(n,i,t),!0}},n.prototype.$getLongestLine=function(){var n=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(n+=1),this.$textLayer&&n>this.$textLayer.MAX_LINE_LENGTH&&(n=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(n*this.characterWidth))},n.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0));this.$loop.schedule(this.CHANGE_MARKER_FRONT)},n.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers());this.$loop.schedule(this.CHANGE_MARKER_BACK)},n.prototype.addGutterDecoration=function(n,t){this.$gutterLayer.addGutterDecoration(n,t)},n.prototype.removeGutterDecoration=function(n,t){this.$gutterLayer.removeGutterDecoration(n,t)},n.prototype.updateBreakpoints=function(n){this._rows=n;this.$loop.schedule(this.CHANGE_GUTTER)},n.prototype.setAnnotations=function(n){this.$gutterLayer.setAnnotations(n);this.$loop.schedule(this.CHANGE_GUTTER)},n.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},n.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},n.prototype.showCursor=function(){this.$cursorLayer.showCursor()},n.prototype.scrollSelectionIntoView=function(n,t,i){this.scrollCursorIntoView(n,i);this.scrollCursorIntoView(t,i)},n.prototype.scrollCursorIntoView=function(n,t,i){var f,e,o;if(this.$size.scrollerHeight!==0){var h=this.$cursorLayer.getPixelPosition(n),u=h.left,r=h.top,c=i&&i.top||0,s=i&&i.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);f=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;f+c>r?(t&&f+c>r+this.lineHeight&&(r-=t*this.$size.scrollerHeight),r===0&&(r=-this.scrollMargin.top),this.session.setScrollTop(r)):f+this.$size.scrollerHeight-s<r+this.lineHeight&&(t&&f+this.$size.scrollerHeight-s<r-this.lineHeight&&(r+=t*this.$size.scrollerHeight),this.session.setScrollTop(r+this.lineHeight+s-this.$size.scrollerHeight));e=this.scrollLeft;o=2*this.layerConfig.characterWidth;u-o<e?(u-=o,u<this.$padding+o&&(u=-this.scrollMargin.left),this.session.setScrollLeft(u)):(u+=o,e+this.$size.scrollerWidth<u+this.characterWidth?this.session.setScrollLeft(Math.round(u+this.characterWidth-this.$size.scrollerWidth)):e<=this.$padding&&u-e<this.characterWidth&&this.session.setScrollLeft(0))}},n.prototype.getScrollTop=function(){return this.session.getScrollTop()},n.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},n.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},n.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},n.prototype.scrollToRow=function(n){this.session.setScrollTop(n*this.lineHeight)},n.prototype.alignCursor=function(n,t){typeof n=="number"&&(n={row:n,column:0});var r=this.$cursorLayer.getPixelPosition(n),u=this.$size.scrollerHeight-this.lineHeight,i=r.top-u*(t||0);return this.session.setScrollTop(i),i},n.prototype.$calcSteps=function(n,t){for(var i=0,u=this.STEPS,r=[],f=function(n,t,i){return i*(Math.pow(n-1,3)+1)+t},i=0;i<u;++i)r.push(f(i/this.STEPS,n,t-n));return r},n.prototype.scrollToLine=function(n,t,i,r){var e=this.$cursorLayer.getPixelPosition({row:n,column:0}),u=e.top,f;t&&(u-=this.$size.scrollerHeight/2);f=this.scrollTop;this.session.setScrollTop(u);i!==!1&&this.animateScrolling(f,r)},n.prototype.animateScrolling=function(n,t){function e(){i.$timer=clearInterval(i.$timer);i.$scrollAnimation=null;i.$stopAnimation=!1;t&&t()}var r=this.scrollTop,i,f,u;this.$animatedScroll&&(i=this,n!=r)&&(this.$scrollAnimation&&(f=this.$scrollAnimation.steps,f.length&&(n=f[0],n==r))||(u=i.$calcSteps(n,r),this.$scrollAnimation={from:n,to:r,steps:u},clearInterval(this.$timer),i.session.setScrollTop(u.shift()),i.session.$scrollTop=r,this.$timer=setInterval(function(){if(i.$stopAnimation){e();return}if(!i.session)return clearInterval(i.$timer);u.length?(i.session.setScrollTop(u.shift()),i.session.$scrollTop=r):r!=null?(i.session.$scrollTop=-1,i.session.setScrollTop(r),r=null):e()},10)))},n.prototype.scrollToY=function(n){this.scrollTop!==n&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=n)},n.prototype.scrollToX=function(n){this.scrollLeft!==n&&(this.scrollLeft=n);this.$loop.schedule(this.CHANGE_H_SCROLL)},n.prototype.scrollTo=function(n,t){this.session.setScrollTop(t);this.session.setScrollLeft(n)},n.prototype.scrollBy=function(n,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t);n&&this.session.setScrollLeft(this.session.getScrollLeft()+n)},n.prototype.isScrollableBy=function(n,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top?!0:t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom?!0:n<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left?!0:n>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right?!0:void 0},n.prototype.pixelToScreenCoordinates=function(n,t){var i,r;this.$hasCssTransforms?(i={top:0,left:0},r=this.$fontMetrics.transformCoordinates([n,t]),n=r[1]-this.gutterWidth-this.margin.left,t=r[0]):i=this.scroller.getBoundingClientRect();var f=n+this.scrollLeft-i.left-this.$padding,u=f/this.characterWidth,o=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),e=this.$blockCursor?Math.floor(u):Math.round(u);return{row:o,column:e,side:u-e>0?1:-1,offsetX:f}},n.prototype.screenToTextCoordinates=function(n,t){var i,r;this.$hasCssTransforms?(i={top:0,left:0},r=this.$fontMetrics.transformCoordinates([n,t]),n=r[1]-this.gutterWidth-this.margin.left,t=r[0]):i=this.scroller.getBoundingClientRect();var u=n+this.scrollLeft-i.left-this.$padding,f=u/this.characterWidth,e=this.$blockCursor?Math.floor(f):Math.round(f),o=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(o,Math.max(e,0),u)},n.prototype.textToScreenCoordinates=function(n,t){var r=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(n,t),u=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,n)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),f=i.row*this.lineHeight;return{pageX:r.left+u-this.scrollLeft,pageY:r.top+f-this.scrollTop}},n.prototype.visualizeFocus=function(){i.addCssClass(this.container,"ace_focus")},n.prototype.visualizeBlur=function(){i.removeCssClass(this.container,"ace_focus")},n.prototype.showComposition=function(n){this.$composition=n;n.cssText||(n.cssText=this.textarea.style.cssText);n.useTextareaForIME==undefined&&(n.useTextareaForIME=this.$useTextareaForIME);this.$useTextareaForIME?(i.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):n.markerId=this.session.addMarker(n.markerRange,"ace_composition_marker","text")},n.prototype.setCompositionText=function(n){var t=this.session.selection.cursor;this.addToken(n,"composition_placeholder",t.row,t.column);this.$moveTextAreaToCursor()},n.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId);i.removeCssClass(this.textarea,"ace_composition");this.textarea.style.cssText=this.$composition.cssText;var n=this.session.selection.cursor;this.removeExtraToken(n.row,n.column);this.$composition=null;this.$cursorLayer.element.style.display=""}},n.prototype.setGhostText=function(n,t){var u=this.session.selection.cursor,i=t||{row:u.row,column:u.column},r;if(this.removeGhostText(),r=n.split("\n"),this.addToken(r[0],"ghost_text",i.row,i.column),this.$ghostText={text:n,position:{row:i.row,column:i.column}},r.length>1){this.$ghostTextWidget={text:r.slice(1).join("\n"),row:i.row,column:i.column,className:"ace_ghost_text"};this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var f=this.$cursorLayer.getPixelPosition(i,!0),s=this.container,e=s.getBoundingClientRect().height,o=r.length*this.lineHeight,h=o<e-f.top;if(h)return;o<e?this.scrollBy(0,(r.length-1)*this.lineHeight):this.scrollBy(0,f.top)}},n.prototype.removeGhostText=function(){if(this.$ghostText){var n=this.$ghostText.position;this.removeExtraToken(n.row,n.column);this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null);this.$ghostText=null}},n.prototype.addToken=function(n,t,i,r){var h=this.session,s,f,o,e,u;if(h.bgTokenizer.lines[i]=null,s={type:t,value:n},f=h.getTokens(i),r!=null&&f.length){for(o=0,e=0;e<f.length;e++)if(u=f[e],o+=u.value.length,r<=o){var c=u.value.length-(o-r),l=u.value.slice(0,c),a=u.value.slice(c);f.splice(e,1,{type:u.type,value:l},s,{type:u.type,value:a});break}}else f.push(s);this.updateLines(i,i)},n.prototype.removeExtraToken=function(n){this.session.bgTokenizer.lines[n]=null;this.updateLines(n,n)},n.prototype.setTheme=function(n,t){function f(u){if(r.$themeId!=n)return t&&t();if(!u||!u.cssClass)throw new Error("couldn't load module "+n+" or it didn't call define");u.$id&&(r.$themeId=u.$id);i.importCssString(u.cssText,u.cssClass,r.container);r.theme&&i.removeCssClass(r.container,r.theme.cssClass);var f="padding"in u?u.padding:"padding"in(r.theme||{})?4:r.$padding;r.$padding&&f!=r.$padding&&r.setPadding(f);r.$theme=u.cssClass;r.theme=u;i.addCssClass(r.container,u.cssClass);i.setCssClass(r.container,"ace_dark",u.isDark);r.$size&&(r.$size.width=0,r.$updateSizeAsync());r._dispatchEvent("themeLoaded",{theme:u});t&&t()}var r=this,e;this.$themeId=n;r._dispatchEvent("themeChange",{theme:n});n&&typeof n!="string"?f(n):(e=n||this.$options.theme.initialValue,u.loadModule(["theme",e],f))},n.prototype.getTheme=function(){return this.$themeId},n.prototype.setStyle=function(n,t){i.setCssClass(this.container,n,t!==!1)},n.prototype.unsetStyle=function(n){i.removeCssClass(this.container,n)},n.prototype.setCursorStyle=function(n){i.setStyle(this.scroller.style,"cursor",n)},n.prototype.setMouseCursor=function(n){i.setStyle(this.scroller.style,"cursor",n)},n.prototype.attachToShadowRoot=function(){i.importCssString(h,"ace_editor.css",this.container)},n.prototype.destroy=function(){this.freeze();this.$fontMetrics.destroy();this.$cursorLayer.destroy();this.removeAllListeners();this.container.textContent="";this.setOption("useResizeObserver",!1)},n.prototype.$updateCustomScrollbar=function(n){var t=this;this.$horizScroll=this.$vScroll=null;this.scrollBarV.element.remove();this.scrollBarH.element.remove();this.$scrollDecorator&&delete this.$scrollDecorator;n===!0?(this.scrollBarV=new w(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollTop(n.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollLeft(n.data-t.scrollMargin.left)}),this.$scrollDecorator=new g(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new s(this.container,this),this.scrollBarH=new o(this.container,this),this.scrollBarV.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollTop(n.data-t.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(n){t.$scrollAnimation||t.session.setScrollLeft(n.data-t.scrollMargin.left)}))},n.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var n=this;this.$resizeTimer=l.delayedCall(function(){n.destroyed||n.onResize()},50);this.$resizeObserver=new window.ResizeObserver(function(t){var i=t[0].contentRect.width,r=t[0].contentRect.height;Math.abs(n.$size.width-i)>1||Math.abs(n.$size.height-r)>1?n.$resizeTimer.delay():n.$resizeTimer.cancel()});this.$resizeObserver.observe(this.container)}},n}();r.prototype.CHANGE_CURSOR=1;r.prototype.CHANGE_MARKER=2;r.prototype.CHANGE_GUTTER=4;r.prototype.CHANGE_SCROLL=8;r.prototype.CHANGE_LINES=16;r.prototype.CHANGE_TEXT=32;r.prototype.CHANGE_SIZE=64;r.prototype.CHANGE_MARKER_BACK=128;r.prototype.CHANGE_MARKER_FRONT=256;r.prototype.CHANGE_FULL=512;r.prototype.CHANGE_H_SCROLL=1024;r.prototype.$changes=0;r.prototype.$padding=null;r.prototype.$frozen=!1;r.prototype.STEPS=8;c.implement(r.prototype,d);u.defineOptions(r.prototype,"renderer",{useResizeObserver:{set:function(n){!n&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):n&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(n){this.$textLayer.setShowInvisibles(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(n){typeof n=="number"&&(this.$printMarginColumn=n);this.$showPrintMargin=!!n;this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(n){this.$gutter.style.display=n?"block":"none";this.$loop.schedule(this.CHANGE_FULL);this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(n){this.$gutterLayer.$useSvgGutterIcons=n},initialValue:!1},showFoldedAnnotations:{set:function(n){this.$gutterLayer.$showFoldedAnnotations=n},initialValue:!1},fadeFoldWidgets:{set:function(n){i.setCssClass(this.$gutter,"ace_fade-fold-widgets",n)},initialValue:!1},showFoldWidgets:{set:function(n){this.$gutterLayer.setShowFoldWidgets(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(n){this.$textLayer.setDisplayIndentGuides(n)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(n){this.$textLayer.setHighlightIndentGuides(n)==1?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(n){this.$gutterLayer.setHighlightGutterLine(n);this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(n){typeof n=="number"&&(n+="px");this.container.style.fontSize=n;this.updateFontSize()},initialValue:12},fontFamily:{set:function(n){this.container.style.fontFamily=n;this.updateFontSize()}},maxLines:{set:function(){this.updateFull()}},minLines:{set:function(){this.$minLines<562949953421311||(this.$minLines=0);this.updateFull()}},maxPixelHeight:{set:function(){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(n){(n=+n||0,this.$scrollPastEnd!=n)&&(this.$scrollPastEnd=n,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(n){this.$gutterLayer.$fixedWidth=!!n;this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(n){this.$updateCustomScrollbar(n)},initialValue:!1},theme:{set:function(n){this.setTheme(n)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!f.isMobile&&!f.isIE}});t.VirtualRenderer=r});define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(n,t){"use strict";function s(n){var i="importScripts('"+f.qualifyURL(n)+"');",r,t;try{return new Blob([i],{type:"application/javascript"})}catch(u){return r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,t=new r,t.append(i),t.getBlob("application/javascript")}}function u(n){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(i.get("loadWorkerFromBlob")){var t=s(n),r=window.URL||window.webkitURL,u=r.createObjectURL(t);return new Worker(u)}return new Worker(n)}var h=n("../lib/oop"),f=n("../lib/net"),e=n("../lib/event_emitter").EventEmitter,i=n("../config"),r=function(n){n.postMessage||(n=this.$createWorkerFromOldConfig.apply(this,arguments));this.$worker=n;this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this);this.changeListener=this.changeListener.bind(this);this.onMessage=this.onMessage.bind(this);this.callbackId=1;this.callbacks={};this.$worker.onmessage=this.onMessage},o;(function(){h.implement(this,e);this.$createWorkerFromOldConfig=function(t,r,f,e,o){var s,h;return n.nameToUrl&&!n.toUrl&&(n.toUrl=n.nameToUrl),i.get("packaged")||!n.toUrl?e=e||i.moduleUrl(r,"worker"):(s=this.$normalizePath,e=e||s(n.toUrl("ace/worker/worker.js",null,"_")),h={},t.forEach(function(t){h[t]=s(n.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})),this.$worker=u(e),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:h,module:r,classname:f}),this.$worker};this.onMessage=function(n){var t=n.data,i;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}};this.reportError=function(n){window.console&&console.error&&console.error(n)};this.$normalizePath=function(n){return f.qualifyURL(n)};this.terminate=function(){this._signal("terminate",{});this.deltaQueue=null;this.$worker.terminate();this.$worker.onerror=function(n){n.preventDefault()};this.$worker=null;this.$doc&&this.$doc.off("change",this.changeListener);this.$doc=null};this.send=function(n,t){this.$worker.postMessage({command:n,args:t})};this.call=function(n,t,i){if(i){var r=this.callbackId++;this.callbacks[r]=i;t.push(r)}this.send(n,t)};this.emit=function(n,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code});this.$worker&&this.$worker.postMessage({event:n,data:{data:t.data}})}catch(i){console.error(i.stack)}};this.attachToDocument=function(n){this.$doc&&this.terminate();this.$doc=n;this.call("setValue",[n.getValue()]);n.on("change",this.changeListener,!0)};this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0));n.action=="insert"?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)};this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))}}).call(r.prototype);o=function(n,t,u){var o=null,l=!1,f=Object.create(e),s=[],c=new r({messageBuffer:s,terminate:function(){},postMessage:function(n){(s.push(n),o)&&(l?setTimeout(h):h())}}),h;return c.setEmitSync=function(n){l=n},h=function(){var n=s.shift();n.command?o[n.command].apply(o,n.args):n.event&&f._signal(n.event,n.data)},f.postMessage=function(n){c.onMessage({data:n})},f.callback=function(n,t){this.postMessage({type:"call",id:t,data:n})},f.emit=function(n,t){this.postMessage({type:"event",name:n,data:t})},i.loadModule(["worker",t],function(n){for(o=new n[u](f);s.length;)h()}),c};t.UIWorkerClient=o;t.WorkerClient=r;t.createWorker=u});define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(n,t){"use strict";var i=n("./range").Range,u=n("./lib/event_emitter").EventEmitter,f=n("./lib/oop"),r=function(){function n(n,t,i,r,u,f){var o=this,e;this.length=t;this.session=n;this.doc=n.getDocument();this.mainClass=u;this.othersClass=f;this.$onUpdate=this.onUpdate.bind(this);this.doc.on("change",this.$onUpdate,!0);this.$others=r;this.$onCursorChange=function(){setTimeout(function(){o.onCursorChange()})};this.$pos=i;e=n.getUndoManager().$undoStack||n.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=e.length;this.setup();n.selection.on("changeCursor",this.$onCursorChange)}return n.prototype.setup=function(){var u=this,r=this.doc,t=this.session,n;this.selectionBefore=t.selection.toJSON();t.selection.inMultiSelectMode&&t.selection.toSingleRange();this.pos=r.createAnchor(this.$pos.row,this.$pos.column);n=this.pos;n.$insertRight=!0;n.detach();n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1);this.others=[];this.$others.forEach(function(n){var t=r.createAnchor(n.row,n.column);t.$insertRight=!0;t.detach();u.others.push(t)});t.setUndoSelect(!1)},n.prototype.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,n=this;this.othersActive=!0;this.others.forEach(function(r){r.markerId=t.addMarker(new i(r.row,r.column,r.row,r.column+n.length),n.othersClass,null,!1)})}},n.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var n=0;n<this.others.length;n++)this.session.removeMarker(this.others[n].markerId)}},n.prototype.onUpdate=function(n){var t,r,f,u;if(this.$updating)return this.updateAnchors(n);if((t=n,t.start.row===t.end.row)&&t.start.row===this.pos.row){this.$updating=!0;var e=n.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(n),o&&(this.length+=e),o&&!this.session.$fromUndo)if(n.action==="insert")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.insertMergedLines(u,n.lines);else if(n.action==="remove")for(r=this.others.length-1;r>=0;r--)f=this.others[r],u={row:f.row,column:f.column+s},this.doc.remove(new i(u.row,u.column,u.row,u.column-e));this.$updating=!1;this.updateMarkers()}},n.prototype.updateAnchors=function(n){this.pos.onChange(n);for(var t=this.others.length;t--;)this.others[t].onChange(n);this.updateMarkers()},n.prototype.updateMarkers=function(){var n;if(!this.$updating){var u=this,t=this.session,r=function(n,r){t.removeMarker(n.markerId);n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+u.length),r,null,!1)};for(r(this.pos,this.mainClass),n=this.others.length;n--;)r(this.others[n],this.othersClass)}},n.prototype.onCursorChange=function(n){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}},n.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId);this.hideOtherMarkers();this.doc.off("change",this.$onUpdate);this.session.selection.off("changeCursor",this.$onCursorChange);this.session.setUndoSelect(!0);this.session=null},n.prototype.cancel=function(){var n,i,t;if(this.$undoStackDepth!==-1){for(n=this.session.getUndoManager(),i=(n.$undoStack||n.$undostack).length-this.$undoStackDepth,t=0;t<i;t++)n.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},n}();f.implement(r.prototype,u);t.PlaceHolder=r});define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(n,t){function i(n,t){return n.row==t.row&&n.column==t.column}function u(n){var c=n.domEvent,h=c.altKey,l=c.shiftKey,k=c.ctrlKey,a=n.getAccelKey(),p=n.getButton(),o,b,y,e,it,ut,ft,et;if(k&&r.isMac&&(p=c.button),n.editor.inMultiSelectMode&&p==2){n.editor.textInput.onContextMenu(n.domEvent);return}if(!k&&!h&&!a){p===0&&n.editor.inMultiSelectMode&&n.editor.exitMultiSelectMode();return}if(p===0){var t=n.editor,u=t.selection,v=t.inMultiSelectMode,d=n.getDocumentPosition(),ot=u.getCursor(),st=n.inSelection()||u.isEmpty()&&i(d,ot),g=n.x,nt=n.y,ht=function(n){g=n.clientX;nt=n.clientY},rt=t.session,tt=t.renderer.pixelToScreenCoordinates(g,nt),w=tt,s;if(t.$mouseHandler.$enableJumpToDef)k&&h||a&&h?s=l?"block":"add":h&&t.$blockSelectEnabled&&(s="block");else if(a&&!h){if(s="add",!v&&l)return}else h&&t.$blockSelectEnabled&&(s="block");if(s&&r.isMac&&c.ctrlKey&&t.$mouseHandler.cancelContextMenu(),s=="add"){if(!v&&st)return;v||(o=u.toOrientedRange(),t.addSelectionMarker(o));b=u.rangeList.rangeAtPoint(d);t.inVirtualSelectionMode=!0;l&&(b=null,o=u.ranges[0]||o,t.removeSelectionMarker(o));t.once("mouseup",function(){var n=u.toOrientedRange();b&&n.isEmpty()&&i(b.cursor,n.cursor)?u.substractPoint(n.cursor):(l?u.substractPoint(o.cursor):o&&(t.removeSelectionMarker(o),u.addRange(o)),u.addRange(n));t.inVirtualSelectionMode=!1})}else if(s=="block")return n.stop(),t.inVirtualSelectionMode=!0,e=[],it=function(){var n=t.renderer.pixelToScreenCoordinates(g,nt),r=rt.screenToDocumentPosition(n.row,n.column,n.offsetX);i(w,n)&&i(r,u.lead)||(w=n,t.selection.moveToPosition(r),t.renderer.scrollCursorIntoView(),t.removeSelectionMarkers(e),e=u.rectangularRangeBlock(w,tt),t.$mouseHandler.$clickSelection&&e.length==1&&e[0].isEmpty()&&(e[0]=t.$mouseHandler.$clickSelection.clone()),e.forEach(t.addSelectionMarker,t),t.updateSelectionMarkers())},v&&!a?u.toSingleRange():!v&&a&&(y=u.toOrientedRange(),t.addSelectionMarker(y)),l?tt=rt.documentToScreenPosition(u.lead):u.moveToPosition(d),w={row:-1,column:-1},ut=function(){it();clearInterval(et);t.removeSelectionMarkers(e);e.length||(e=[u.toOrientedRange()]);y&&(t.removeSelectionMarker(y),u.toSingleRange(y));for(var n=0;n<e.length;n++)u.addRange(e[n]);t.inVirtualSelectionMode=!1;t.$mouseHandler.$clickSelection=null},ft=it,f.capture(t.container,ht,ut),et=setInterval(function(){ft()},20),n.preventDefault()}}var f=n("../lib/event"),r=n("../lib/useragent");t.onMouseDown=u});define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(n,t){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(n){n.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(n){n.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(n){n.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(n){n.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(n){n.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(n){n.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(n){n.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(n){n.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(n){n.multiSelect.rangeCount>1?n.multiSelect.joinSelections():n.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(n){n.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(n){n.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(n){n.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}];t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(n){n.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(n){return n&&n.inMultiSelectMode}}];var i=n("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)});define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(n,t){function l(n,t,i){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=i==-1,u.find(n)}function a(n,t){return n.row==t.row&&n.column==t.column}function s(n){n.$multiselectOnSessionChange||(n.$onAddRange=n.$onAddRange.bind(n),n.$onRemoveRange=n.$onRemoveRange.bind(n),n.$onMultiSelect=n.$onMultiSelect.bind(n),n.$onSingleSelect=n.$onSingleSelect.bind(n),n.$multiselectOnSessionChange=t.onSessionChange.bind(n),n.$checkMultiselectChange=n.$checkMultiselectChange.bind(n),n.$multiselectOnSessionChange(n),n.on("changeSession",n.$multiselectOnSessionChange),n.on("mousedown",f),n.commands.addCommands(r.defaultCommands),v(n))}function v(n){function i(){t&&(n.renderer.setMouseCursor(""),t=!1)}if(n.textInput){var r=n.textInput.getElement(),t=!1;e.addListener(r,"keydown",function(r){var u=r.keyCode==18&&!(r.ctrlKey||r.shiftKey||r.metaKey);n.$blockSelectEnabled&&u?t||(n.renderer.setMouseCursor("crosshair"),t=!0):t&&i()},n);e.addListener(r,"keyup",i,n);e.addListener(r,"blur",i,n)}}var y=n("./range_list").RangeList,i=n("./range").Range,h=n("./selection").Selection,f=n("./mouse/multi_select_handler").onMouseDown,e=n("./lib/event"),c=n("./lib/lang"),r=n("./commands/multi_select_commands"),o;t.commands=r.defaultCommands.concat(r.multiSelectCommands);var p=n("./search").Search,u=new p,w=n("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(w.prototype),function(){this.ranges=null;this.rangeList=null;this.addRange=function(n,t){var i,r;if(n){if(!this.inMultiSelectMode&&this.rangeCount===0){if(i=this.toOrientedRange(),this.rangeList.add(i),this.rangeList.add(n),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),t||this.fromOrientedRange(n);this.rangeList.removeAll();this.rangeList.add(i);this.$onAddRange(i)}return n.cursor||(n.cursor=n.end),r=this.rangeList.add(n),this.$onAddRange(n),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(n)}};this.toSingleRange=function(n){n=n||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t);n&&this.fromOrientedRange(n)};this.substractPoint=function(n){var t=this.rangeList.substractPoint(n);if(t)return this.$onRemoveRange(t),t[0]};this.mergeOverlappingRanges=function(){var n=this.rangeList.merge();n.length&&this.$onRemoveRange(n)};this.$onAddRange=function(n){this.rangeCount=this.rangeList.ranges.length;this.ranges.unshift(n);this._signal("addRange",{range:n})};this.$onRemoveRange=function(n){var t,i,r;for(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode&&(t=this.rangeList.ranges.pop(),n.push(t),this.rangeCount=0),i=n.length;i--;)r=this.ranges.indexOf(n[i]),this.ranges.splice(r,1);this._signal("removeRange",{ranges:n});this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session));t=t||this.ranges[0];t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)};this.$initRangeList=function(){this.rangeList||(this.rangeList=new y,this.ranges=[],this.rangeCount=0)};this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]};this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],n=[],t=0;t<e.length;t++){var u=e[t],r=u.start.row,f=u.end.row;if(r===f)n.push(u.clone());else{for(n.push(new i(r,u.start.column,r,this.session.getLine(r).length));++r<f;)n.push(this.getLineRange(r,!0));n.push(new i(f,0,f,u.end.column))}t!=0||this.isBackwards()||(n=n.reverse())}for(this.toSingleRange(),t=n.length;t--;)this.addRange(n[t])};this.joinSelections=function(){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)};this.toggleBlockSelection=function(){if(this.rangeCount>1){var n=this.rangeList.ranges,t=n[n.length-1],r=i.fromPoints(n[0].start,t.end);this.toSingleRange();this.setSelectionRange(r,t.cursor==t.start)}else{var u=this.session.documentToScreenPosition(this.cursor),f=this.session.documentToScreenPosition(this.anchor),e=this.rectangularRangeBlock(u,f);e.forEach(this.addRange,this)}};this.rectangularRangeBlock=function(n,t,r){var u=[],w=n.column<t.column,y,e,c,p,s,f,o,l,h;if(w)var v=n.column,b=t.column,k=n.offsetX,d=t.offsetX;else var v=t.column,b=n.column,k=t.offsetX,d=n.offsetX;for(y=n.row<t.row,y?(e=n.row,c=t.row):(e=t.row,c=n.row),v<0&&(v=0),e<0&&(e=0),e==c&&(r=!0),s=e;s<=c;s++){if(f=i.fromPoints(this.session.screenToDocumentPosition(s,v,k),this.session.screenToDocumentPosition(s,b,d)),f.isEmpty()){if(p&&a(f.end,p))break;p=f.end}f.cursor=w?f.start:f.end;u.push(f)}if(y&&u.reverse(),!r){for(o=u.length-1;u[o].isEmpty()&&o>0;)o--;if(o>0)for(l=0;u[l].isEmpty();)l++;for(h=o;h>=l;h--)u[h].isEmpty()&&u.splice(h,1)}return u}}.call(h.prototype);o=n("./editor").Editor,function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.addSelectionMarker=function(n){n.cursor||(n.cursor=n.end);var t=this.getSelectionStyle();return n.marker=this.session.addMarker(n,"ace_selection",t),this.session.$selectionMarkers.push(n),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,n};this.removeSelectionMarker=function(n){if(n.marker){this.session.removeMarker(n.marker);var t=this.session.$selectionMarkers.indexOf(n);t!=-1&&this.session.$selectionMarkers.splice(t,1);this.session.selectionMarkerCount=this.session.$selectionMarkers.length}};this.removeSelectionMarkers=function(n){for(var t,r,i=this.session.$selectionMarkers,u=n.length;u--;)(t=n[u],t.marker)&&(this.session.removeMarker(t.marker),r=i.indexOf(t),r!=-1&&i.splice(r,1));this.session.selectionMarkerCount=i.length};this.$onAddRange=function(n){this.addSelectionMarker(n.range);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onRemoveRange=function(n){this.removeSelectionMarkers(n.ranges);this.renderer.updateCursor();this.renderer.updateBackMarkers()};this.$onMultiSelect=function(){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(r.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())};this.$onSingleSelect=function(){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(r.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))};this.$onMultiSelectExec=function(n){var i=n.command,t=n.editor,r;if(t.multiSelect)return i.multiSelectAction?i.multiSelectAction=="forEach"?r=t.forEachSelection(i,n.args):i.multiSelectAction=="forEachLine"?r=t.forEachSelection(i,n.args,!0):i.multiSelectAction=="single"?(t.exitMultiSelectMode(),r=i.exec(t,n.args||{})):r=i.multiSelectAction(t,n.args||{}):(r=i.exec(t,n.args||{}),t.multiSelect.addRange(t.multiSelect.toOrientedRange()),t.multiSelect.mergeOverlappingRanges()),r};this.forEachSelection=function(n,t,i){var a,e,u,l,o;if(!this.inVirtualSelectionMode){var v=i&&i.keepOrder,y=i==1||i&&i.$byLines,s=this.session,r=this.selection,p=r.rangeList,f=(v?r:p).ranges,c;if(!f.length)return n.exec?n.exec(this,t||{}):n(this,t||{});for(a=r._eventRegistry,r._eventRegistry={},e=new h(s),this.inVirtualSelectionMode=!0,u=f.length;u--;){if(y)while(u>0&&f[u].start.row==f[u-1].end.row)u--;e.fromOrientedRange(f[u]);e.index=u;this.selection=s.selection=e;l=n.exec?n.exec(this,t||{}):n(this,t||{});c||l===undefined||(c=l);e.toOrientedRange(f[u])}return e.detach(),this.selection=s.selection=r,this.inVirtualSelectionMode=!1,r._eventRegistry=a,r.mergeOverlappingRanges(),r.ranges[0]&&r.fromOrientedRange(r.ranges[0]),o=this.renderer.$scrollAnimation,this.onCursorChange(),this.onSelectionChange(),o&&o.from==o.to&&this.renderer.animateScrolling(o.from),c}};this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()};this.getSelectedText=function(){var n="",r,t,i,u;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(r=this.multiSelect.rangeList.ranges,t=[],i=0;i<r.length;i++)t.push(this.session.getTextRange(r[i]));u=this.session.getDocument().getNewLineCharacter();n=t.join(u);n.length==(t.length-1)*u.length&&(n="")}else this.selection.isEmpty()||(n=this.session.getTextRange(this.getSelectionRange()));return n};this.$checkMultiselectChange=function(n,t){var i,r;if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){if(i=this.multiSelect.ranges[0],this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;r=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}};this.findAll=function(n,t,i){var u,r,f,e;if(t=t||{},t.needle=n||t.needle,t.needle==undefined&&(u=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(u)),this.$search.set(t),r=this.$search.findAll(this.session),!r.length)return 0;for(f=this.multiSelect,i||f.toSingleRange(r[0]),e=r.length;e--;)f.addRange(r[e],!0);return u&&f.rangeList.rangeAtPoint(u.start)&&f.addRange(u,!0),r.length};this.selectMoreLines=function(n,t){var r=this.selection.toOrientedRange(),c=r.cursor==r.end,f=this.session.documentToScreenPosition(r.cursor),e,s,o,u,h;this.selection.$desiredColumn&&(f.column=this.selection.$desiredColumn);e=this.session.screenToDocumentPosition(f.row+n,f.column);r.isEmpty()?o=e:(s=this.session.documentToScreenPosition(c?r.end:r.start),o=this.session.screenToDocumentPosition(s.row+n,s.column));c?(u=i.fromPoints(e,o),u.cursor=u.start):(u=i.fromPoints(o,e),u.cursor=u.end);u.desiredColumn=f.column;this.selection.inMultiSelectMode?t&&(h=r.cursor):this.selection.addRange(r);this.selection.addRange(u);h&&this.selection.substractPoint(h)};this.transposeSelections=function(n){for(var f,r,t,s,e=this.session,o=e.multiSelect,u=o.ranges,i=u.length;i--;)t=u[i],t.isEmpty()&&(f=e.getWordRange(t.start.row,t.start.column),t.start.row=f.start.row,t.start.column=f.start.column,t.end.row=f.end.row,t.end.column=f.end.column);for(o.mergeOverlappingRanges(),r=[],i=u.length;i--;)t=u[i],r.unshift(e.getTextRange(t));for(n<0?r.unshift(r.pop()):r.push(r.shift()),i=u.length;i--;)t=u[i],s=t.clone(),e.replace(t,r[i]),t.start.row=s.start.row,t.start.column=s.start.column;o.fromOrientedRange(o.ranges[0])};this.selectMore=function(n,t,i){var f=this.session,o=f.multiSelect,r=o.toOrientedRange(),e,u;r.isEmpty()&&(r=f.getWordRange(r.start.row,r.start.column),r.cursor=n==-1?r.start:r.end,this.multiSelect.addRange(r),i)||(e=f.getTextRange(r),u=l(f,e,n),u&&(u.cursor=n==-1?u.start:u.end,this.session.unfold(u),this.multiSelect.addRange(u),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor))};this.alignCursors=function(){var e=this.session,l=e.multiSelect,t=l.ranges,y=-1,p=t.filter(function(n){if(n.cursor.row==y)return!0;y=n.cursor.row}),o,s,u;if(t.length&&p.length!=t.length-1){p.forEach(function(n){l.substractPoint(n.cursor)});var h=0,v=Infinity,w=t.map(function(n){var i=n.cursor,r=e.getLine(i.row),t=r.substr(i.column).search(/\S/g);return t==-1&&(t=0),i.column>h&&(h=i.column),t<v&&(v=t),t});t.forEach(function(n,t){var r=n.cursor,u=h-r.column,f=w[t]-v;u>f?e.insert(r,c.stringRepeat(" ",u-f)):e.remove(new i(r.row,r.column,r.row,r.column-u+f));n.start.column=n.end.column=h;n.start.row=n.end.row=r.row;n.cursor=n.end});l.fromOrientedRange(t[0]);this.renderer.updateCursor();this.renderer.updateBackMarkers()}else{var f=this.selection.getRange(),n=f.start.row,r=f.end.row,a=n==r;if(a){o=this.session.getLength();do s=this.session.getLine(r);while(/[=:]/.test(s)&&++r<o);do s=this.session.getLine(n);while(/[=:]/.test(s)&&--n>0);n<0&&(n=0);r>=o&&(r=o-1)}u=this.session.removeFullLines(n,r);u=this.$reAlignText(u,a);this.session.insert({row:n,column:0},u.join("\n")+"\n");a||(f.start.column=0,f.end.column=u[u.length-1].length);this.selection.setRange(f)}};this.$reAlignText=function(n,t){function u(n){return c.stringRepeat(" ",n)}function e(n){return n[2]?u(i)+n[2]+u(f-n[2].length+r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function h(n){return n[2]?u(i+f-n[2].length)+n[2]+u(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}function l(n){return n[2]?u(i)+n[2]+u(r)+n[4].replace(/^([=:])\s+/,"$1 "):n[0]}var o=!0,s=!0,i,f,r;return n.map(function(n){var t=n.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?i==null?(i=t[1].length,f=t[2].length,r=t[3].length,t):(i+f+r!=t[1].length+t[2].length+t[3].length&&(s=!1),i!=t[1].length&&(o=!1),i>t[1].length&&(i=t[1].length),f<t[2].length&&(f=t[2].length),r>t[3].length&&(r=t[3].length),t):[n]}).map(t?e:o?s?h:e:l)}}.call(o.prototype);t.onSessionChange=function(n){var t=n.session,i;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection);this.multiSelect=t&&t.multiSelect;i=n.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange));t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange));t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};t.MultiSelect=s;n("./config").defineOptions(o.prototype,"editor",{enableMultiselect:{set:function(n){s(this);n?this.on("mousedown",f):this.off("mousedown",f)},value:!0},enableBlockSelect:{set:function(n){this.$blockSelectEnabled=n},value:!0}})});define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(n,t){"use strict";var i=n("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null;this.foldingStopMarker=null;this.getFoldWidget=function(n,t,i){var r=n.getLine(i);return this.foldingStartMarker.test(r)?"start":t=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""};this.getFoldWidgetRange=function(){return null};this.indentationBlock=function(n,t,r){var o=/\S/,s=n.getLine(t),h=s.search(o),f,e,l;if(h!=-1){for(var a=r||s.length,v=n.getLength(),c=t,u=t;++t<v;)if(f=n.getLine(t).search(o),f!=-1){if(f<=h&&(e=n.getTokenAt(t,0),!e||e.type!=="string"))break;u=t}if(u>c)return l=n.getLine(u).length,new i(c,a,u,l)}};this.openingBracketBlock=function(n,t,r,u,f){var s={row:r,column:u+1},e=n.$findClosingBracket(t,s,f),o;if(e)return o=n.foldWidgets[e.row],o==null&&(o=n.getFoldWidget(e.row)),o=="start"&&e.row>s.row&&(e.row--,e.column=n.getLine(e.row).length),i.fromPoints(s,e)};this.closingBracketBlock=function(n,t,r,u){var f={row:r,column:u},e=n.$findOpeningBracket(t,f);if(e)return e.column++,f.column--,i.fromPoints(e,f)}}).call(r.prototype)});define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(n,t){"use strict";function u(n,t,i){for(var u=0,f=n.length-1,r,e;u<=f;)if(r=u+f>>1,e=i(t,n[r]),e>0)u=r+1;else{if(!(e<0))return r;f=r-1}return-(u+1)}function f(n,t,i){var o=n.getAnnotations().sort(r.comparePoints),e,f,s;if(o.length&&(e=u(o,{row:t,column:-1},r.comparePoints),e<0&&(e=-e-1),e>=o.length?e=i>0?0:o.length-1:e===0&&i<0&&(e=o.length-1),f=o[e],f&&i)){if(f.row===t){do f=o[e+=i];while(f&&f.row===t);if(!f)return o.slice()}s=[];t=f.row;do s[i<0?"unshift":"push"](f),f=o[e+=i];while(f&&f.row==t);return s.length&&s}}var e=n("../line_widgets").LineWidgets,i=n("../lib/dom"),r=n("../range").Range,o=n("../config").nls;t.showErrorMarker=function(n,t){var s=n.session,v,c,h,b,p;s.widgetManager||(s.widgetManager=new e(s),s.widgetManager.attach(n));var u=n.getCursorPosition(),l=u.row,a=s.widgetManager.getWidgetsAtRow(l).filter(function(n){return n.type=="errorMarker"})[0];if(a?a.destroy():l-=t,v=f(s,l,t),v)h=v[0],u.column=(h.pos&&typeof h.column!="number"?h.pos.sc:h.column)||0,u.row=h.row,c=n.renderer.$gutterLayer.$annotations[u.row];else{if(a)return;c={text:[o("Looks good!")],className:"ace_ok"}}n.session.unfold(u.row);n.selection.moveToPosition(u);var r={row:u.row,fixedWidth:!0,coverGutter:!0,el:i.createElement("div"),type:"errorMarker"},y=r.el.appendChild(i.createElement("div")),w=r.el.appendChild(i.createElement("div"));w.className="error_widget_arrow "+c.className;b=n.renderer.$cursorLayer.getPixelPosition(u).left;w.style.left=b+n.renderer.gutterWidth-5+"px";r.el.className="error_widget_wrapper";y.className="error_widget "+c.className;y.innerHTML=c.text.join("<br>");y.appendChild(i.createElement("div"));p=function(n,t,i){if(t===0&&(i==="esc"||i==="return"))return r.destroy(),{command:"null"}};r.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(p),s.widgetManager.removeLineWidget(r),n.off("changeSelection",r.destroy),n.off("changeSession",r.destroy),n.off("mouseup",r.destroy),n.off("change",r.destroy))};n.keyBinding.addKeyboardHandler(p);n.on("changeSelection",r.destroy);n.on("changeSession",r.destroy);n.on("mouseup",r.destroy);n.on("change",r.destroy);n.session.widgetManager.addLineWidget(r);r.el.onmousedown=n.focus.bind(n);n.renderer.scrollCursorIntoView(null,.5,{bottom:r.el.offsetHeight})};i.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)});define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(n,t){"use strict";n("./loader_build")(t);var e=n("./lib/dom"),o=n("./range").Range,i=n("./editor").Editor,r=n("./edit_session").EditSession,u=n("./undomanager").UndoManager,f=n("./virtual_renderer").VirtualRenderer;n("./worker/worker_client");n("./keyboard/hash_handler");n("./placeholder");n("./multi_select");n("./mode/folding/fold_mode");n("./theme/textmate");n("./ext/error_marker");t.config=n("./config");t.edit=function(n,r){var h,s,o;if(typeof n=="string"&&(h=n,n=document.getElementById(h),!n))throw new Error("ace.edit can't find div #"+h);if(n&&n.env&&n.env.editor instanceof i)return n.env.editor;s="";n&&/input|textarea/i.test(n.tagName)?(o=n,s=o.value,n=e.createElement("pre"),o.parentNode.replaceChild(n,o)):n&&(s=n.textContent,n.innerHTML="");var l=t.createEditSession(s),u=new i(new f(n),l,r),c={document:l,editor:u,onResize:u.resize.bind(u,null)};return o&&(c.textarea=o),u.on("destroy",function(){c.editor.container.env=null}),u.container.env=u.env=c,u};t.createEditSession=function(n,t){var i=new r(n,t);return i.setUndoManager(new u),i};t.Range=o;t.Editor=i;t.EditSession=r;t.UndoManager=u;t.VirtualRenderer=f;t.version=t.config.version}),function(){window.require(["ace/ace"],function(n){var t,i;n&&(n.config.init(!0),n.define=window.define);t=function(){return this}();t||typeof window=="undefined"||(t=window);t||typeof self=="undefined"||(t=self);t.ace||(t.ace=n);for(i in n)n.hasOwnProperty(i)&&(t.ace[i]=n[i]);t.ace["default"]=t.ace;typeof module=="object"&&typeof exports=="object"&&module&&(module.exports=t.ace)})}();jQuery.trumbowyg={langs:{en:{viewHTML:"View HTML",undo:"Undo",redo:"Redo",formatting:"Formatting",p:"Paragraph",blockquote:"Quote",code:"Code",header:"Header",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",strong:"Strong",em:"Emphasis",del:"Deleted",superscript:"Superscript",subscript:"Subscript",unorderedList:"Unordered list",orderedList:"Ordered list",insertImage:"Insert Image",link:"Link",createLink:"Insert link",unlink:"Remove link",_self:"Same tab (default)",_blank:"New tab",justifyLeft:"Align Left",justifyCenter:"Align Center",justifyRight:"Align Right",justifyFull:"Align Justify",horizontalRule:"Insert horizontal rule",removeformat:"Remove format",fullscreen:"Fullscreen",close:"Close",submit:"Confirm",reset:"Cancel",required:"Required",description:"Description",title:"Title",text:"Text",target:"Target",width:"Width"}},plugins:{},svgPath:null,svgAbsoluteUseHref:!1,hideButtonTexts:null};Object.defineProperty(jQuery.trumbowyg,"defaultOptions",{value:{lang:"en",fixedBtnPane:!1,fixedFullWidth:!1,autogrow:!1,autogrowOnEnter:!1,imageWidthModalEdit:!1,hideButtonTexts:null,prefix:"trumbowyg-",tagClasses:{},semantic:!0,semanticKeepAttributes:!1,resetCss:!1,removeformatPasted:!1,tabToIndent:!1,tagsToRemove:[],tagsToKeep:["hr","img","embed","iframe","input"],btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["superscript","subscript"],["link"],["insertImage"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"],["horizontalRule"],["removeformat"],["fullscreen"]],btnsDef:{},changeActiveDropdownIcon:!1,inlineElementsSelector:"a,abbr,acronym,b,caption,cite,code,col,dfn,dir,dt,dd,em,font,hr,i,kbd,li,q,span,strikeout,strong,sub,sup,u",pasteHandlers:[],plugins:{},urlProtocol:!1,minimalLinks:!1,linkTargets:["_self","_blank"],svgPath:null},writable:!1,enumerable:!0,configurable:!1}),function(n,t,i,r){"use strict";var u="tbwconfirm",f="tbwcancel",e;r.fn.trumbowyg=function(n,t){var u="trumbowyg",i;if(n===Object(n)||!n)return this.each(function(){r(this).data(u)||r(this).data(u,new e(this,n))});if(1===this.length)try{i=r(this).data(u);switch(n){case"execCmd":return i.execCmd(t.cmd,t.param,t.forceCss,t.skipTrumbowyg);case"openModal":return i.openModal(t.title,t.content);case"closeModal":return i.closeModal();case"openModalInsert":return i.openModalInsert(t.title,t.fields,t.callback);case"saveRange":return i.saveRange();case"getRange":return i.range;case"getRangeText":return i.getRangeText();case"restoreRange":return i.restoreRange();case"enable":return i.setDisabled(!1);case"disable":return i.setDisabled(!0);case"toggle":return i.toggle();case"destroy":return i.destroy();case"empty":return i.empty();case"html":return i.html(t)}}catch(n){}return!1};e=function(u,f){var e=this,a="trumbowyg-icons",o=r.trumbowyg,s,c,v,h,l;e.doc=u.ownerDocument||i;e.$ta=r(u);e.$c=r(u);e.lang=null!=(f=f||{}).lang||null!=o.langs[f.lang]?r.extend(!0,{},o.langs.en,o.langs[f.lang]):o.langs.en;e.hideButtonTexts=null!=o.hideButtonTexts?o.hideButtonTexts:f.hideButtonTexts;s=null!=o.svgPath?o.svgPath:f.svgPath;(e.hasSvg=!1!==s,!1!==s&&(o.svgAbsoluteUseHref||0===r("#"+a,e.doc).length))&&(null==s&&r("script[src]").each(function(n,t){var i=t.src,r=i.match("trumbowyg(.min)?.js");null!=r&&(s=i.substring(0,i.indexOf(r[0]))+"ui/icons.svg")}),null==s?console.warn("You must define svgPath: https://goo.gl/CfTY9U"):o.svgAbsoluteUseHref||(c=e.doc.createElement("div"),c.id=a,e.doc.body.insertBefore(c,e.doc.body.childNodes[0]),r.ajax({"async":!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",dataType:"xml",crossDomain:!0,url:s,data:null,beforeSend:null,complete:null,success:function(n){c.innerHTML=(new XMLSerializer).serializeToString(n.documentElement)}})));v=e.doc.querySelector("base")?t.location.href.replace(t.location.hash,""):"";e.svgPath=o.svgAbsoluteUseHref?s:v;h=e.lang.header;l=function(){return(t.chrome||t.Intl&&Intl.v8BreakIterator)&&"CSS"in t};e.btnsDef={viewHTML:{fn:"toggle","class":"trumbowyg-not-disable"},undo:{isSupported:l,key:"Z"},redo:{isSupported:l,key:"Y"},p:{fn:"formatBlock"},blockquote:{fn:"formatBlock"},h1:{fn:"formatBlock",title:h+" 1"},h2:{fn:"formatBlock",title:h+" 2"},h3:{fn:"formatBlock",title:h+" 3"},h4:{fn:"formatBlock",title:h+" 4"},h5:{fn:"formatBlock",title:h+" 5"},h6:{fn:"formatBlock",title:h+" 6"},subscript:{tag:"sub"},superscript:{tag:"sup"},bold:{key:"B",tag:"b"},italic:{key:"I",tag:"i"},underline:{tag:"u"},strikethrough:{tag:"strike"},strong:{fn:"bold",key:"B"},em:{fn:"italic",key:"I"},del:{fn:"strikethrough"},createLink:{key:"K",tag:"a"},unlink:{},insertImage:{},justifyLeft:{tag:"left",forceCss:!0},justifyCenter:{tag:"center",forceCss:!0},justifyRight:{tag:"right",forceCss:!0},justifyFull:{tag:"justify",forceCss:!0},unorderedList:{fn:"insertUnorderedList",tag:"ul"},orderedList:{fn:"insertOrderedList",tag:"ol"},horizontalRule:{fn:"insertHorizontalRule"},removeformat:{},fullscreen:{"class":"trumbowyg-not-disable"},close:{fn:"destroy","class":"trumbowyg-not-disable"},formatting:{dropdown:["p","blockquote","h1","h2","h3","h4"],ico:"p"},link:{dropdown:["createLink","unlink"]}};e.o=r.extend(!0,{},o.defaultOptions,f);e.o.hasOwnProperty("imgDblClickHandler")||(e.o.imgDblClickHandler=e.getDefaultImgDblClickHandler());e.urlPrefix=e.setupUrlPrefix();e.disabled=e.o.disabled||"TEXTAREA"===u.nodeName&&u.disabled;f.btns?e.o.btns=f.btns:e.o.semantic||(e.o.btns[3]=["bold","italic","underline","strikethrough"]);r.each(e.o.btnsDef,function(n,t){e.addBtnDef(n,t)});e.eventNamespace="trumbowyg-event";e.keys=[];e.tagToButton={};e.tagHandlers=[];e.pasteHandlers=[].concat(e.o.pasteHandlers);e.isIE=-1!==n.userAgent.indexOf("MSIE")||-1!==n.appVersion.indexOf("Trident/");e.isMac=-1!==n.platform.toUpperCase().indexOf("MAC");e.init()};e.prototype={DEFAULT_SEMANTIC_MAP:{b:"strong",i:"em",s:"del",strike:"del",div:"p"},init:function(){var n=this;n.height=n.$ta.outerHeight()-39;n.initPlugins();try{n.doc.execCommand("enableObjectResizing",!1,!1);n.doc.execCommand("defaultParagraphSeparator",!1,"p")}catch(n){}n.buildEditor();n.buildBtnPane();n.fixedBtnPaneEvents();n.buildOverlay();setTimeout(function(){n.disabled&&n.setDisabled(!0);n.$c.trigger("tbwinit")})},addBtnDef:function(n,t){this.btnsDef[n]=r.extend(t,this.btnsDef[n]||{})},setupUrlPrefix:function(){var n=this.o.urlProtocol;if(n)return"string"!=typeof n?"https://":n.replace("://","")+"://"},buildEditor:function(){var n=this,i=n.o.prefix,f="",o,u,e;n.$box=r("<div/>",{"class":i+"box "+i+"editor-visible "+i+n.o.lang+" trumbowyg"});n.$edBox=r("<div/>",{"class":i+"editor-box"});n.isTextarea=n.$ta.is("textarea");n.isTextarea?(f=n.$ta.val(),n.$ed=r("<div/>").appendTo(n.$edBox),n.$box.insertAfter(n.$ta).append(n.$edBox,n.$ta)):(n.$ed=n.$ta,f=n.$ed.html(),n.$ta=r("<textarea/>",{name:n.$ta.attr("id"),height:n.height}).val(f),n.$box.insertAfter(n.$ed).append(n.$ta,n.$edBox),n.$edBox.append(n.$ed),n.syncCode());n.$ta.addClass(i+"textarea").attr("tabindex",-1);n.$ed.addClass(i+"editor").attr({contenteditable:!0,dir:n.lang._dir||"ltr"}).html(f);n.o.tabindex&&n.$ed.attr("tabindex",n.o.tabindex);n.$c.is("[placeholder]")&&n.$ed.attr("placeholder",n.$c.attr("placeholder"));n.$c.is("[spellcheck]")&&n.$ed.attr("spellcheck",n.$c.attr("spellcheck"));n.o.resetCss&&n.$ed.addClass(i+"reset-css");n.semanticCode();n.o.autogrowOnEnter&&n.$ed.addClass(i+"autogrow-on-enter");u=!1;e=!1;n.$ed.on("dblclick","img",n.o.imgDblClickHandler).on("keydown",function(t){var i=t.which,r;if(8!==i&&13!==i&&46!==i||n.toggleSpan(!0),(t.ctrlKey||t.metaKey)&&!t.altKey){u=!0;r=n.keys[String.fromCharCode(t.which).toUpperCase()];try{return n.execCmd(r.fn,r.param),!1}catch(n){}}else if(n.o.tabToIndent&&"Tab"===t.key)try{return t.shiftKey?n.execCmd("outdent",!0,null):n.execCmd("indent",!0,null),!1}catch(n){}}).on("compositionstart compositionupdate",function(){e=!0}).on("keyup compositionend",function(t){var i,r;if("compositionend"===t.type)e=!1;else if(e)return;i=t.which;i>=37&&i<=40||((8!==i&&13!==i&&46!==i||n.toggleSpan(),(t.ctrlKey||t.metaKey)&&(89===i||90===i))?(n.semanticCode(!1,!0),n.$c.trigger("tbwchange")):u||16===i||17===i?void 0===t.which&&n.semanticCode(!1,!1,!0):(r=!n.isIE||"compositionend"===t.type,n.semanticCode(!1,r&&13===i),n.$c.trigger("tbwchange")),setTimeout(function(){u=!1},50))}).on("input",function(t){var i=t.originalEvent;"object"==typeof i&&("insertReplacementText"===i.inputType||"insertText"===i.inputType&&null===i.data)&&n.$c.trigger("tbwchange")}).on("mouseup keydown keyup",function(t){(t.ctrlKey||t.metaKey)&&!t.altKey||setTimeout(function(){u=!1},50);clearTimeout(o);o=setTimeout(function(){n.updateButtonPaneStatus()},50)}).on("focus blur",function(t){if("blur"===t.type&&n.clearButtonPaneStatus(),n.$c.trigger("tbw"+t.type),n.o.autogrowOnEnter){if(n.autogrowOnEnterDontClose)return;"focus"===t.type?(n.autogrowOnEnterWasFocused=!0,n.autogrowEditorOnEnter()):n.o.autogrow||(n.$edBox.css({height:n.$edBox.css("min-height")}),n.$c.trigger("tbwresize"))}}).on("keyup focus",function(){n.$ta.val().match(/<.*>/)||n.$ed.html().match(/<.*>/)||setTimeout(function(){var t=n.isIE?"<p>":"p";n.doc.execCommand("formatBlock",!1,t);n.syncCode()},0)}).on("cut drop",function(){setTimeout(function(){n.semanticCode(!1,!0);n.$c.trigger("tbwchange")},0)}).on("paste",function(i){if(n.o.removeformatPasted){i.preventDefault();t.getSelection&&t.getSelection().deleteFromDocument&&t.getSelection().deleteFromDocument();try{var u=t.clipboardData.getData("Text");try{n.doc.selection.createRange().pasteHTML(u)}catch(t){n.doc.getSelection().getRangeAt(0).insertNode(n.doc.createTextNode(u))}n.$c.trigger("tbwchange",i)}catch(t){n.execCmd("insertText",(i.originalEvent||i).clipboardData.getData("text/plain"))}}r.each(n.pasteHandlers,function(n,t){t(i)});setTimeout(function(){n.semanticCode(!1,!0);n.$c.trigger("tbwpaste",i);n.$c.trigger("tbwchange")},0)});n.$ta.on("keyup",function(){n.$c.trigger("tbwchange")}).on("paste",function(){setTimeout(function(){n.$c.trigger("tbwchange")},0)});r(n.doc.body).on("keydown."+n.eventNamespace,function(t){if(27===t.which&&r("."+i+"modal-box").length>=1)return n.closeModal(),!1})},autogrowEditorOnEnter:function(){var n=this,t,i;n.$ed.removeClass("autogrow-on-enter");t=n.$ed[0].clientHeight;n.$edBox.height("auto");i=n.$ed[0].scrollHeight;n.$ed.addClass("autogrow-on-enter");t!==i&&(n.$edBox.height(t),setTimeout(function(){n.$edBox.css({height:i});n.$c.trigger("tbwresize")},0))},buildBtnPane:function(){var n=this,t=n.o.prefix,i=n.$btnPane=r("<div/>",{"class":t+"button-pane"});r.each(n.o.btns,function(u,f){Array.isArray(f)||(f=[f]);var e=r("<div/>",{"class":t+"button-group "+(f.indexOf("fullscreen")>=0?t+"right":"")});r.each(f,function(t,i){try{n.isSupportedBtn(i)&&e.append(n.buildBtn(i))}catch(n){}});e.html().trim().length>0&&i.append(e)});n.$box.prepend(i)},buildBtn:function(n){var i=this,u=i.o.prefix,t=i.btnsDef[n],f=t.dropdown,h=null==t.hasIcon||t.hasIcon,l=i.lang[n]||n,c=r("<button/>",{type:"button","class":u+n+"-button "+(t.class||"")+(h?"":" "+u+"textual-button"),html:i.hasSvg&&h?'<svg><use xlink:href="'+i.svgPath+"#"+u+(t.ico||n).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/><\/svg>':i.hideButtonTexts?"":t.text||t.title||i.lang[n]||n,title:(t.title||t.text||l)+(t.key?" ("+(i.isMac?"Cmd":"Ctrl")+" + "+t.key+")":""),tabindex:-1,mousedown:function(){return f&&!r("."+n+"-"+u+"dropdown",i.$box).is(":hidden")||r("body",i.doc).trigger("mousedown"),!((i.$btnPane.hasClass(u+"disable")||i.$box.hasClass(u+"disabled"))&&!r(this).hasClass(u+"active")&&!r(this).hasClass(u+"not-disable"))&&(i.execCmd((f?"dropdown":t.fn)||n,t.param||n,t.forceCss),!1)}}),e,o,s;return f?(c.addClass(u+"open-dropdown"),e=u+"dropdown",o={"class":e+"-"+n+" "+e+" "+u+"fixed-top "+(t.dropdownClass||"")},o["data-"+e]=n,s=r("<div/>",o),r.each(f,function(n,t){i.btnsDef[t]&&i.isSupportedBtn(t)&&s.append(i.buildSubBtn(t))}),i.$box.append(s.hide())):t.key&&(i.keys[t.key]={fn:t.fn||n,param:t.param||n}),f||(i.tagToButton[(t.tag||n).toLowerCase()]=n),c},buildSubBtn:function(n){var i=this,u=i.o.prefix,t=i.btnsDef[n],f=null==t.hasIcon||t.hasIcon;return t.key&&(i.keys[t.key]={fn:t.fn||n,param:t.param||n}),i.tagToButton[(t.tag||n).toLowerCase()]=n,r("<button/>",{type:"button","class":u+n+"-dropdown-button "+(t.class||"")+(t.ico?" "+u+t.ico+"-button":""),html:i.hasSvg&&f?'<svg><use xlink:href="'+i.svgPath+"#"+u+(t.ico||n).replace(/([A-Z]+)/g,"-$1").toLowerCase()+'"/><\/svg>'+(t.text||t.title||i.lang[n]||n):t.text||t.title||i.lang[n]||n,title:t.key?"("+(i.isMac?"Cmd":"Ctrl")+" + "+t.key+")":null,style:t.style||null,mousedown:function(){return r("body",i.doc).trigger("mousedown"),i.execCmd(t.fn||n,t.param||n,t.forceCss),!1}})},isSupportedBtn:function(n){try{return this.btnsDef[n].isSupported()}catch(n){}return!0},buildOverlay:function(){var n=this;return n.$overlay=r("<div/>",{"class":n.o.prefix+"overlay"}).appendTo(n.$box),n.$overlay},showOverlay:function(){var n=this;r(t).trigger("scroll");n.$overlay.fadeIn(200);n.$box.addClass(n.o.prefix+"box-blur")},hideOverlay:function(){var n=this;n.$overlay.fadeOut(50);n.$box.removeClass(n.o.prefix+"box-blur")},fixedBtnPaneEvents:function(){var n=this,u=n.o.fixedFullWidth,i=n.$box;n.o.fixedBtnPane&&(n.isFixed=!1,r(t).on("scroll."+n.eventNamespace+" resize."+n.eventNamespace,function(){if(i){n.syncCode();var e=r(t).scrollTop(),o=i.offset().top+1,f=n.$btnPane,s=f.outerHeight()-2;e-o>0&&e-o-n.height<0?(n.isFixed||(n.isFixed=!0,f.css({position:"fixed",top:0,left:u?0:"auto",zIndex:7}),n.$box.css({paddingTop:f.height()})),f.css({width:u?"100%":i.width()-1}),r("."+n.o.prefix+"fixed-top",i).css({position:u?"fixed":"absolute",top:u?s:s+(e-o),zIndex:15})):n.isFixed&&(n.isFixed=!1,f.removeAttr("style"),n.$box.css({paddingTop:0}),r("."+n.o.prefix+"fixed-top",i).css({position:"absolute",top:s}))}}))},setDisabled:function(n){var t=this,i=t.o.prefix;t.disabled=n;n?t.$ta.attr("disabled",!0):t.$ta.removeAttr("disabled");t.$box.toggleClass(i+"disabled",n);t.$ed.attr("contenteditable",!n)},destroy:function(){var n=this,i=n.o.prefix;n.isTextarea?n.$box.after(n.$ta.css({height:""}).val(n.html()).removeClass(i+"textarea").show()):n.$box.after(n.$edBox.css({height:""}).removeClass(i+"editor").removeAttr("contenteditable").removeAttr("dir").html(n.html()).show());n.$ed.off("dblclick","img");n.destroyPlugins();n.$box.remove();n.$c.removeData("trumbowyg");r("body").removeClass(i+"body-fullscreen");n.$c.trigger("tbwclose");r(t).off("scroll."+n.eventNamespace+" resize."+n.eventNamespace);r(n.doc.body).off("keydown."+n.eventNamespace)},empty:function(){this.doc.execCommand("insertHTML",!1,"");this.$ta.val("");this.syncCode(!0)},toggle:function(){var n=this,t=n.o.prefix;n.o.autogrowOnEnter&&(n.autogrowOnEnterDontClose=!n.$box.hasClass(t+"editor-hidden"));n.semanticCode(!1,!0);n.$c.trigger("tbwchange");setTimeout(function(){n.doc.activeElement.blur();n.$box.toggleClass(t+"editor-hidden "+t+"editor-visible");n.$btnPane.toggleClass(t+"disable");r("."+t+"viewHTML-button",n.$btnPane).toggleClass(t+"active");n.$box.hasClass(t+"editor-visible")?n.$ta.attr("tabindex",-1):n.$ta.removeAttr("tabindex");n.o.autogrowOnEnter&&!n.autogrowOnEnterDontClose&&n.autogrowEditorOnEnter()},0)},toggleSpan:function(n){this.$ed.find("span").each(function(){!0===n?r(this).attr("data-tbw-flag",!0):r(this).attr("data-tbw-flag")?r(this).removeAttr("data-tbw-flag"):r(this).contents().unwrap()})},dropdown:function(n){var i=this,e=r("body",i.doc),u=i.o.prefix,o=r("[data-"+u+"dropdown="+n+"]",i.$box),f=r("."+u+n+"-button",i.$btnPane),h=o.is(":hidden"),s;(e.trigger("mousedown"),h)&&(s=f.offset().left,f.addClass(u+"active"),o.css({position:"absolute",top:f.offset().top-i.$btnPane.offset().top+f.outerHeight(),left:i.o.fixedFullWidth&&i.isFixed?s:s-i.$btnPane.offset().left}).show(),r(t).trigger("scroll"),e.on("mousedown."+i.eventNamespace,function(n){o.is(n.target)||(r("."+u+"dropdown",i.$box).hide(),r("."+u+"active",i.$btnPane).removeClass(u+"active"),e.off("mousedown."+i.eventNamespace))}))},html:function(n){var t=this;return null!=n?(t.$ta.val(n),t.syncCode(!0),t.$c.trigger("tbwchange"),t):t.$ta.val()},syncTextarea:function(){var n=this;n.$ta.val(n.$ed.text().trim().length>0||n.$ed.find(n.o.tagsToKeep.join(",")).length>0?n.$ed.html():"")},syncCode:function(n){var t=this,f,i,u;!n&&t.$ed.is(":visible")?t.syncTextarea():(f=r("<div>").html(t.$ta.val()),i=r("<div>").append(f),r(t.o.tagsToRemove.join(","),i).remove(),t.$ed.html(i.contents().html()));(t.o.autogrow&&(t.height=t.$edBox.height(),t.height!==t.$ta.css("height")&&(t.$ta.css({height:t.height}),t.$c.trigger("tbwresize"))),t.o.autogrowOnEnter)&&(t.$edBox.height("auto"),u=t.autogrowOnEnterWasFocused?t.$edBox[0].scrollHeight:t.$edBox.css("min-height"),u!==t.$ta.css("height")&&(t.$edBox.css({height:u}),t.$c.trigger("tbwresize")))},semanticCode:function(n,t,i){var u=this,e,f,s,o;u.saveRange();u.syncCode(n);e=!0;(u.range&&u.range.collapsed&&(e=!1),u.o.semantic)&&((u.semanticTag("b",u.o.semanticKeepAttributes),u.semanticTag("i",u.o.semanticKeepAttributes),u.semanticTag("s",u.o.semanticKeepAttributes),u.semanticTag("strike",u.o.semanticKeepAttributes),t)&&(f=u.o.inlineElementsSelector,s=":not("+f+")",u.$ed.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim().length>0}).wrap("<span data-tbw/>"),o=function(n){if(0!==n.length){var t=n.nextUntil(s).addBack().wrapAll("<p/>").parent(),i=t.nextAll(f).first();t.next("br").remove();o(i)}},o(u.$ed.children(f).first()),u.semanticTag("div",!0),r("[data-tbw]",u.$ed).contents().unwrap(),u.$ed.find("p:empty").remove()),!i&&e&&u.restoreRange(),u.syncTextarea())},semanticTag:function(n,t,i){var u,f=this,e=n;if(null!=this.o.semantic&&"object"==typeof this.o.semantic&&this.o.semantic.hasOwnProperty(n))u=this.o.semantic[n];else{if(!0!==this.o.semantic||!this.DEFAULT_SEMANTIC_MAP.hasOwnProperty(n))return;u=this.DEFAULT_SEMANTIC_MAP[n]}i&&(n=u,u=e);r(n,this.$ed).each(function(){var e=!1,n=r(this),i;if(0===n.contents().length)return!1;f.range&&f.range.startContainer.parentNode===this&&(e=!0);i=r("<"+u+"/>");i.insertBefore(n);t&&r.each(n.prop("attributes"),function(){i.attr(this.name,this.value)});i.html(n.html());n.remove();!0===e&&(f.range.selectNodeContents(i.get(0)),f.range.collapse(!1))})},createLink:function(){for(var i,e,o,v,s,h,c,n=this,u=n.doc.getSelection(),l=u.getRangeAt(0),t=u.focusNode,a=(new XMLSerializer).serializeToString(l.cloneContents())||l+"",f=n.o.linkTargets[0];["A","DIV"].indexOf(t.nodeName)<0;)t=t.parentNode;t&&"A"===t.nodeName&&(i=r(t),a=i.text(),s=i.attr("href"),n.o.minimalLinks||(h=i.attr("title"),c=i.attr("target")||f),e=n.doc.createRange(),e.selectNode(t),u.removeAllRanges(),u.addRange(e));n.saveRange();o={url:{label:n.lang.linkUrl||"URL",required:!0,value:s},text:{label:n.lang.text,value:a}};n.o.minimalLinks||(v=n.o.linkTargets.reduce(function(t,i){return t[i]=n.lang[i],t},{}),r.extend(o,{title:{label:n.lang.title,value:h},target:{label:n.lang.target,value:c,options:v}}));n.openModalInsert(n.lang.createLink,o,function(t){var u=n.prependUrlPrefix(t.url),i;return u.length?(i=r(['<a href="',u,'">',t.text||t.url,"<\/a>"].join("")),t.title&&i.attr("title",t.title),(t.target||f)&&i.attr("target",t.target||f),n.range.deleteContents(),n.range.insertNode(i[0]),n.syncCode(),n.$c.trigger("tbwchange"),!0):!1})},prependUrlPrefix:function(n){return this.urlPrefix?/^([a-z][-+.a-z0-9]*:|\/|#)/i.test(n)?n:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)?"mailto:"+n:this.urlPrefix+n:n},unlink:function(){var i=this,t=i.doc.getSelection(),n=t.focusNode,r;if(t.isCollapsed){for(;["A","DIV"].indexOf(n.nodeName)<0;)n=n.parentNode;n&&"A"===n.nodeName&&(r=i.doc.createRange(),r.selectNode(n),t.removeAllRanges(),t.addRange(r))}i.execCmd("unlink",void 0,void 0,!0)},insertImage:function(){var n=this,t;n.saveRange();t={url:{label:"URL",required:!0},alt:{label:n.lang.description,value:n.getRangeText()}};n.o.imageWidthModalEdit&&(t.width={});n.openModalInsert(n.lang.insertImage,t,function(t){n.execCmd("insertImage",t.url,!1,!0);var i=r('img[src="'+t.url+'"]:not([alt])',n.$box);return i.attr("alt",t.alt),n.o.imageWidthModalEdit&&i.attr({width:t.width}),n.syncCode(),n.$c.trigger("tbwchange"),!0})},fullscreen:function(){var i,n=this,f=n.o.prefix,u=f+"fullscreen",e=u+"-placeholder",o=n.$box.outerHeight();n.$box.toggleClass(u);(i=n.$box.hasClass(u))?n.$box.before(r("<div/>",{"class":e}).css({height:o})):r("."+e).remove();r("body").toggleClass(f+"body-fullscreen",i);r(t).trigger("scroll");n.$c.trigger("tbw"+(i?"open":"close")+"fullscreen")},execCmd:function(n,i,u,f){var e=this,o,s;f=!!f||"";"dropdown"!==n&&e.$ed.focus();"strikethrough"===n&&e.o.semantic&&e.semanticTag("strike",e.o.semanticKeepAttributes,!0);try{e.doc.execCommand("styleWithCSS",!1,u||!1)}catch(n){}try{e[n+f](i)}catch(u){try{n(i)}catch(u){"insertHorizontalRule"===n?i=void 0:"formatBlock"===n&&e.isIE&&(i="<"+i+">");e.doc.execCommand(n,!1,i);e.syncCode();e.semanticCode(!1,!0);try{o=t.getSelection().focusNode;r(t.getSelection().focusNode.parentNode).hasClass("trumbowyg-editor")||(o=t.getSelection().focusNode.parentNode);s=e.o.tagClasses[i];s&&r(o).addClass(s)}catch(n){}}"dropdown"!==n&&(e.updateButtonPaneStatus(),e.$c.trigger("tbwchange"))}},openModal:function(n,i,e){var o=this,h=o.o.prefix,a,s,l,c;return(e=!1!==e,r("."+h+"modal-box",o.$box).length>0)?!1:(o.o.autogrowOnEnter&&(o.autogrowOnEnterDontClose=!0),o.saveRange(),o.showOverlay(),o.$btnPane.addClass(h+"disable"),s=r("<div/>",{"class":h+"modal "+h+"fixed-top"}).css({top:o.$box.offset().top+o.$btnPane.height(),zIndex:99999}).appendTo(r(o.doc.body)),l=h+"dark",0!==o.$c.parents("."+l).length&&s.addClass(l),o.$overlay.one("click",function(){return s.trigger(f),!1}),a=e?r("<form/>",{action:"",html:i}).on("submit",function(){return s.trigger(u),!1}).on("reset",function(){return s.trigger(f),!1}).on("submit reset",function(){o.o.autogrowOnEnter&&(o.autogrowOnEnterDontClose=!1)}):i,c=r("<div/>",{"class":h+"modal-box",html:a}).css({top:"-"+o.$btnPane.outerHeight(),opacity:0,paddingBottom:e?null:"5%"}).appendTo(s).animate({top:0,opacity:1},100),n&&r("<span/>",{text:n,"class":h+"modal-title"}).prependTo(c),e&&(r(":input:first",c).focus(),o.buildModalBtn("submit",c),o.buildModalBtn("reset",c),s.height(c.outerHeight()+10)),r(t).trigger("scroll"),o.$c.trigger("tbwmodalopen"),s)},buildModalBtn:function(n,t){var i=this.o.prefix;return r("<button/>",{"class":i+"modal-button "+i+"modal-"+n,type:n,text:this.lang[n]||n}).appendTo(r("form",t))},closeModal:function(){var n=this,i=n.o.prefix,t;n.$btnPane.removeClass(i+"disable");n.$overlay.off();t=r("."+i+"modal-box",r(n.doc.body));t.animate({top:"-"+t.height()},100,function(){t.parent().remove();n.hideOverlay();n.$c.trigger("tbwmodalclose")});n.restoreRange()},openModalInsert:function(n,t,i){var e=this,s=e.o.prefix,h=e.lang,o="",c=s+"form-"+Date.now()+"-";return r.each(t,function(n,t){var i=t.label||n,f=t.name||n,e=t.attributes||{},u=c+n,l=Object.keys(e).map(function(n){return n+'="'+e[n]+'"'}).join(" ");if("function"==typeof t.type)return t.name||(t.name=f),void(o+=t.type(t,u,s,h));o+='<div class="'+s+'input-row">';o+='<div class="'+s+'input-infos"><label for="'+u+'"><span>'+(h[i]?h[i]:i)+"<\/span><\/label><\/div>";o+='<div class="'+s+'input-html">';r.isPlainObject(t.options)?(o+='<select name="target">',o+=Object.keys(t.options).map(n=>'<option value="'+n+'" '+(n===t.value?"selected":"")+">"+t.options[n]+"<\/option>").join(""),o+="<\/select>"):(o+='<input id="'+u+'" type="'+(t.type||"text")+'" name="'+f+'" '+l,o+=("checkbox"===t.type&&t.value?' checked="checked"':"")+' value="'+(t.value||"").replace(/"/g,"&quot;")+'">');o+="<\/div><\/div>"}),e.openModal(n,o).on(u,function(){var o=r("form",r(this)),f=!0,n={};r.each(t,function(t,i){var u=i.name||t,s=r(':input[name="'+u+'"]',o);switch(s[0].type.toLowerCase()){case"checkbox":n[u]=s.is(":checked");break;case"radio":n[u]=s.filter(":checked").val();break;default:n[u]=r.trim(s.val())}i.required&&""===n[u]?(f=!1,e.addErrorOnModalField(s,e.lang.required)):i.pattern&&!i.pattern.test(n[u])&&(f=!1,e.addErrorOnModalField(s,i.patternError))});f&&(e.restoreRange(),i(n,t)&&(e.syncCode(),e.$c.trigger("tbwchange"),e.closeModal(),r(this).off(u)))}).one(f,function(){r(this).off(u);e.closeModal()})},addErrorOnModalField:function(n,t){var i=this.o.prefix,f=i+"msg-error",u=n.closest("."+i+"input-row");n.on("change keyup",function(){u.removeClass(i+"input-error");setTimeout(function(){u.find("."+f).remove()},150)});u.addClass(i+"input-error").find("."+i+"input-infos label").append(r("<span/>",{"class":f,text:t}))},getDefaultImgDblClickHandler:function(){var n=this;return function(){var t=r(this),i=t.attr("src"),f="(Base64)",u;return 0===i.indexOf("data:image")&&(i=f),u={url:{label:"URL",value:i,required:!0},alt:{label:n.lang.description,value:t.attr("alt")}},n.o.imageWidthModalEdit&&(u.width={value:t.attr("width")?t.attr("width"):""}),n.openModalInsert(n.lang.insertImage,u,function(i){return i.url!==f&&t.attr({src:i.url}),t.attr({alt:i.alt}),n.o.imageWidthModalEdit&&(parseInt(i.width)>0?t.attr({width:i.width}):t.removeAttr("width")),!0}),!1}},saveRange:function(){var n=this,r=n.doc.getSelection(),u,t,i;(n.range=null,r&&r.rangeCount)&&(t=n.range=r.getRangeAt(0),i=n.doc.createRange(),i.selectNodeContents(n.$ed[0]),i.setEnd(t.startContainer,t.startOffset),u=(i+"").length,n.metaRange={start:u,end:u+(t+"").length})},restoreRange:function(){var u,r=this,n=r.metaRange,h=r.range,c=r.doc.getSelection(),f,s,e;if(h){if(n&&n.start!==n.end){var t,i=0,l=[r.$ed[0]],o=!1,a=!1;for(u=r.doc.createRange();!a&&(t=l.pop());)if(3===t.nodeType)f=i+t.length,!o&&n.start>=i&&n.start<=f&&(u.setStart(t,n.start-i),o=!0),o&&n.end>=i&&n.end<=f&&(u.setEnd(t,n.end-i),a=!0),i=f;else for(s=t.childNodes,e=s.length;e>0;)e-=1,l.push(s[e])}try{c.removeAllRanges()}catch(u){}c.addRange(u||h)}},getRangeText:function(){return this.range+""},clearButtonPaneStatus:function(){var t=this,n=t.o.prefix,u=n+"active-button "+n+"active",i=n+"original-icon";r("."+n+"active-button",t.$btnPane).removeClass(u);r("."+i,t.$btnPane).each(function(){r(this).find("svg use").attr("xlink:href",r(this).data(i))})},updateButtonPaneStatus:function(){var n=this,t=n.o.prefix,i=t+"active-button "+t+"active",u=t+"original-icon",f=n.getTagsRecursive(n.doc.getSelection().anchorNode);n.clearButtonPaneStatus();r.each(f,function(f,e){var h=n.tagToButton[e.toLowerCase()],o=r("."+t+h+"-button",n.$btnPane);if(o.length>0)o.addClass(i);else try{var c=(o=r("."+t+"dropdown ."+t+h+"-dropdown-button",n.$box)).find("svg use"),a=o.parent().data(t+"dropdown"),s=r("."+t+a+"-button",n.$box),l=s.find("svg use");s.addClass(i);n.o.changeActiveDropdownIcon&&c.length>0&&(s.addClass(u).data(u,l.attr("xlink:href")),l.attr("xlink:href",c.attr("xlink:href")))}catch(n){}})},getTagsRecursive:function(n,t){var u=this,i;return(t=t||(n&&n.tagName?[n.tagName]:[]),!n||!n.parentNode)?t:(n.nodeType!==Node.ELEMENT_NODE&&(n=n.parentNode),i=n.tagName,"DIV"===i?t:("P"===i&&""!==n.style.textAlign&&t.push(n.style.textAlign),r.each(u.tagHandlers,function(i,r){t=t.concat(r(n,u))}),t.push(i),u.getTagsRecursive(n.parentNode,t).filter(function(n){return null!=n})))},initPlugins:function(){var n=this;n.loadedPlugins=[];r.each(r.trumbowyg.plugins,function(t,i){i.shouldInit&&!i.shouldInit(n)||(i.init(n),i.tagHandler&&n.tagHandlers.push(i.tagHandler),n.loadedPlugins.push(i))})},destroyPlugins:function(){var n=this;r.each(this.loadedPlugins,function(t,i){i.destroy&&i.destroy(n)})}}}(navigator,window,document,jQuery);!function(n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=t():n.Croppie=t()}("undefined"!=typeof self?self:this,function(){function b(n){if(n in et)return n;for(var i=n[0].toUpperCase()+n.slice(1),t=ft.length;t--;)if((n=ft[t]+i)in et)return n}function v(n,t){n=n||{};for(var i in t)t[i]&&t[i].constructor&&t[i].constructor===Object?(n[i]=n[i]||{},v(n[i],t[i])):n[i]=t[i];return n}function k(n){return v({},n)}function d(n){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0);n.dispatchEvent(t)}else n.fireEvent("onchange")}function n(n,t,i){var u,r;"string"==typeof t&&(u=t,(t={})[u]=i);for(r in t)n.style[r]=t[r]}function i(n,t){n.classList?n.classList.add(t):n.className+=" "+t}function st(n,t){for(var i in t)n.setAttribute(i,t[i])}function s(n){return parseInt(n,10)}function ht(n,t){var i=n.naturalWidth,r=n.naturalHeight,u=t||g(n),f;return u&&u>=5&&(f=i,i=r,r=f),{width:i,height:r}}function g(n){return n.exifdata&&n.exifdata.Orientation?s(n.exifdata.Orientation):1}function lt(n,t,i){var u=t.width,f=t.height,r=n.getContext("2d");switch(n.width=t.width,n.height=t.height,r.save(),i){case 2:r.translate(u,0);r.scale(-1,1);break;case 3:r.translate(u,f);r.rotate(Math.PI/1);break;case 4:r.translate(0,f);r.scale(1,-1);break;case 5:n.width=f;n.height=u;r.rotate(Math.PI/2);r.scale(1,-1);break;case 6:n.width=f;n.height=u;r.rotate(Math.PI/2);r.translate(0,-f);break;case 7:n.width=f;n.height=u;r.rotate(Math.PI/-2);r.translate(-u,f);r.scale(1,-1);break;case 8:n.width=f;n.height=u;r.translate(0,u);r.rotate(Math.PI/-2)}r.drawImage(t,0,0,u,f);r.restore()}function ni(){var u,w,f,s,h,v,b=this.options.viewport.type?"cr-vp-"+this.options.viewport.type:null;this.options.useCanvas=this.options.enableOrientation||nt.call(this);this.data={};this.elements={};u=this.elements.boundary=document.createElement("div");f=this.elements.viewport=document.createElement("div");w=this.elements.img=document.createElement("img");s=this.elements.overlay=document.createElement("div");this.options.useCanvas?(this.elements.canvas=document.createElement("canvas"),this.elements.preview=this.elements.canvas):this.elements.preview=w;i(u,"cr-boundary");u.setAttribute("aria-dropeffect","none");h=this.options.boundary.width;v=this.options.boundary.height;n(u,{width:h+(isNaN(h)?"":"px"),height:v+(isNaN(v)?"":"px")});i(f,"cr-viewport");b&&i(f,b);n(f,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"});f.setAttribute("tabindex",0);i(this.elements.preview,"cr-image");st(this.elements.preview,{alt:"preview","aria-grabbed":"false"});i(s,"cr-overlay");this.element.appendChild(u);u.appendChild(this.elements.preview);u.appendChild(f);u.appendChild(s);i(this.element,"croppie-container");this.options.customClass&&i(this.element,this.options.customClass),function(){function b(n,t){var r=i.elements.preview.getBoundingClientRect(),e=u.y+t,o=u.x+n;i.options.enforceBoundary?(f.top>r.top+t&&f.bottom<r.bottom+t&&(u.y=e),f.left>r.left+n&&f.right<r.right+n&&(u.x=o)):(u.y=e,u.x=o)}function k(n){i.elements.preview.setAttribute("aria-grabbed",n);i.elements.boundary.setAttribute("aria-dropeffect",n?"move":"none")}function g(n){if((void 0===n.button||0===n.button)&&(n.preventDefault(),!c)){if(c=!0,s=n.pageX,h=n.pageY,n.touches){var r=n.touches[0];s=r.pageX;h=r.pageY}k(c);u=t.parse(i.elements.preview);window.addEventListener("mousemove",v);window.addEventListener("touchmove",v);window.addEventListener("mouseup",w);window.addEventListener("touchend",w);document.body.style[o]="none";f=i.elements.viewport.getBoundingClientRect()}}function v(t){var f,o,v,k;t.preventDefault();f=t.pageX;o=t.pageY;t.touches&&(v=t.touches[0],f=v.pageX,o=v.pageY);var g=f-s,nt=o-h,y={};if("touchmove"===t.type&&t.touches.length>1){var c=t.touches[0],a=t.touches[1],w=Math.sqrt((c.pageX-a.pageX)*(c.pageX-a.pageX)+(c.pageY-a.pageY)*(c.pageY-a.pageY));return e||(e=w/i._currentZoom),k=w/e,l.call(i,k),void d(i.elements.zoomer)}b(g,nt);y[r]=u.toString();n(i.elements.preview,y);p.call(i);h=o;s=f}function w(){k(c=!1);window.removeEventListener("mousemove",v);window.removeEventListener("touchmove",v);window.removeEventListener("mouseup",w);window.removeEventListener("touchend",w);document.body.style[o]="";y.call(i);a.call(i);e=0}var s,h,e,f,u,i=this,c=!1;i.elements.overlay.addEventListener("mousedown",g);i.elements.viewport.addEventListener("keydown",function(s){var w=37,h=38,k=39,c=40,l,v;s.shiftKey&&(s.keyCode===h||s.keyCode===c)?(v=s.keyCode===h?parseFloat(i.elements.zoomer.value)+parseFloat(i.elements.zoomer.step):parseFloat(i.elements.zoomer.value)-parseFloat(i.elements.zoomer.step),i.setZoom(v)):i.options.enableKeyMovement&&s.keyCode>=37&&s.keyCode<=40&&(s.preventDefault(),l=function(n){switch(n){case w:return[1,0];case h:return[0,1];case k:return[-1,0];case c:return[0,-1]}}(s.keyCode),u=t.parse(i.elements.preview),document.body.style[o]="none",f=i.elements.viewport.getBoundingClientRect(),function(t){var s=t[0],h=t[1],f={};b(s,h);f[r]=u.toString();n(i.elements.preview,f);p.call(i);document.body.style[o]="";y.call(i);a.call(i);e=0}(l))});i.elements.overlay.addEventListener("touchstart",g)}.call(this);this.options.enableZoom&&function(){function s(){(function(i){function l(){var t={};t[r]=f.toString();t[e]=s.toString();n(u.elements.preview,t)}var u=this,f=i?i.transform:t.parse(u.elements.preview),y=i?i.viewportRect:u.elements.viewport.getBoundingClientRect(),s=i?i.origin:new c(u.elements.preview);if(u._currentZoom=i?i.value:u._currentZoom,f.scale=u._currentZoom,u.elements.zoomer.setAttribute("aria-valuenow",u._currentZoom),l(),u.options.enforceBoundary){var v=function(n){var t=this._currentZoom,i=n.width,r=n.height,v=this.elements.boundary.clientWidth/2,y=this.elements.boundary.clientHeight/2,u=this.elements.preview.getBoundingClientRect(),f=u.width,e=u.height,o=i/2,s=r/2,h=-1*(o/t-v),c=-1*(s/t-y),l=1/t*o,a=1/t*s;return{translate:{maxX:h,minX:h-(f*(1/t)-i*(1/t)),maxY:c,minY:c-(e*(1/t)-r*(1/t))},origin:{maxX:f*(1/t)-l,minX:l,maxY:e*(1/t)-a,minY:a}}}.call(u,y),o=v.translate,h=v.origin;f.x>=o.maxX&&(s.x=h.minX,f.x=o.maxX);f.x<=o.minX&&(s.x=h.maxX,f.x=o.minX);f.y>=o.maxY&&(s.y=h.minY,f.y=o.maxY);f.y<=o.minY&&(s.y=h.maxY,f.y=o.minY)}l();yt.call(u);a.call(u)}).call(u,{value:parseFloat(f.value),origin:new c(u.elements.preview),viewportRect:u.elements.viewport.getBoundingClientRect(),transform:t.parse(u.elements.preview)})}function h(n){var t,i;if("ctrl"===u.options.mouseWheelZoom&&!0!==n.ctrlKey)return 0;t=n.wheelDelta?n.wheelDelta/1200:n.deltaY?n.deltaY/1060:n.detail?n.detail/-60:0;i=u._currentZoom+t*u._currentZoom;n.preventDefault();l.call(u,i);s.call(u)}var u=this,o=u.elements.zoomerWrap=document.createElement("div"),f=u.elements.zoomer=document.createElement("input");i(o,"cr-slider-wrap");i(f,"cr-slider");f.type="range";f.step="0.0001";f.value="1";f.style.display=u.options.showZoomer?"":"none";f.setAttribute("aria-label","zoom");u.element.appendChild(o);o.appendChild(f);u._currentZoom=1;u.elements.zoomer.addEventListener("input",s);u.elements.zoomer.addEventListener("change",s);u.options.mouseWheelZoom&&(u.elements.boundary.addEventListener("mousewheel",h),u.elements.boundary.addEventListener("DOMMouseScroll",h))}.call(this);this.options.enableResize&&function(){function h(n){var i,r;void 0!==n.button&&0!==n.button||(n.preventDefault(),w)||(i=t.elements.overlay.getBoundingClientRect(),(w=!0,e=n.pageX,s=n.pageY,v=-1!==n.currentTarget.className.indexOf("vertical")?"v":"h",b=i.width,k=i.height,n.touches)&&(r=n.touches[0],e=r.pageX,s=r.pageY),window.addEventListener("mousemove",c),window.addEventListener("touchmove",c),window.addEventListener("mouseup",l),window.addEventListener("touchend",l),document.body.style[o]="none")}function c(i){var u=i.pageX,f=i.pageY,o;(i.preventDefault(),i.touches)&&(o=i.touches[0],u=o.pageX,f=o.pageY);var h=u-e,c=f-s,l=t.options.viewport.height+c,w=t.options.viewport.width+h;"v"===v&&l>=d&&l<=k?(n(r,{height:l+"px"}),t.options.boundary.height+=c,n(t.elements.boundary,{height:t.options.boundary.height+"px"}),t.options.viewport.height+=c,n(t.elements.viewport,{height:t.options.viewport.height+"px"})):"h"===v&&w>=d&&w<=b&&(n(r,{width:w+"px"}),t.options.boundary.width+=h,n(t.elements.boundary,{width:t.options.boundary.width+"px"}),t.options.viewport.width+=h,n(t.elements.viewport,{width:t.options.viewport.width+"px"}));p.call(t);rt.call(t);y.call(t);a.call(t);s=f;e=u}function l(){w=!1;window.removeEventListener("mousemove",c);window.removeEventListener("touchmove",c);window.removeEventListener("mouseup",l);window.removeEventListener("touchend",l);document.body.style[o]=""}var v,e,s,b,k,u,f,t=this,r=document.createElement("div"),w=!1,d=50;i(r,"cr-resizer");n(r,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"});this.options.resizeControls.height&&(i(u=document.createElement("div"),"cr-resizer-vertical"),r.appendChild(u));this.options.resizeControls.width&&(i(f=document.createElement("div"),"cr-resizer-horisontal"),r.appendChild(f));u&&(u.addEventListener("mousedown",h),u.addEventListener("touchstart",h));f&&(f.addEventListener("mousedown",h),f.addEventListener("touchstart",h));this.elements.boundary.appendChild(r)}.call(this)}function nt(){return this.options.enableExif&&window.EXIF}function l(n){if(this.options.enableZoom){var t=this.elements.zoomer,i=h(n,4);t.value=Math.max(parseFloat(t.min),Math.min(parseFloat(t.max),i)).toString()}}function y(i){var o=this._currentZoom,v=this.elements.preview.getBoundingClientRect(),s=this.elements.viewport.getBoundingClientRect(),f=t.parse(this.elements.preview.style[r]),h=new c(this.elements.preview),y=s.top-v.top+s.height/2,p=s.left-v.left+s.width/2,u={},l={},a;if(i){var w=h.x,b=h.y,k=f.x,d=f.y;u.y=w;u.x=b;f.y=k;f.x=d}else u.y=y/o,u.x=p/o,l.y=(u.y-h.y)*(1-o),l.x=(u.x-h.x)*(1-o),f.x-=l.x,f.y-=l.y;a={};a[e]=u.x+"px "+u.y+"px";a[r]=f.toString();n(this.elements.preview,a)}function p(){if(this.elements){var i=this.elements.boundary.getBoundingClientRect(),t=this.elements.preview.getBoundingClientRect();n(this.elements.overlay,{width:t.width+"px",height:t.height+"px",top:t.top-i.top+"px",left:t.left-i.left+"px"})}}function a(){var t,n=this.get();pt.call(this)&&(this.options.update.call(this,n),this.$&&"undefined"==typeof Prototype?this.$(this.element).trigger("update.croppie",n):(window.CustomEvent?t=new CustomEvent("update",{detail:n}):(t=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,n),this.element.dispatchEvent(t)))}function pt(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function it(){var u,i={},o=this.elements.preview,f=new t(0,0,1),s=new c;pt.call(this)&&!this.data.bound&&(this.data.bound=!0,i[r]=f.toString(),i[e]=s.toString(),i.opacity=1,n(o,i),u=this.elements.preview.getBoundingClientRect(),this._originalImageWidth=u.width,this._originalImageHeight=u.height,this.data.orientation=nt.call(this)?g(this.elements.img):this.data.orientation,this.options.enableZoom?rt.call(this,!0):this._currentZoom=1,f.scale=this._currentZoom,i[r]=f.toString(),n(o,i),this.data.points.length?function(i){if(4!==i.length)throw"Croppie - Invalid number of points supplied: "+i;var c=i[2]-i[0],u=this.elements.viewport.getBoundingClientRect(),s=this.elements.boundary.getBoundingClientRect(),h={left:u.left-s.left,top:u.top-s.top},f=u.width/c,a=i[1],v=i[0],y=-1*i[1]+h.top,p=-1*i[0]+h.left,o={};o[e]=v+"px "+a+"px";o[r]=new t(p,y,f).toString();n(this.elements.preview,o);l.call(this,f);this._currentZoom=f}.call(this,this.data.points):function(){var u=this.elements.preview.getBoundingClientRect(),i=this.elements.viewport.getBoundingClientRect(),f=this.elements.boundary.getBoundingClientRect(),e=i.left-f.left,o=i.top-f.top,s=e-(u.width-i.width)/2,h=o-(u.height-i.height)/2,c=new t(s,h,this._currentZoom);n(this.elements.preview,r,c.toString())}.call(this),y.call(this),p.call(this))}function rt(n){var e,o,s,c,i=Math.max(this.options.minZoom,0)||0,u=this.options.maxZoom||1.5,t=this.elements.zoomer,f=parseFloat(t.value),a=this.elements.boundary.getBoundingClientRect(),r=ht(this.elements.img,this.data.orientation),v=this.elements.viewport.getBoundingClientRect();this.options.enforceBoundary&&(s=v.width/r.width,c=v.height/r.height,i=Math.max(s,c));i>=u&&(u=i+1);t.min=h(i,4);t.max=h(u,4);!n&&(f<t.min||f>t.max)?l.call(this,f<t.min?t.min:t.max):n&&(o=Math.max(a.width/r.width,a.height/r.height),e=null!==this.data.boundZoom?this.data.boundZoom:o,l.call(this,e));d(t)}function ut(n){var f=n.points,e=s(f[0]),o=s(f[1]),h=s(f[2])-e,c=s(f[3])-o,d=n.circle,i=document.createElement("canvas"),t=i.getContext("2d"),r=n.outputWidth||h,u=n.outputHeight||c;i.width=r;i.height=u;n.backgroundColor&&(t.fillStyle=n.backgroundColor,t.fillRect(0,0,r,u));var l=e,a=o,v=h,y=c,p=0,w=0,b=r,k=u;return e<0&&(l=0,p=Math.abs(e)/h*r),v+l>this._originalImageWidth&&(b=(v=this._originalImageWidth-l)/h*r),o<0&&(a=0,w=Math.abs(o)/c*u),y+a>this._originalImageHeight&&(k=(y=this._originalImageHeight-a)/c*u),t.drawImage(this.elements.preview,l,a,v,y,p,w,b,k),d&&(t.fillStyle="#fff",t.globalCompositeOperation="destination-in",t.beginPath(),t.arc(i.width/2,i.height/2,i.width/2,0,2*Math.PI,!0),t.closePath(),t.fill()),i}function wt(n,t){var u,i=this,r=[],f=null,e=nt.call(i);if("string"==typeof n)u=n,n={};else if(Array.isArray(n))r=n.slice();else{if(void 0===n&&i.data.url)return it.call(i),a.call(i),null;u=n.url;r=n.points||[];f=void 0===n.zoom?null:n.zoom}return i.data.bound=!1,i.data.url=u||i.data.url,i.data.boundZoom=f,function(n,t){if(!n)throw"Source image missing";var i=new Image;return i.style.opacity="0",new Promise(function(r,u){function f(){i.style.opacity="1";setTimeout(function(){r(i)},1)}i.removeAttribute("crossOrigin");n.match(/^https?:\/\/|^\/\//)&&i.setAttribute("crossOrigin","anonymous");i.onload=function(){t?EXIF.getData(i,function(){f()}):f()};i.onerror=function(n){i.style.opacity=1;setTimeout(function(){u(n)},1)};i.src=n})}(u,e).then(function(u){if(function(n){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(t){n.classList.add(t)}),this.elements.img.parentNode.replaceChild(n,this.elements.img),this.elements.preview=n);this.elements.img=n}.call(i,u),r.length)i.options.relative&&(r=[r[0]*u.naturalWidth/100,r[1]*u.naturalHeight/100,r[2]*u.naturalWidth/100,r[3]*u.naturalHeight/100]);else{var e,o,f=ht(u),h=i.elements.viewport.getBoundingClientRect(),s=h.width/h.height;f.width/f.height>s?e=(o=f.height)*s:(e=f.width,o=f.height/s);var c=(f.width-e)/2,l=(f.height-o)/2,v=c+e,y=l+o;i.data.points=[c,l,v,y]}i.data.orientation=n.orientation||1;i.data.points=r.map(function(n){return parseFloat(n)});i.options.useCanvas&&function(n){var t=this.elements.canvas,i=this.elements.img;t.getContext("2d").clearRect(0,0,t.width,t.height);t.width=i.width;t.height=i.height;lt(t,i,this.options.enableOrientation&&n||g(i))}.call(i,i.data.orientation);it.call(i);a.call(i);t&&t()})}function h(n,t){return parseFloat(n).toFixed(t||0)}function bt(){var o=this.elements.preview.getBoundingClientRect(),i=this.elements.viewport.getBoundingClientRect(),r=i.left-o.left,u=i.top-o.top,s=(i.width-this.elements.viewport.offsetWidth)/2,c=(i.height-this.elements.viewport.offsetHeight)/2,f=r+this.elements.viewport.offsetWidth+s,e=u+this.elements.viewport.offsetHeight+c,n=this._currentZoom,t;return(n===1/0||isNaN(n))&&(n=1),t=this.options.enforceBoundary?0:Number.NEGATIVE_INFINITY,r=Math.max(t,r/n),u=Math.max(t,u/n),f=Math.max(t,f/n),e=Math.max(t,e/n),{points:[h(r),h(u),h(f),h(e)],zoom:n,orientation:this.data.orientation}}function ti(t){var f=this,r=bt.call(f),e=v(k(kt),k(t)),c="string"==typeof t?t:e.type||"base64",u=e.size||"viewport",s=e.format,l=e.quality,a=e.backgroundColor,y="boolean"==typeof e.circle?e.circle:"circle"===f.options.viewport.type,o=f.elements.viewport.getBoundingClientRect(),h=o.width/o.height;return"viewport"===u?(r.outputWidth=o.width,r.outputHeight=o.height):"object"==typeof u&&(u.width&&u.height?(r.outputWidth=u.width,r.outputHeight=u.height):u.width?(r.outputWidth=u.width,r.outputHeight=u.width/h):u.height&&(r.outputWidth=u.height*h,r.outputHeight=u.height)),dt.indexOf(s)>-1&&(r.format="image/"+s,r.quality=l),r.circle=y,r.url=f.data.url,r.backgroundColor=a,new Promise(function(t){switch(c.toLowerCase()){case"rawcanvas":t(ut.call(f,r));break;case"canvas":case"base64":t(function(n){return ut.call(this,n).toDataURL(n.format,n.quality)}.call(f,r));break;case"blob":(function(n){var t=this;return new Promise(function(i){ut.call(t,n).toBlob(function(n){i(n)},n.format,n.quality)})}).call(f,r).then(t);break;default:t(function(t){var r=t.points,u=document.createElement("div"),f=document.createElement("img"),e=r[2]-r[0],o=r[3]-r[1];return i(u,"croppie-result"),u.appendChild(f),n(f,{left:-1*r[0]+"px",top:-1*r[1]+"px"}),f.src=t.url,n(u,{width:e+"px",height:o+"px"}),u}.call(f,r))}})}function ii(n){var i,r,t,u,f,e,o,s;if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";e=this.elements.canvas;(this.data.orientation=(i=this.data.orientation,r=n,t=ot.indexOf(i)>-1?ot:gt,u=t.indexOf(i),f=r/90%t.length,t[(t.length+u+f%t.length)%t.length]),lt(e,this.elements.img,this.data.orientation),y.call(this,!0),rt.call(this),Math.abs(n)/90%2==1)&&(o=this._originalImageHeight,s=this._originalImageWidth,this._originalImageWidth=o,this._originalImageHeight=s)}function u(n,t){var r,f,e;if(n.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");(this.element=n,this.options=v(k(u.defaults),t),"img"===this.element.tagName.toLowerCase())&&(r=this.element,i(r,"cr-original-image"),st(r,{"aria-hidden":"true",alt:""}),f=document.createElement("div"),this.element.parentNode.appendChild(f),f.appendChild(r),this.element=f,this.options.url=this.options.url||r.src);(ni.call(this),this.options.url)&&(e={url:this.options.url,points:this.options.points},delete this.options.url,delete this.options.points,wt.call(this,e))}var ct,t,c,tt,at,vt,w,yt,kt,dt,f;"function"!=typeof Promise&&function(n){function i(n,t){return function(){n.apply(t,arguments)}}function t(n){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=null;this._value=null;this._deferreds=[];o(n,i(f,this),i(r,this))}function u(n){var t=this;return null===this._state?void this._deferreds.push(n):void s(function(){var i=t._state?n.onFulfilled:n.onRejected,r;if(null!==i){try{r=i(t._value)}catch(t){return void n.reject(t)}n.resolve(r)}else(t._state?n.resolve:n.reject)(t._value)})}function f(n){try{if(n===this)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var t=n.then;if("function"==typeof t)return void o(i(t,n),i(f,this),i(r,this))}this._state=!0;this._value=n;e.call(this)}catch(n){r.call(this,n)}}function r(n){this._state=!1;this._value=n;e.call(this)}function e(){for(var n=0,t=this._deferreds.length;t>n;n++)u.call(this,this._deferreds[n]);this._deferreds=null}function o(n,t,i){var r=!1;try{n(function(n){r||(r=!0,t(n))},function(n){r||(r=!0,i(n))})}catch(n){if(r)return;r=!0;i(n)}}var h=setTimeout,s="function"==typeof setImmediate&&setImmediate||function(n){h(n,1)},c=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};t.prototype.catch=function(n){return this.then(null,n)};t.prototype.then=function(n,i){var r=this;return new t(function(t,f){u.call(r,new function(n,t,i,r){this.onFulfilled="function"==typeof n?n:null;this.onRejected="function"==typeof t?t:null;this.resolve=i;this.reject=r}(n,i,t,f))})};t.all=function(){var n=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new t(function(t,i){function u(r,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return void o.call(e,function(n){u(r,n)},i)}n[r]=e;0==--f&&t(n)}catch(n){i(n)}}if(0===n.length)return t([]);for(var f=n.length,r=0;r<n.length;r++)u(r,n[r])})};t.resolve=function(n){return n&&"object"==typeof n&&n.constructor===t?n:new t(function(t){t(n)})};t.reject=function(n){return new t(function(t,i){i(n)})};t.race=function(n){return new t(function(t,i){for(var r=0,u=n.length;u>r;r++)n[r].then(t,i)})};t._setImmediateFn=function(n){s=n};"undefined"!=typeof module&&module.exports?module.exports=t:n.Promise||(n.Promise=t)}(this);"undefined"!=typeof window&&"function"!=typeof CustomEvent&&function(){function n(n,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),i}n.prototype=window.Event.prototype;window.CustomEvent=n}();"undefined"==typeof HTMLCanvasElement||HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(n,t,i){for(var u=atob(this.toDataURL(t,i).split(",")[1]),f=u.length,e=new Uint8Array(f),r=0;r<f;r++)e[r]=u.charCodeAt(r);n(new Blob([e],{type:t||"image/png"}))}});var e,r,o,ft=["Webkit","Moz","ms"],et="undefined"!=typeof document?document.createElement("div").style:{},ot=[1,8,3,6],gt=[2,7,4,5];return r=b("transform"),e=b("transformOrigin"),o=b("userSelect"),ct={translate3d:{suffix:", 0px"},translate:{suffix:""}},t=function(n,t,i){this.x=parseFloat(n);this.y=parseFloat(t);this.scale=parseFloat(i)},t.parse=function(n){return n.style?t.parse(n.style[r]):n.indexOf("matrix")>-1||n.indexOf("none")>-1?t.fromMatrix(n):t.fromString(n)},t.fromMatrix=function(n){var i=n.substring(7).split(",");return i.length&&"none"!==n||(i=[1,0,0,1,0,0]),new t(s(i[4]),s(i[5]),parseFloat(i[0]))},t.fromString=function(n){var r=n.split(") "),i=r[0].substring(u.globals.translate.length+1).split(","),f=r.length>1?r[1].substring(6):1,e=i.length>1?i[0]:0,o=i.length>1?i[1]:0;return new t(e,o,f)},t.prototype.toString=function(){var n=ct[u.globals.translate].suffix||"";return u.globals.translate+"("+this.x+"px, "+this.y+"px"+n+") scale("+this.scale+")"},c=function(n){if(!n||!n.style[e])return this.x=0,void(this.y=0);var t=n.style[e].split(" ");this.x=parseFloat(t[0]);this.y=parseFloat(t[1])},c.prototype.toString=function(){return this.x+"px "+this.y+"px"},yt=(tt=p,at=500,function(){var n=this,t=arguments,i=vt&&!w;clearTimeout(w);w=setTimeout(function(){w=null;vt||tt.apply(n,t)},at);i&&tt.apply(n,t)}),kt={type:"canvas",format:"png",quality:1},dt=["jpeg","webp","png"],"undefined"!=typeof window&&window.jQuery&&(f=window.jQuery,f.fn.croppie=function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1),t=f(this).data("croppie");return"get"===n?t.get():"result"===n?t.result.apply(t,i):"bind"===n?t.bind.apply(t,i):this.each(function(){var t=f(this).data("croppie"),r;if(t){if(r=t[n],!f.isFunction(r))throw"Croppie "+n+" method not found";r.apply(t,i);"destroy"===n&&f(this).removeData("croppie")}})}return this.each(function(){var t=new u(this,n);t.$=f;f(this).data("croppie",t)})}),u.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},u.globals={translate:"translate3d"},v(u.prototype,{bind:function(n,t){return wt.call(this,n,t)},get:function(){var t=bt.call(this),n=t.points;return this.options.relative&&(n[0]/=this.elements.img.naturalWidth/100,n[1]/=this.elements.img.naturalHeight/100,n[2]/=this.elements.img.naturalWidth/100,n[3]/=this.elements.img.naturalHeight/100),t},result:function(n){return ti.call(this,n)},refresh:function(){return function(){it.call(this)}.call(this)},setZoom:function(n){l.call(this,n);d(this.elements.zoomer)},rotate:function(n){ii.call(this,n)},destroy:function(){return function(){var n,t;this.element.removeChild(this.elements.boundary);n=this.element;t="croppie-container";n.classList?n.classList.remove(t):n.className=n.className.replace(t,"");this.options.enableZoom&&this.element.removeChild(this.elements.zoomerWrap);delete this.elements}.call(this)}}),u});(()=>{var n=(n,t)=>{let i=n.previousElementSibling,r=n.nextElementSibling,e=getComputedStyle(n.parentElement);(e.flexDirection.indexOf("reverse")!==-1?-1:1)*(t&&e.direction==="rtl"?-1:1)==-1&&([i,r]=[r,i]);let u=getComputedStyle(i),f=getComputedStyle(r);if(t){let t=i.offsetWidth,n=t+r.offsetWidth,e=Math.max(parseInt(u.minWidth,10)||0,n-(parseInt(f.maxWidth,10)||n)),o=Math.min(parseInt(u.maxWidth,10)||n,n-(parseInt(f.minWidth,10)||0));return u=>{let f=Math.round(Math.min(Math.max(t+u,e),o));i.style.width=f+"px";r.style.width=n-f+"px";i.style.flexShrink=r.style.flexShrink=1}}else{let t=i.offsetHeight,n=t+r.offsetHeight,e=Math.max(parseInt(u.minHeight,10)||0,n-(parseInt(f.maxHeight,10)||n)),o=Math.min(parseInt(u.maxHeight,10)||n,n-(parseInt(f.minHeight,10)||0));return u=>{let f=Math.round(Math.min(Math.max(t+u,e),o));i.style.height=f+"px";r.style.height=n-f+"px";i.style.flexShrink=r.style.flexShrink=1}}},t=n=>+n.replace(/\s+/g,"").match(/^keyboard-movement:([+-]?\d*(?:\.\d*)?)$/)?.[1]||2;addEventListener("keydown",i=>{let r=i.keyCode,u=i.target,f=u.parentElement;if(f&&!i.ctrlKey&&!i.metaKey&&!i.altKey&&!(r<37)&&!(r>40)&&u.getAttribute("role")==="separator"){let e=f.getAttribute("data-flex-splitter-vertical");if(e!==null){let f=r===38?-1:r===40?1:0;f&&n(u,!1)(f*t(e));i.preventDefault();return}let o=f.getAttribute("data-flex-splitter-horizontal");if(o!==null){let f=r===37?-1:r===39?1:0;f&&n(u,!0)(f*t(o));i.preventDefault()}}});addEventListener("pointerdown",t=>{let i=t.target,u=i.parentElement;if(u&&t.isPrimary&&t.button===0&&i.getAttribute("role")==="separator"){let f=u.hasAttribute("data-flex-splitter-horizontal");if(f||u.hasAttribute("data-flex-splitter-vertical")){let r=t.pointerId,o=n(i,f),e=f?n=>n.pointerId===r&&o(n.clientX-t.clientX):n=>n.pointerId===r&&o(n.clientY-t.clientY),s=n=>{n.pointerId===r&&(i.removeEventListener("pointermove",e),i.removeEventListener("lostpointercapture",s))};e(t);i.addEventListener("lostpointercapture",s);i.addEventListener("pointermove",e);i.setPointerCapture(r);t.preventDefault()}}})})();
/*!
 * OverlayScrollbars
 * https://github.com/KingSora/OverlayScrollbars
 *
 * Version: 1.13.3
 *
 * Copyright KingSora | Rene Haas.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 * Date: 20.07.2022
 */
!function(n,t){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(n,n.document,undefined,i)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(n,n.document,undefined,require("jquery")):t(n,n.document,undefined,n.jQuery)}("undefined"!=typeof window?window:this,function(n,t,i,r){"use strict";function at(n){return n.charAt(0).toUpperCase()+n.slice(1)}function wt(i){return i?n.innerWidth||t.documentElement[u.cW]||t.body[u.cW]:n.innerHeight||t.documentElement[u.cH]||t.body[u.cH]}function g(n,t){if(typeof n!=l)throw"Can't bind function!";var i=u.p,e=Array[i].slice.call(arguments,2),r=function(){},f=function(){return n.apply(this instanceof r?this:t,e.concat(Array[i].slice.call(arguments)))};return n[i]&&(r[i]=n[i]),f[i]=new r,f}function pt(){nt=nt||new ni(et.m);vt=vt||new ti(nt)}function ni(t){function ft(n){return{x:n[u.oH]-n[u.cH],y:n[u.oW]-n[u.cW]}}var b=this,tt="overflow",it=e("body"),i=e('<div id="os-dummy-scrollbar-size"><div><\/div><\/div>'),h=i[0],rt=e(i.children("div").eq(0));it.append(i);i.hide().show();var l,r,s,a,v,ut,y,k,w,d=ft(h),g={x:0===d.x,y:0===d.y},nt=(r=n.navigator.userAgent,a="substring",v=r[s="indexOf"]("MSIE "),ut=r[s]("Trident/"),y=r[s]("Edge/"),k=r[s]("rv:"),w=parseInt,0<v?l=w(r[a](v+5,r[s](".",v)),10):0<ut?l=w(r[a](k+3,r[s](".",k)),10):0<y&&(l=w(r[a](y+5,r[s](".",y)),10)),l);e.extend(b,{defaultOptions:t,msie:nt,autoUpdateLoop:!1,autoUpdateRecommended:!f.mO(),nativeScrollbarSize:d,nativeScrollbarIsOverlaid:g,nativeScrollbarStyling:function(){var t=!1;i.addClass("os-viewport-native-scrollbars-invisible");try{t="none"===i.css("scrollbar-width")&&(9<nt||!nt)||"none"===n.getComputedStyle(h,"::-webkit-scrollbar").getPropertyValue("display")}catch(r){}return t}(),overlayScrollbarDummySize:{x:30,y:30},cssCalc:c.v("width","calc","(1px)")||null,restrictedMeasuring:function(){var n,t,r,f;return i.css(tt,"hidden"),n=h[u.sW],t=h[u.sH],i.css(tt,"visible"),r=h[u.sW],f=h[u.sH],n-r!=0||t-f!=0}(),rtlScrollBehavior:function(){var t,n,r;return i.css({"overflow-y":"hidden","overflow-x":"scroll",direction:"rtl"}).scrollLeft(0),t=i.offset(),n=rt.offset(),i.scrollLeft(-999),r=rt.offset(),{i:t.left===n.left,n:n.left!==r.left}}(),supportTransform:!!c.u("transform"),supportTransition:!!c.u("transition"),supportPassiveEvents:function(){var t=!1;try{n.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(i){}return t}(),supportResizeObserver:!!f.rO(),supportMutationObserver:!!f.mO()});i.removeAttr(u.s).remove(),function(){function h(){var t=n.screen.deviceXDPI||0,i=n.screen.logicalXDPI||1;return n.devicePixelRatio||t/i}if(!g.x||!g.y){var t=o.abs,r=f.wW(),u=f.wH(),s=h();e(n).on("resize",function(){if(0<p().length){var n=f.wW(),c=f.wH(),a=n-r,v=c-u;if(0==a&&0==v)return;var l,k=o.round(n/(r/100)),d=o.round(c/(u/100)),g=t(a),nt=t(v),tt=t(k),rt=t(d),y=h(),ut=2<g&&2<nt,et=!function(n,i){var r=t(n),u=t(i);return r!==u&&r+1!==u&&r-1!==u}(tt,rt),ot=ut&&et&&y!==s&&0<s,w=b.nativeScrollbarSize;ot&&(it.append(i),l=b.nativeScrollbarSize=ft(i[0]),i.remove(),w.x===l.x&&w.y===l.y||e.each(p(),function(){p(this)&&p(this).update("zoom")}));r=n;u=c;s=y}})}}()}function ti(n){var s,v=e.inArray,h=f.now,w="autoUpdate",c=u.l,t=[],l=[],r=!1,a=33,y=h(),p=function(){var u,v,nt,b,e,k,d,g,n;if(0<t[c]&&r){if(s=f.rAF()(function(){p()}),d=h(),g=d-y,a<g){for(y=d-g%a,u=33,n=0;n<t[c];n++)(v=t[n])!==i&&(b=(nt=v.options())[w],e=o.max(1,nt.autoUpdateInterval),k=h(),(!0===b||null===b)&&k-l[n]>e&&(v.update("auto"),l[n]=new Date(k+=e)),u=o.max(1,o.min(u,e)));a=u}}else a=33};this.add=function(i){-1===v(i,t)&&(t.push(i),l.push(h()),0<t[c]&&!r&&(r=!0,n.autoUpdateLoop=r,p()))};this.remove=function(u){var e=v(u,t);-1<e&&(l.splice(e,1),t.splice(e,1),0===t[c]&&r&&(r=!1,n.autoUpdateLoop=r,s!==i&&(f.cAF()(s),s=-1)))}}function ii(r,a,w,b,g){function yi(n,t,i,r,o){var c=f.isA(t)&&f.isA(i),v=r?"removeEventListener":"addEventListener",y=r?"off":"on",h=!c&&t.split(ni),s=0,l=e.isPlainObject(o),p=ee&&(l?o.V:o)||!1,a=l&&(o.$||!1),w=ee?{passive:p,capture:a}:a;if(c)for(;s<t[u.l];s++)yi(n,t[s],i[s],r,o);else for(;s<h[u.l];s++)ee?n[0][v](h[s],i,w):n[y](h[s],i)}function wr(n,t,i,r){yi(n,t,i,!1,r);oc.push(f.bind(yi,0,n,t,i,!0,r))}function fs(n,t){var kt,ut,o,ft,y,et;if(n){var gt=f.rO(),ot="animationstart mozAnimationStart webkitAnimationStart MSAnimationStart",c="childNodes",r=3333333,l=function(){n[ii](r)[ti](vt?lt.n?-r:lt.i?0:r:r);t()};if(t){if(ss)((y=n.addClass("observed").append(nr(af)).contents()[0])[ph]=new gt(l)).observe(y);else if(9<rf||!ue){n.prepend(nr(af,nr({c:is,dir:"ltr"},nr(is,nr(ya))+nr(is,nr({c:ya,style:"width: 200%; height: 200%"})))));var p,a,w,k,s=n[0][c][0][c][0],st=e(s[c][1]),d=e(s[c][0]),ni=e(d[0][c][0]),ht=s[u.oW],ct=s[u.oH],v=b.nativeScrollbarSize,yt=function(){d[ti](r)[ii](r);st[ti](r)[ii](r)},wt=function(){a=0;p&&(ht=w,ct=k,l())},g=function(n){return w=s[u.oW],k=s[u.oH],p=w!=ht||k!=ct,n&&p&&!a?(f.cAF()(a),a=f.rAF()(wt)):n||wt(),yt(),n&&(f.prvD(n),f.stpP(n)),!1},tt={},bt={};wf(bt,it,[-2*(v.y+1),-2*v.x,-2*v.y,-2*(v.x+1)]);e(s).css(bt);d.on(ki,g);st.on(ki,g);n.on(ot,function(){g(!1)});tt[rt]=r;tt[pt]=r;ni.css(tt);yt()}else kt=gf.attachEvent,ut=rf!==i,kt?(n.prepend(nr(af)),re(n,di+af)[0].attachEvent("onresize",l)):(o=gf.createElement(h),o.setAttribute(u.ti,"-1"),o.setAttribute(u.c,af),o.onload=function(){var n=this.contentDocument.defaultView;n.addEventListener("resize",l);n.document.documentElement.style.display="none"},o.type="text/html",ut&&n.prepend(o),o.data="about:blank",ut||n.prepend(o),n.on(ot,l));n[0]===co&&(ft=function(){var t=nt.css("direction"),n={},i=0,u=!1;return t!==sl&&(i="ltr"===t?(n[at]=0,n[bi]=dt,r):(n[at]=dt,n[bi]=0,lt.n?-r:lt.i?0:r),ar.children().eq(0).css(n),ar[ti](i)[ii](r),sl=t,u=!0),u},ft(),wr(n,ki,function(n){return ft()&&nu(),f.prvD(n),f.stpP(n),!1}))}else ss?(et=(y=n.contents()[0])[ph],et&&(et.disconnect(),delete y[ph])):yu(n.children(di+af).eq(0))}}function iy(){if(uo){var r,t,o,n,i,a,v,s,h,c,y=f.mO(),p=f.now();gs=function(n){var t=!1;return ri&&!ei&&(vi(n,function(){return!(t=function(n){var i=n.attributeName,t=n.target,f=n.type,r="closest";if(t===ir)return null===i;if("attributes"===f&&(i===u.c||i===u.s)&&!ft){if(i===u.c&&e(t).hasClass(si))return sv(n.oldValue,t.className);if(typeof t[r]!=l)return!0;if(null!==t[r](di+af)||null!==t[r](di+lu)||null!==t[r](di+nc))return!1}return!0}(this))}),t&&(s=f.now(),h=ku||rr,c=function(){bt||(p=s,ft&&ac(),h?nu():ut.update(dt))},clearTimeout(v),11<s-p||!h?c():v=setTimeout(c,11))),t};ao=new y(ta=function(f){var s,e=!1,h=!1,c=[];return ri&&!ei&&(vi(f,function(){r=(s=this).target;t=s.attributeName;o=t===u.c;n=s.oldValue;i=r.className;hi&&o&&!h&&-1<n.indexOf(bo)&&i.indexOf(bo)<0&&(a=vv(!0),wi.className=i.split(ni).concat(n.split(ni).filter(function(n){return n.match(a)})).join(ni),e=h=!0);e=e||(o?sv(n,i):t!==u.s||n!==r[u.s].cssText);c.push(t)}),lc(c),e&&ut.update(h||dt)),e});vo=new y(gs)}}function uv(){uo&&!gr&&(ao.observe(wi,{attributes:!0,attributeOldValue:!0,attributeFilter:ec}),vo.observe(ft?wu:ir,{attributes:!0,attributeOldValue:!0,subtree:!ft,childList:!ft,characterData:!ft,attributeFilter:ft?rv:ec}),gr=!0)}function sc(){uo&&gr&&(ao.disconnect(),vo.disconnect(),gr=!1)}function ry(){if(!ei){var n,t={w:co[u.sW],h:co[u.sH]};n=bf(t,yl);yl=t;n&&nu({A:!0})}}function fv(){cf&&tu(!0)}function ev(){cf&&!uf.hasClass(vf)&&tu(!1)}function uy(){ur&&(tu(!0),clearTimeout(ra),ra=setTimeout(function(){ur&&!bt&&tu(!1)},100))}function to(n){return f.prvD(n),!1}function hc(n){if(!bt){var i=n.target,r=e(n.target),t=e.inArray(i,pf);-1<t&&pf.splice(t,1);wv(function(n,t){r.is(t)&&nu({k:!0})})}}function cc(n){n||cc(!0);yi(nt,ke.split(ni)[0],uy,!ur||n,!0);yi(nt,[ua,fa],[fv,ev],!cf||n,!0);ri||n||nt.one("mouseover",fv)}function ov(){var n={};return cr&&ou&&(n.w=iu(ou.css(yr+rt)),n.h=iu(ou.css(yr+pt)),n.c=bf(n,du),n.f=!0),!!(du=n).c}function sv(n,t){var r,f,o=typeof t==s?t.split(ni):[],i=function(n,t){for(var u,r=[],f=[],i=0;i<n.length;i++)r[n[i]]=!0;for(i=0;i<t.length;i++)r[t[i]]?delete r[t[i]]:r[t[i]]=!0;for(u in r)f.push(u);return f}(typeof n==s?n.split(ni):[],o),e=pu(us,i);if(-1<e&&i.splice(e,1),0<i[u.l])for(f=vv(!0,!0),r=0;r<i.length;r++)if(!i[r].match(f))return!0;return!1}function lc(n){vi(n=n||rc,function(n,t){if(-1<f.inA(t,rc)){var i=st.attr(t);ht(i)==s?ot.attr(t,i):ot.removeAttr(t)}})}function ac(){if(!ei){var t,i,r,f,e=!lo,s=gt.w,h=gt.h,n={},c=rr||e;return n[yr+rt]=it,n[yr+pt]=it,n[rt]=dt,st.css(n),t=wu[u.oW],i=c?o.max(t,wu[u.sW]-1):1,n[rt]=rr?dt:cu,n[yr+rt]=cu,n[pt]=dt,st.css(n),r=wu[u.oH],f=o.max(r,wu[u.sH]-1),n[rt]=i,n[pt]=f,su.css(n),n[yr+rt]=s,n[yr+pt]=h,st.css(n),{q:t,B:r,X:i,Y:f}}}function nu(n){var is,de,ss,ge,ch,lh,vi,gc,l,pe,nl,ph,k;clearTimeout(il);n=n||{};yf.A|=n.A;yf.k|=n.k;yf.H|=n.H;var nf,wh=f.now(),kf=!!yf.A,we=!!yf.k,kr=!!yf.H,df=n.C,kh=0<uc&&ri&&!bt&&!kr&&!df&&wh-tl<uc&&!ku&&!rr;if(kh&&(il=setTimeout(nu,uc)),!(bt||kh||ei&&!df||ri&&!kr&&(nf=nt.is(":hidden"))||"inline"===nt.css("display"))){tl=wh;yf={};!uu||ct.x&&ct.y?fu=ai({},b.nativeScrollbarSize):(fu.x=0,fu.y=0);lf={x:3*(fu.x+(ct.x?0:3)),y:3*(fu.y+(ct.y?0:3))};df=df||{};var t=function(){return bf.apply(this,[].slice.call(arguments).concat([kr]))},di={x:ot[ti](),y:ot[ii]()},gf=kt.scrollbars,gh=kt.textarea,ie=gf.visibility,nc=t(ie,pl),rf=gf.autoHide,tc=t(rf,wl),so=gf.clickScrolling,ic=t(so,bl),co=gf.dragScrolling,rc=t(co,bs),uf=kt.className,ta=t(uf,ye),ff=kt.resize,ao=t(ff,kl)&&!cr,ef=kt.paddingAbsolute,lu=t(ef,hl),vo=kt.clipAlways,fc=t(vo,cl),fr=kt.sizeAutoCapable&&!cr,ec=t(fr,al),p=kt.nativeScrollbarsOverlaid.showNativeScrollbars,au=t(p,ps),be=kt.autoUpdate,ia=t(be,ws),re=kt.overflowBehavior,bo=t(re,ne,kr),ns=gh.dynWidth,ra=t(na,ns),ts=gh.dynHeight,ua=t(gl,ts);(ih="n"===rf,gu="s"===rf,ur="m"===rf,cf="l"===rf,th=gf.autoHideDelay,ks=ye,yo="n"===ff,po="b"===ff,uh="h"===ff,fh="v"===ff,hu=kt.normalizeRTL,p=p&&ct.x&&ct.y,pl=ie,wl=rf,bl=so,bs=co,ye=uf,kl=ff,hl=ef,cl=vo,al=fr,ps=p,ws=be,ne=ai({},re),na=ns,gl=ts,dr=dr||{x:!1,y:!1},ta&&(fi(nt,ks+ni+us),wt(nt,uf!==i&&null!==uf&&0<uf.length?uf:us)),ia&&(!0===be||null===be&&ue?(sc(),g.add(ut)):(g.remove(ut),uv())),ec)&&(fr?(oi?oi.show():(oi=e(nr(dv)),tr.before(oi)),eu)?lr.show():(lr=e(nr(gv)),ho=lr[0],oi.before(lr),is={w:-1,h:-1},fs(lr,function(){var n={w:ho[u.oW],h:ho[u.oH]};bf(n,is)&&(ri&&ku&&0<n.h||rr&&0<n.w||ri&&!ku&&0===n.h||!rr&&0===n.w)&&nu();is=n}),eu=!0,null!==os&&lr.css(pt,os+"(100% + 1px)")):(eu&&lr.hide(),oi&&oi.hide()));kr&&(ar.find("*").trigger(ki),eu&&lr.find("*").trigger(ki));nf=nf===i?nt.is(":hidden"):nf;var fe,ee=!!ft&&"off"!==st.attr("wrap"),fa=t(ee,lo),ke=nt.css("direction"),d=t(ke,ol),rs=nt.css("box-sizing"),vu=t(rs,ul),a=kc(er);try{fe=eu?ho[u.bCR]():null}catch(sv){return}pi="border-box"===rs;var af=(vt="rtl"===ke)?at:bi,ht=vt?bi:at,es=!1,oc=!(!eu||"none"===nt.css(pr))&&0===o.round(fe.right-fe.left)&&(!!ef||0<wi[u.cW]-oe);fr&&!oc&&(de=wi[u.oW],ss=oi.css(rt),oi.css(rt,dt),ge=wi[u.oW],oi.css(rt,ss),(es=de!==ge)||(oi.css(rt,de+1),ge=wi[u.oW],oi.css(rt,ss),es=de!==ge));var v=(oc||es)&&fr&&!nf,vr=t(v,rr),ea=!v&&rr,w=!(!eu||!fr||nf)&&0===o.round(fe.bottom-fe.top),si=t(w,ku),oa=!w&&ku,tt=kc(tf,"-"+rt,!(v&&pi||!pi),!(w&&pi||!pi)),yu=kc(li),s={},y={},hc=function(){return{w:wi[u.cW],h:wi[u.cH]}},hs=function(){return{w:bu[u.oW]+o.max(0,ir[u.cW]-ir[u.sW]),h:bu[u.oH]+o.max(0,ir[u.cH]-ir[u.sH])}},lc=oe=a.l+a.r,vc=fo=a.t+a.b;if(lc*=ef?1:0,vc*=ef?1:0,a.c=t(a,ys),cs=tt.l+tt.r,ls=tt.t+tt.b,tt.c=t(tt,fl),as=yu.l+yu.r,vs=yu.t+yu.b,yu.c=t(yu,el),lo=ee,ol=ke,ul=rs,rr=v,ku=w,ys=a,fl=tt,el=yu,d&&eu&&lr.css(pr,ht),a.c||d||lu||vr||si||vu||ec){var hi={},gs={},yc=[a.t,a.r,a.b,a.l];wf(y,li,[-a.t,-a.r,-a.b,-a.l]);ef?(wf(hi,it,yc),wf(ft?gs:s,er)):(wf(hi,it),wf(ft?gs:s,er,yc));tr.css(hi);st.css(gs)}gt=hs();var pu=!!ft&&ac(),sa=ft&&t(pu,dl),rh=ft&&pu?{w:ns?pu.X:pu.q,h:ts?pu.Y:pu.B}:{};if(dl=pu,w&&(si||lu||vu||a.c||tt.c)?s[pt]=dt:(si||lu)&&(s[pt]=cu),v&&(vr||lu||vu||a.c||tt.c||d)?(s[rt]=dt,y[wo+rt]=cu):(vr||lu)&&(s[rt]=cu,s[pr]=it,y[wo+rt]=it),v?(y[rt]=dt,s[rt]=c.v(rt,"max-content intrinsic")||dt,s[pr]=ht):y[rt]=it,y[pt]=w?rh.h||ir[u.cH]:it,fr&&oi.css(y),yt.css(s),s={},y={},kf||we||sa||d||vu||lu||vr||v||si||w||au||bo||fc||ao||nc||tc||rc||ic||ra||ua||fa){var to="overflow",oh=to+"-x",sh=to+"-y";if(!uu){var se={},ha=dr.y&&ve.ys&&!p?ct.y?ot.css(af):-fu.y:0,va=dr.x&&ve.xs&&!p?ct.x?ot.css(or):-fu.x:0;wf(se,it);ot.css(se)}var wr=pv(),he={w:rh.w||wr[u.cW],h:rh.h||wr[u.cH]},ya=wr[u.sW],pa=wr[u.sH];uu||(se[or]=oa?it:va,se[af]=ea?it:ha,ot.css(se));gt=hs();var io=hc(),hh={w:io.w-as-cs-(pi?0:oe),h:io.h-vs-ls-(pi?0:fo)},vf={w:o.max((v?he.w:ya)+lc,hh.w),h:o.max((w?he.h:pa)+vc,hh.h)};(vf.c=t(vf,ll),ll=vf,fr)&&((vf.c||w||v)&&(y[rt]=vf.w,y[pt]=vf.h,ft||(he={w:wr[u.cW],h:wr[u.cH]})),ch={},lh=function(n){var u=sr(n),i=u.F,t=u.K,r=n?v:w,f=n?cs:ls,e=n?oe:fo,s=n?as:vs,h=gt[i]-f-s-(pi?0:e);r&&(r||!tt.c)||(y[t]=hh[i]-1);!(r&&he[i]<h)||n&&ft&&ee||(ft&&(ch[t]=iu(su.css(t))-1),--y[t]);0<he[i]&&(y[t]=o.max(1,y[t]))},lh(!0),lh(!1),ft&&su.css(ch),oi.css(y));v&&(s[rt]=cu);!v||pi||gr||(s[pr]="none");yt.css(s);s={};vi={w:wr[u.sW],h:wr[u.sH]};vi.c=we=t(vi,hf);hf=vi;gt=hs();kf=t(io=hc(),ae);ae=io;var ah=ft&&(0===gt.w||0===gt.h),ro=te,pf={},ce={},pc={},et={},h={},r={},le={},bc=bu[u.bCR](),dc=function(n){var i=sr(n),u=sr(!n).U,t=i.U,f=i.F,e=i.K,c=ki+i.G+"Max",s=bc[e]?o.abs(bc[e]-gt[f]):0,l=ro&&0<ro[t]&&0===sf[c];pf[t]="v-s"===re[t];ce[t]="v-h"===re[t];pc[t]="s"===re[t];et[t]=o.max(0,o.round(100*(vi[f]-gt[f]))/100);et[t]*=ah||l&&0<s&&s<1?0:1;h[t]=0<et[t];r[t]=pf[t]||ce[t]?h[u]&&!pf[u]&&!ce[u]:h[t];r[t+"s"]=!!r[t]&&(pc[t]||pf[t]);le[t]=h[t]&&r[t+"s"]};if(dc(!0),dc(!1),et.c=t(et,te),te=et,h.c=t(h,dr),dr=h,r.c=t(r,ve),ve=r,ct.x||ct.y){var vh,yh={},yi={},uo=kr;(h.x||h.y)&&(yi.w=ct.y&&h.y?vi.w+ru.y:it,yi.h=ct.x&&h.x?vi.h+ru.x:it,uo=t(yi,rl),rl=yi);(h.c||r.c||vi.c||d||vr||si||v||w||au)&&(s[li+ht]=s[tf+ht]=it,vh=function(n){var f=sr(n),e=sr(!n),t=f.U,i=n?or:af,u=n?w:v;ct[t]&&h[t]&&r[t+"s"]?(s[li+i]=!u||p?it:ru[t],s[tf+i]=n&&u||p?it:ru[t]+"px solid transparent"):(yi[e.F]=s[li+i]=s[tf+i]=it,uo=!0)},uu?hr(ot,dh,!p):(vh(!0),vh(!1)));p&&(yi.w=yi.h=it,uo=!0);uo&&!uu&&(yh[rt]=r.y?yi.w:it,yh[pt]=r.x?yi.h:it,ou||(ou=e(nr(kv)),ot.prepend(ou)),ou.css(yh));yt.css(s)}if(l={},hi={},(kf||h.c||r.c||vi.c||bo||vu||au||d||fc||si)&&(l[ht]=it,(gc=function(n){var u=sr(n),i=sr(!n),t=u.U,f=u.J,e=n?or:af,o=function(){l[e]=it;eh[i.F]=0};h[t]&&r[t+"s"]?(l[to+f]=ki,p||uu?o():(l[e]=-(ct[t]?ru[t]:fu[t]),eh[i.F]=ct[t]?ru[i.U]:0)):(l[to+f]=it,o())})(!0),gc(!1),!uu&&(gt.h<lf.x||gt.w<lf.y)&&(h.x&&r.x&&!ct.x||h.y&&r.y&&!ct.y)?(l[er+ui]=lf.x,l[li+ui]=-lf.x,l[er+ht]=lf.y,l[li+ht]=-lf.y):l[er+ui]=l[li+ui]=l[er+ht]=l[li+ht]=it,l[er+af]=l[li+af]=it,h.x&&r.x||h.y&&r.y||ah?ft&&ah&&(hi[oh]=hi[sh]="hidden"):(!vo||ce.x||pf.x||ce.y||pf.y)&&(ft&&(hi[oh]=hi[sh]=it),l[oh]=l[sh]="visible"),tr.css(hi),ot.css(l),l={},(h.c||vu||vr||si)&&(!ct.x||!ct.y))&&(pe=ir[u.s],pe.webkitTransform="scale(1)",pe.display="run-in",ir[u.oH],pe.display=it,pe.webkitTransform=it),(s={},d||vr||si)&&(vt&&v?(nl=yt.css(pr),ph=o.round(yt.css(pr,it).css(at,it).position().left),yt.css(pr,nl),ph!==o.round(yt.position().left)&&(s[at]=ph)):s[at]=it),yt.css(s),ft&&we){if(k=function(){var t=wu.selectionStart;if(t!==i){for(var r,f=st.val(),c=f[u.l],e=f.split("\n"),l=e[u.l],o=f.substr(0,t).split("\n"),h=0,s=0,a=o[u.l],v=o[o[u.l]-1][u.l],n=0;n<e[u.l];n++)r=e[n][u.l],s<r&&(h=n+1,s=r);return{Q:a,Z:v,nn:l,tn:s,rn:h,en:t,"in":c}}}(),k){var sl=ds===i||k.nn!==ds.nn,vl=k.Q,wa=k.Z,ba=k.rn,ka=k.nn,da=k.tn,iv=k.en,yl=k["in"]<=iv&&nh,eo={x:ee||wa!==da||vl!==ba?-1:te.x,y:(ee?yl||sl&&ro&&di.y===ro.y:(yl||sl)&&vl===ka)?te.y:-1};di.x=-1<eo.x?vt&&hu&&lt.i?0:eo.x:di.x;di.y=-1<eo.y?eo.y:di.y}ds=k}vt&&lt.i&&ct.y&&h.x&&hu&&(di.x+=eh.w||0);v&&nt[ti](0);w&&nt[ii](0);ot[ti](di.x)[ii](di.y);var rv="v"===ie,fv="h"===ie,ev="a"===ie,oo=function(n,t){t=t===i?n:t;lv(!0,n,le.x);lv(!1,t,le.y)};hr(nt,go,r.x||r.y);hr(nt,la,r.x);hr(nt,aa,r.y);d&&!cr&&hr(nt,ca,vt);cr&&wt(nt,bh);ao&&(hr(nt,bh,yo),hr(ci,no,!yo),hr(ci,ga,po),hr(ci,nv,uh),hr(ci,tv,fh));(nc||bo||r.c||h.c||au)&&(p?au&&(fi(nt,ko),p&&oo(!1)):ev?oo(le.x,le.y):rv?oo(!0):fv&&oo(!1));(tc||au)&&(cc(!cf&&!ur),tu(ih,!ih));(kf||et.c||si||vr||ao||vu||lu||au||d)&&(wc(!0),br(!0),wc(!1),br(!1));ic&&av(!0,so);rc&&av(!1,co);gi("onDirectionChanged",{isRTL:vt,dir:ke},d);gi("onHostSizeChanged",{width:ae.w,height:ae.h},kf);gi("onContentSizeChanged",{width:hf.w,height:hf.h},we);gi("onOverflowChanged",{x:h.x,y:h.y,xScrollable:r.xs,yScrollable:r.ys,clipped:r.x||r.y},h.c||r.c);gi("onOverflowAmountChanged",{x:et.x,y:et.y},et.c)}cr&&du&&(dr.c||du.c)&&(du.f||ov(),ct.y&&dr.x&&yt.css(yr+rt,du.w+ru.y),ct.x&&dr.y&&yt.css(yr+pt,du.h+ru.x),du.c=!1);ri&&df.updateOnLoad&&hv();gi("onUpdated",{forced:kr})}}function hv(){ft||wv(function(n,t){yt.find(t).each(function(n,t){f.inA(t,pf)<0&&(pf.push(t),e(t).off(fc,hc).on(fc,hc))})})}function vc(n){var t=et._(n,et.g,!0,se);return se=ai({},se,t.S),kt=ai({},kt,t.z),t.z}function yc(n){var r="parent",a=ns+ni+rs,o=ft?ni+rs:it,t=kt.textarea.inheritedAttrs,c={},l=function(){var t=n?st:nt;vi(c,function(n,i){ht(i)==s&&(n==u.c?t.addClass(i):t.attr(n,i))})},v=[si,bo,wh,bh,ca,oa,sa,ha,ko,go,la,aa,us,ns,rs,ye].join(ni),h={};nt=nt||(ft?hi?st[r]()[r]()[r]()[r]():e(nr(wh)):st);yt=yt||vu(gh+o);ot=ot||vu(ts+o);tr=tr||vu(kh+o);ar=ar||vu("os-resize-observer-host");su=su||(ft?vu(bv):i);hi&&wt(nt,bo);n&&fi(nt,v);t=ht(t)==s?t.split(ni):t;f.isA(t)&&ft&&vi(t,function(t,i){ht(i)==s&&(c[i]=n?nt.attr(i):st.attr(i))});n?(hi&&ri?(ar.children().remove(),vi([tr,ot,yt,su],function(n,t){t&&fi(t.removeAttr(u.s),tc)}),wt(nt,ft?wh:si)):(yu(ar),yt.contents().unwrap().unwrap().unwrap(),ft&&(st.unwrap(),yu(nt),yu(su),l())),ft&&st.removeAttr(u.s),cr&&fi(df,ea)):(ft&&(kt.sizeAutoCapable||(h[rt]=st.css(rt),h[pt]=st.css(pt)),hi||st.addClass(rs).wrap(nt),nt=st[r]().css(h)),hi||(wt(st,ft?a:si),nt.wrapInner(yt).wrapInner(ot).wrapInner(tr).prepend(ar),yt=re(nt,di+gh),ot=re(nt,di+ts),tr=re(nt,di+kh),ft&&(yt.prepend(su),l())),uu&&wt(ot,dh),ct.x&&ct.y&&wt(ot,va),cr&&wt(df,ea),co=ar[0],wi=nt[0],bu=tr[0],sf=ot[0],ir=yt[0],lc())}function fy(){function t(n){ac();ut.update(dt);n&&ue&&clearInterval(o)}var o,r,s=[112,113,114,115,116,117,118,119,120,121,123,33,34,37,38,39,40,16,17,18,19,20,144],n=[],e="focus";ft?(9<rf||!ue?wr(st,"input",t):wr(st,[ah,vh],[function(i){var r=i.keyCode;pu(r,s)<0&&(n[u.l]||(t(),o=setInterval(t,1e3/60)),pu(r,n)<0&&n.push(r))},function(i){var r=i.keyCode,f=pu(r,n);pu(r,s)<0&&(-1<f&&n.splice(f,1),n[u.l]||t(!0))}]),wr(st,[ki,"drop",e,e+"out"],[function(n){return st[ti](lt.i&&hu?9999999:0),st[ii](0),f.prvD(n),f.stpP(n),!1},function(){setTimeout(function(){bt||t()},50)},function(){nh=!0;wt(nt,e)},function(){nh=!1;n=[];fi(nt,e);t(!0)}])):wr(yt,yh,function(n){!0!==ws&&function(n){if(!ri)return 1;var r="flex-grow",f="flex-shrink",e="flex-basis",o=[rt,yr+rt,wo+rt,li+at,li+bi,at,bi,"font-weight","word-spacing",r,f,e],s=[er+at,er+bi,tf+at+rt,tf+bi+rt],h=[pt,yr+pt,wo+pt,li+ui,li+or,ui,or,"line-height",r,f,e],c=[er+ui,er+or,tf+ui+rt,tf+or+rt],l="s"===ne.x||"v-s"===ne.x,t=!1,i=function(n,t){for(var i=0;i<n[u.l];i++)if(n[i]===t)return!0;return!1};return("s"===ne.y||"v-s"===ne.y)&&((t=i(h,n))||pi||(t=i(c,n))),l&&!t&&((t=i(o,n))||pi||(t=i(s,n))),t}((n=n.originalEvent||n).propertyName)&&ut.update(dt)});wr(ot,ki,function(n){ei||(r!==i?clearTimeout(r):((gu||ur)&&tu(!0),io()||wt(nt,ko),gi("onScrollStart",n)),nf||(br(!0),br(!1)),gi("onScroll",n),r=setTimeout(function(){bt||(clearTimeout(r),r=i,(gu||ur)&&tu(!1),io()||fi(nt,ko),gi("onScrollStop",n))},175))},!0)}function pc(n){function f(n){var t=sr(n),i=t.an,f=t.un,e=t.cn;hi&&ri?vi([i,f,e],function(n,t){fi(t.removeAttr(u.s),tc)}):yu(i||r(n).an)}var t,i,r=function(t){var i=vu(lu+ni+(t?ny:ty),!0),r=vu(pa,i),u=vu(ba,i);return hi||n||(i.append(r),r.append(u)),{an:i,un:r,cn:u}};n?(f(!0),f()):(t=r(!0),i=r(),ff=t.an,oo=t.un,he=t.cn,ef=i.an,so=i.un,ce=i.cn,hi||(tr.after(ef),tr.after(ff)))}function cv(n){function nt(n){return rf&&ct?n["screen"+at]:f.page(n)[c]}function w(n){return kt.scrollbars[n]}function tt(){p=.5}function it(){p=1}function rt(n){f.stpP(n)}function ft(n){-1<pu(n.keyCode,g)&&tt()}function et(n){-1<pu(n.keyCode,g)&&it()}function b(n){var t=(n.originalEvent||n).touches!==i;return!(ei||bt||io()||!bs||t&&!w("touchSupport"))&&(1===f.mBtn(n)||t)}function st(t){if(b(t)){var u=e.I,s=e.D,i=e.N*((nt(t)-a)*v/(u-s));i=isFinite(i)?i:0;vt&&n&&!lt.i&&(i*=-1);ot[l](o.round(r+i));nf&&br(n,r+i);ee||f.prvD(t)}else y(t)}function y(e){if(e=e||e.originalEvent,yi(kr,[ke,be,ah,vh,de],[st,y,ft,et,to],!0),f.rAF()(function(){yi(kr,d,rt,!0,{$:!0})}),nf&&br(n,!0),nf=!1,fi(uf,vf),fi(t.cn,s),fi(t.un,s),fi(t.an,s),v=1,it(),h!==(a=r=i)&&(ut.scrollStop(),clearTimeout(h),h=i),e){var o=wi[u.bCR]();e.clientX>=o.left&&e.clientX<=o.right&&e.clientY>=o.top&&e.clientY<=o.bottom||ev();(gu||ur)&&tu(!1)}}function ht(i){r=ot[l]();r=isNaN(r)?0:r;(vt&&n&&!lt.n||!vt)&&(r=r<0?0:r);v=dc()[c];a=nt(i);nf=!w(k);wt(uf,vf);wt(t.cn,s);wt(t.an,s);yi(kr,[ke,be,de],[st,y,to]);f.rAF()(function(){yi(kr,d,rt,!1,{$:!0})});!rf&&hs||f.prvD(i);f.stpP(i)}var h,r,a,v,t=sr(n),e=t.sn,ct=le.top!==le,c=t.U,at=t.J,l=ki+t.G,s="active",k="snapHandle",d="click",p=1,g=[16,17];wr(t.cn,ie,function(n){b(n)&&ht(n)});wr(t.un,[ie,ua,fa],[function(r){if(b(r)){var u,d=t.sn.D/Math.round(o.min(1,gt[t.F]/hf[t.F])*t.sn.I),at=o.round(gt[t.F]*d),yt=270*d,pt=400*d,kt=t.un.offset()[t.P],nt=r.ctrlKey,it=r.shiftKey,dt=it&&nt,g=!0,rt=function(t){nf&&br(n,t)},st=function(){rt();ht(r)},ct=function(){if(!bt){var r=(a-kt)*v,f=e.W,nt=e.I,s=e.D,b=e.N,tt=e.R,k=yt*p,ft=g?o.max(pt,k):k,t=b*((r-s/2)/(nt-s)),y=vt&&n&&(!lt.i&&!lt.n||hu),et=y?f<r:r<f,w={},d={easing:"linear",step:function(t){nf&&(ot[l](t),br(n,t))}};t=isFinite(t)?t:0;t=vt&&n&&!lt.i?b-t:t;it?(ot[l](t),dt?(t=ot[l](),ot[l](tt),t=y&&lt.i?b-t:t,t=y&&lt.n?-t:t,w[c]=t,ut.scroll(w,ai(d,{duration:130,complete:st}))):st()):(u=g?et:u,(y?u?r<=f+s:f<=r:u?f<=r:r<=f+s)?(clearTimeout(h),ut.scrollStop(),h=i,rt(!0)):(h=setTimeout(ct,ft),w[c]=(u?"-=":"+=")+at,ut.scroll(w,ai(d,{duration:k}))),g=!1)}};nt&&tt();v=dc()[c];a=f.page(r)[c];nf=!w(k);wt(uf,vf);wt(t.un,s);wt(t.an,s);yi(kr,[be,ah,vh,de],[y,ft,et,to]);ct();f.prvD(r);f.stpP(r)}},function(){rh=!0;(gu||ur)&&tu(!0)},function(){rh=!1;(gu||ur)&&tu(!1)}]);wr(t.an,ie,function(n){f.stpP(n)});fe&&wr(t.an,yh,function(i){i.target===t.an[0]&&(wc(n),br(n))})}function lv(n,t,i){var r=n?ff:ef;hr(nt,n?oa:sa,!t);hr(r,da,!i)}function tu(n,t){if(clearTimeout(ia),n)fi(ff,ge),fi(ef,ge);else{var i,r=function(){rh||bt||(!(i=he.hasClass("active")||ce.hasClass("active"))&&(gu||ur||cf)&&wt(ff,ge),!i&&(gu||ur||cf)&&wt(ef,ge))};0<th&&!0!==t?ia=setTimeout(r,th):r()}}function wc(n){var i={},t=sr(n),r=t.sn,u=o.min(1,gt[t.F]/hf[t.F]);i[t.K]=o.floor(1e8*u)/1e6+"%";io()||t.cn.css(i);r.D=t.cn[0]["offset"+t.ln];r.M=u}function br(n,t){var l,k,a=ht(t)==y,v=vt&&n,r=sr(n),f=r.sn,d="translate(",g=c.u("transform"),nt=c.u("transition"),p=n?ot[ti]():ot[ii](),ft=t===i||a?p:t,w=f.D,s=r.un[0]["offset"+r.ln],et=s-w,h={},b=(sf[ki+r.ln]-sf["client"+r.ln])*(lt.n&&v?-1:1),tt=function(n){return isNaN(n/b)?0:o.max(0,o.min(1,n/b))},rt=function(n){var t=et*n;return t=isNaN(t)?0:t,t=v&&!lt.i?s-w-t:t,t=o.max(0,t)},ut=tt(p),e=rt(tt(ft)),st=rt(ut);f.N=b;f.R=p;f.L=ut;kf?(l=v?-(s-w-e):e,k=n?d+l+"px, 0)":d+"0, "+l+"px)",h[g]=k,fe&&(h[nt]=a&&1<o.abs(e-f.W)?function(n){var o=c.u("transition"),s=n.css(o);if(s)return s;for(var r,f,t,h="\\s*(([^,(]+(\\(.+?\\))?)+)[\\s,]*",l=new RegExp(h),v=new RegExp("^("+h+")+$"),a="property duration timing-function delay".split(" "),i=[],e=0,y=function(n){if(r=[],!n.match(v))return n;for(;n.match(l);)r.push(RegExp.$1),n=n.replace(l,it);return r};e<a[u.l];e++)for(f=y(n.css(o+"-"+a[e])),t=0;t<f[u.l];t++)i[t]=(i[t]?i[t]+ni:it)+f[t];return i.join(", ")}(r.cn)+", "+(g+ni+250)+"ms":it)):h[r.P]=e;io()||(r.cn.css(h),kf&&fe&&a&&r.cn.one(yh,function(){bt||r.cn.css(nt,it)}));f.W=e;f.j=st;f.I=s}function av(n,t){var i=t?"removeClass":"addClass",u=n?so:ce,r=n?wa:ka;(n?oo:he)[i](r);u[i](r)}function sr(n){return{K:n?rt:pt,ln:n?"Width":"Height",P:n?at:ui,G:n?"Left":"Top",U:n?pe:we,J:n?"X":"Y",F:n?"w":"h",vn:n?"l":"t",un:n?oo:so,cn:n?he:ce,an:n?ff:ef,sn:n?fr:vr}}function bc(n){ci=ci||vu(nc,!0);n?hi&&ri?fi(ci.removeAttr(u.s),tc):yu(ci):hi||nt.append(ci)}function gi(n,t,i){if(!1!==i)if(ri){var u,f=kt.callbacks[n],r=n;"on"===r.substr(0,2)&&(r=r.substr(2,1).toLowerCase()+r.substr(3));ht(f)==l&&f.call(ut,t);vi(au,function(){ht((u=this).on)==l&&u.on(r,t)})}else bt||ic.push({n:n,a:t})}function wf(n,t,i){i=i||[it,it,it,it];n[(t=t||it)+ui]=i[0];n[t+bi]=i[1];n[t+or]=i[2];n[t+at]=i[3]}function kc(n,t,i,r){return t=t||it,n=n||it,{t:r?0:iu(nt.css(n+ui+t)),r:i?0:iu(nt.css(n+bi+t)),b:r?0:iu(nt.css(n+or+t)),l:i?0:iu(nt.css(n+at+t))}}function vv(n,t){var i,r,f,e=function(n,t){if(f="",t&&typeof n==s)for(r=n.split(ni),i=0;i<r[u.l];i++)f+="|"+r[i]+"$";return f};return new RegExp("(^"+si+"([-_].+|)$)"+e(ye,n)+e(ks,t),"g")}function dc(){var n=bu[u.bCR]();return{x:kf&&1/(o.round(n.width)/bu[u.oW])||1,y:kf&&1/(o.round(n.height)/bu[u.oH])||1}}function yv(t){var i="ownerDocument",r="HTMLElement",u=t&&t[i]&&t[i].parentWindow||n;return typeof u[r]==h?t instanceof u[r]:t&&typeof t==h&&null!==t&&1===t.nodeType&&typeof t.nodeName==s}function iu(n,t){var i=t?parseFloat(n):parseInt(n,10);return isNaN(i)?0:i}function io(){return ps&&ct.x&&ct.y}function pv(){return ft?su[0]:ir}function nr(n,t){return"<div "+(n?ht(n)==s?'class="'+n+'"':function(){var t,i=it;if(e.isPlainObject(n))for(t in n)i+=("c"===t?"class":t)+'="'+n[t]+'" ';return i}():it)+">"+(t||it)+"<\/div>"}function vu(n,t){var i=ht(t)==y,r=!i&&t||nt;return hi&&!r[u.l]?null:hi?r[i?"children":"find"](di+n.replace(/\s/g,di)).eq(0):e(nr(n))}function gc(n,t){for(var r,f=t.split(di),i=0;i<f.length;i++){if(!n[u.hOP](f[i]))return;r=n[f[i]];i<f.length&&ht(r)==h&&(n=r)}return r}function wv(n){var t=kt.updateOnLoad;t=ht(t)==s?t.split(ni):t;f.isA(t)&&!bt&&vi(t,n)}function bf(n,t,i){if(i)return i;if(ht(n)!=h||ht(t)!=h)return n!==t;for(var r in n)if("c"!==r&&(!n[u.hOP](r)||!t[u.hOP](r)||bf(n[r],t[r])))return!0;return!1}function ai(){return e.extend.apply(this,[!0].concat([].slice.call(arguments)))}function wt(n,t){return ro.addClass.call(n,t)}function fi(n,t){return ro.removeClass.call(n,t)}function hr(n,t,i){return(i?wt:fi)(n,t)}function yu(n){return ro.remove.call(n)}function re(n,t){return ro.find.call(n,t).eq(0)}var ht=f.type,pu=e.inArray,vi=e.each,ut=new v,ro=e[u.p],es;if(yv(r)){if(p(r))return es=p(r),es.options(a),es;var ct,ru,lt,ue,rf,uu,os,fu,fe,kf,ee,ss,uo,ri,bt,ft,cr,hs,hi,pi,eu,oe,fo,cs,ls,as,vs,vt,ei,nl,se,kt,tl,il,eo,kr,df,uf,st,nt,lr,ar,tr,ot,yt,ou,oi,su,ci,ff,oo,he,ef,so,ce,le,gf,wu,wi,ho,co,bu,sf,ir,ae,hf,rl,dr,ve,rr,ku,ul,ys,fl,el,ol,sl,hl,cl,ll,ne,te,ps,ws,al,vl,yl,pl,wl,bl,bs,kl,hu,ye,ks,lo,ds,dl,gl,na,du,ao,vo,ta,gs,gr,nh,ia,ra,th,ih,gu,ur,cf,rh,nf,yo,po,uh,fh,eh={},fr={},vr={},gt={},lf={},oh="-hidden",li="margin-",er="padding-",tf="border-",ui="top",bi="right",or="bottom",at="left",yr="min-",wo="max-",rt="width",pt="height",pr="float",it="",dt="auto",sh="sync",ki="scroll",cu="100%",pe="x",we="y",di=".",ni=" ",hh="scrollbar",ch="-horizontal",lh="-vertical",ti=ki+"Left",ii=ki+"Top",ie="mousedown touchstart",be="mouseup touchend touchcancel",ke="mousemove touchmove",ua="mouseenter",fa="mouseleave",ah="keydown",vh="keyup",de="selectstart",yh="transitionend webkitTransitionEnd oTransitionEnd",ph="__overlayScrollbarsRO__",ea="os-html",si="os-host",bo=si+"-foreign",wh=si+"-textarea",oa=si+"-"+hh+ch+oh,sa=si+"-"+hh+lh+oh,ha=si+"-transition",ca=si+"-rtl",bh=si+"-resize-disabled",ko=si+"-scrolling",go=si+"-overflow",la=(go=si+"-overflow")+"-x",aa=go+"-y",ns="os-textarea",bv=ns+"-cover",kh="os-padding",ts="os-viewport",dh=ts+"-native-scrollbars-invisible",va=ts+"-native-scrollbars-overlaid",gh="os-content",kv="os-content-arrange",dv="os-content-glue",gv="os-size-auto-observer",af="os-resize-observer",is="os-resize-observer-item",ya=is+"-final",rs="os-text-inherit",lu="os-"+hh,pa=lu+"-track",wa=pa+"-off",ba=lu+"-handle",ka=ba+"-off",da=lu+"-unusable",ge=lu+"-"+dt+oh,nc=lu+"-corner",no=nc+"-resize",ga=no+"-both",nv=no+ch,tv=no+lh,ny=lu+ch,ty=lu+lh,vf="os-dragging",us="os-theme-none",tc=[dh,va,wa,ka,da,ge,no,ga,nv,tv,vf].join(ni),ic=[],rc=[u.ti],au={},yf={},uc=42,fc="load",pf=[],iv={},rv=["wrap","cols","rows"],ec=[u.i,u.c,u.s,"open"].concat(rc),oc=[];return ut.sleep=function(){ei=!0},ut.update=function(n){var f,t,e,r,o;if(!bt)return ht(n)==s?n===dt?(f=function(){if(!ei&&!gr){var n,t,f,r=[],e=[{T:nt,O:ec.concat(":visible")},{T:ft?st:i,O:rv}];return vi(e,function(i,u){(n=u.T)&&vi(u.O,function(i,u){t=":"===u.charAt(0)?n.is(u):n.attr(u);f=iv[u];bf(t,f)&&r.push(u);iv[u]=t})}),lc(r),0<r[u.l]}}(),t=function(){if(ei)return!1;var i,r,f,t,e=pv(),o=ft&&rr&&!lo?st.val().length:0,s=!gr&&rr&&!ft,n={};return s&&(i=yt.css(pr),n[pr]=vt?bi:at,n[rt]=dt,yt.css(n)),t={w:e[u.sW]+o,h:e[u.sH]+o},s&&(n[pr]=i,n[rt]=cu,yt.css(n)),r=ov(),f=bf(t,vl),vl=t,f||r}(),(e=f||t)&&nu({k:t,C:ri?i:kt})):n===sh?gr?(r=ta(ao.takeRecords()),o=gs(vo.takeRecords())):r=ut.update(dt):"zoom"===n&&nu({A:!0,k:!0}):(n=ei||n,ei=!1,ut.update(sh)&&!n||nu({H:n})),hv(),e||r||o},ut.options=function(n,t){var i,r={};if(e.isEmptyObject(n)||!e.isPlainObject(n)){if(ht(n)!=s)return se;if(!(1<arguments.length))return gc(se,n);!function(n,t,i){for(var f=t.split(di),o=f.length,r=0,u={},s=u;r<o;r++)u=u[f[r]]=r+1<o?{}:i;e.extend(n,s,!0)}(r,n,t);i=vc(r)}else i=vc(n);e.isEmptyObject(i)||nu({C:i})},ut.destroy=function(){var t,n;if(!bt){for(t in g.remove(ut),sc(),fs(ar),fs(lr),au)ut.removeExt(t);for(;0<oc[u.l];)oc.pop()();for(cc(!0),oi&&yu(oi),ou&&yu(ou),eu&&yu(lr),pc(!0),bc(!0),yc(!0),n=0;n<pf[u.l];n++)e(pf[n]).off(fc,hc);pf=i;ei=bt=!0;p(r,0);gi("onDestroyed")}},ut.scroll=function(n,t,r,c){function cr(n,t){for(a=0;a<t[w];a++)if(n===t[a])return 1}function lr(n,t){var i=n?nu:tu;if(t=ht(t)==s||ht(t)==d?[t,t]:t,f.isA(t))return n?t[0]:t[1];if(ht(t)==h)for(a=0;a<i[w];a++)if(i[a]in t)return t[i[a]]}function ar(n,t){var l,u,r,a,g=ht(t)==s,y=n?fr:vr,p=y.R,h=y.N,c=vt&&n,b=c&&lt.n&&!st,f="replace",nt=eval;if((u=g?(2<t[w]&&(a=t.substr(0,2),-1<pu(a,ru)&&(l=a)),t=(t=l?t.substr(2):t)[f](/min/g,0)[f](/</g,0)[f](/max/g,(b?"-":it)+cu)[f](/>/g,(b?"-":it)+cu)[f](/px/g,it)[f](/%/g," * "+h*(c&&lt.n?-1:1)/100)[f](/vw/g," * "+gt.w)[f](/vh/g," * "+gt.h),iu(isNaN(t)?iu(nt(t),!0).toFixed():t)):t)!==i&&!isNaN(u)&&ht(u)==d){var v=st&&c,e=p*(v&&lt.n?-1:1),k=v&&lt.i,tt=v&&lt.n;switch(e=k?h-e:e,l){case"+=":r=e+u;break;case"-=":r=e-u;break;case"*=":r=e*u;break;case"/=":r=e/u;break;default:r=u}r=k?h-r:r;r*=tt?-1:1;r=c&&lt.n?o.min(0,o.max(h,r)):o.max(0,o.min(h,r))}return r===p?i:r}function yr(n,t,i,r){var u,f,e=[i,i],o=ht(n);if(o==t)n=[n,n];else if(o==k){if(2<(u=n[w])||u<1)n=e;else for(1===u&&(n[1]=i),a=0;a<u;a++)if(f=n[a],ht(f)!=t||!cr(f,r)){n=e;break}}else n=o==h?[n[pe]||i,n[we]||i]:e;return{x:n[0],y:n[1]}}function ci(n){var t,r,i=[],u=[ui,bi,or,at];for(a=0;a<n[w]&&a!==u[w];a++)t=n[a],(r=ht(t))==y?i.push(t?iu(oi.css(li+u[a])):0):i.push(r==d?t:0);return i}var b;if(0===arguments.length||n===i){var nr=hu&&vt&&lt.i,ir=hu&&vt&&lt.n,dt=fr.R,ni=fr.L,vi=fr.N;return ni=nr?1-ni:ni,dt=nr?vi-dt:dt,vi*=ir?-1:1,{position:{x:dt*=ir?-1:1,y:vr.R},ratio:{x:ni,y:vr.L},max:{x:vi,y:vr.N},handleOffset:{x:fr.W,y:vr.W},handleLength:{x:fr.D,y:vr.D},handleLengthRatio:{x:fr.M,y:vr.M},trackLength:{x:fr.I,y:vr.I},snappedHandleOffset:{x:fr.j,y:vr.j},isRTL:vt,isRTLNormalized:hu}}ut.update(sh);var a,ri,fi,ei,yi,g,et,nt,oi,st=hu,nu=[pe,at,"l"],tu=[we,ui,"t"],ru=["+=","-=","*=","/="],pi=ht(t)==h,rr=pi?t.complete:c,p={},wi={},ct="begin",ur="nearest",si="never",hi="ifneeded",w=u.l,uu=[pe,we,"xy","yx"],fu=[ct,"end","center",ur],eu=["always",si,hi],yt=n[u.hOP]("el"),wt=yt?n.el:n,ki=!!(wt instanceof e||tt)&&wt instanceof tt,ou=!ki&&yv(wt),er=function(){ri&&br(!0);fi&&br(!1)},hr=ht(rr)!=l?i:function(){er();rr()};if(ki||ou){var pr,v=yt?n.margin:0,wr=yt?n.axis:0,su=yt?n.scroll:0,lu=yt?n.block:0,kr=[0,0,0,0],ai=ht(v);if(0<(oi=ki?wt:e(wt))[w]){v=ai==d||ai==y?ci([v,v,v,v]):ai==k?2===(pr=v[w])?ci([v[0],v[1],v[0],v[1]]):4<=pr?ci(v):kr:ai==h?ci([v[ui],v[bi],v[or],v[at]]):kr;yi=cr(wr,uu)?wr:"xy";g=yr(su,s,"always",eu);et=yr(lu,s,ct,fu);nt=v;var di=fr.R,au=vr.R,bt=tr.offset(),ft=oi.offset(),kt={x:g.x==si||yi==we,y:g.y==si||yi==pe};if(ft[ui]-=nt[0],ft[at]-=nt[3],b={x:o.round(ft[at]-bt[at]+di),y:o.round(ft[ui]-bt[ui]+au)},vt&&(lt.n||lt.i||(b.x=o.round(bt[at]-ft[at]+di)),lt.n&&st&&(b.x*=-1),lt.i&&st&&(b.x=o.round(bt[at]-ft[at]+(fr.N-di)))),et.x!=ct||et.y!=ct||g.x==hi||g.y==hi||vt){var gi=oi[0],dr=kf?gi[u.bCR]():{width:gi[u.oW],height:gi[u.oH]},vu={w:dr[rt]+nt[3]+nt[1],h:dr[pt]+nt[0]+nt[2]},gr=function(n){var u=sr(n),o=u.F,s=u.P,t=u.U,h=et[t]==(n&&vt?ct:"end"),c="center"==et[t],p=et[t]==ur,w=g[t]==si,l=g[t]==hi,i=gt[o],f=bt[s],r=vu[o],e=ft[s],a=c?2:1,v=e+r/2,y=f+i/2,k=r<=i&&f<=e&&e+r<=f+i;w?kt[t]=!0:kt[t]||((p||l)&&(kt[t]=l&&k,h=r<i?y<v:v<y),b[t]-=h||c?(i/a-r/a)*(n&&vt&&st?-1:1):0)};gr(!0);gr(!1)}kt.y&&delete b.y;kt.x&&delete b.x;n=b}}p[ti]=ar(!0,lr(!0,n));p[ii]=ar(!1,lr(!1,n));ri=p[ti]!==i;fi=p[ii]!==i;(ri||fi)&&(0<t||pi)?pi?(t.complete=hr,ot.animate(p,t)):(ei={duration:t,complete:hr},f.isA(r)||e.isPlainObject(r)?(wi[ti]=r[0]||r.x,wi[ii]=r[1]||r.y,ei.specialEasing=wi):ei.easing=r,ot.animate(p,ei)):(ri&&ot[ti](p[ti]),fi&&ot[ii](p[ii]),er())},ut.scrollStop=function(n,t,i){return ot.stop(n,t,i),ut},ut.getElements=function(n){var t={target:wu,host:wi,padding:bu,viewport:sf,content:ir,scrollbarHorizontal:{scrollbar:ff[0],track:oo[0],handle:he[0]},scrollbarVertical:{scrollbar:ef[0],track:so[0],handle:ce[0]},scrollbarCorner:ci[0]};return ht(n)==s?gc(t,n):t},ut.getState=function(n){function t(n){if(!e.isPlainObject(n))return n;var t=ai({},n),i=function(n,i){t[u.hOP](n)&&(t[i]=t[n],delete t[n])};return i("w",rt),i("h",pt),delete t.c,t}var i={destroyed:!!t(bt),sleeping:!!t(ei),autoUpdate:t(!gr),widthAuto:t(rr),heightAuto:t(ku),padding:t(ys),overflowAmount:t(te),hideOverflow:t(ve),hasOverflow:t(dr),contentScrollSize:t(hf),viewportSize:t(gt),hostSize:t(ae),documentMixed:t(hs)};return ht(n)==s?gc(i,n):i},ut.ext=function(n){var i,r="added removed on contract".split(" "),t=0;if(ht(n)==s){if(au[u.hOP](n))for(i=ai({},au[n]);t<r.length;t++)delete i[r[t]]}else for(t in i={},au)i[t]=ai({},ut.ext(t));return i},ut.addExt=function(t,i){var r,o,s,h,c=v.extension(t),a=!0;if(c){if(au[u.hOP](t))return ut.ext(t);if((r=c.extensionFactory.call(ut,ai({},c.defaultOptions),e,f))&&(s=r.contract,ht(s)==l&&(h=s(n),a=ht(h)==y?h:a),a))return o=(au[t]=r).added,ht(o)==l&&o(i),ut.ext(t)}else console.warn('A extension with the name "'+t+"\" isn't registered.")},ut.removeExt=function(n){var t,i=au[n];return!!i&&(delete au[n],t=i.removed,ht(t)==l&&t(),!0)},v.valid(function(n,r,h){var c,l;return nl=b.defaultOptions,uu=b.nativeScrollbarStyling,fu=ai({},b.nativeScrollbarSize),ct=ai({},b.nativeScrollbarIsOverlaid),ru=ai({},b.overlayScrollbarDummySize),lt=ai({},b.rtlScrollBehavior),vc(ai({},nl,r)),os=b.cssCalc,rf=b.msie,ue=b.autoUpdateRecommended,fe=b.supportTransition,kf=b.supportTransform,ee=b.supportPassiveEvents,ss=b.supportResizeObserver,uo=b.supportMutationObserver,b.restrictedMeasuring,kr=e(n.ownerDocument),gf=kr[0],eo=e(gf.defaultView||gf.parentWindow),le=eo[0],df=re(kr,"html"),uf=re(df,"body"),st=e(n),wu=st[0],ft=st.is("textarea"),cr=st.is("body"),hs=gf!==t,hi=ft?st.hasClass(ns)&&st.parent().hasClass(gh):st.hasClass(si)&&st.children(di+kh)[u.l],ct.x&&ct.y&&!kt.nativeScrollbarsOverlaid.initialize?(ri=!0,gi("onInitializationWithdrawn"),hi&&(yc(!0),pc(!0),bc(!0)),ei=bt=!(ri=!1)):(cr&&((c={}).l=o.max(st[ti](),df[ti](),eo[ti]()),c.t=o.max(st[ii](),df[ii](),eo[ii]()),l=function(){ot.removeAttr(u.ti);yi(ot,ie,l,!0,!0)}),yc(),pc(),bc(),fy(),cv(!0),cv(!1),function(){function s(t){if(h(t)){var u=c(t),i={};(uh||po)&&(i[rt]=n.w+(u.x-r.x)*e.x);(fh||po)&&(i[pt]=n.h+(u.y-r.y)*e.y);nt.css(i);f.stpP(t)}else o(t)}function o(n){var r=n!==i;yi(kr,[de,ke,be],[to,s,o],!0);fi(uf,vf);ci.releaseCapture&&ci.releaseCapture();r&&(t&&uv(),ut.update(dt));t=!1}function h(n){var t=(n.originalEvent||n).touches!==i;return!ei&&!bt&&(1===f.mBtn(n)||t)}function c(n){return rf&&l?{x:n.screenX,y:n.screenY}:f.page(n)}var t,l=le.top!==le,r={},n={},e={};wr(ci,ie,function(i){h(i)&&!yo&&(gr&&(t=!0,sc()),r=c(i),n.w=wi[u.oW]-(pi?0:oe),n.h=wi[u.oH]-(pi?0:fo),e=dc(),yi(kr,[de,ke,be],[to,s,o]),wt(uf,vf),ci.setCapture&&ci.setCapture(),f.prvD(i),f.stpP(i))})}(),iy(),fs(ar,ry),cr&&(ot[ti](c.l)[ii](c.t),t.activeElement==n&&sf.focus&&(ot.attr(u.ti,"-1"),sf.focus(),yi(ot,ie,l,!1,!0))),ut.update(dt),ri=!0,gi("onInitialized"),vi(ic,function(n,t){gi(t.n,t.a)}),ic=[],ht(h)==s&&(h=[h]),f.isA(h)?vi(h,function(n,t){ut.addExt(t)}):e.isPlainObject(h)&&vi(h,function(n,t){ut.addExt(n,t)}),setTimeout(function(){fe&&!bt&&wt(nt,ha)},333)),ut}(r,a,w))&&p(r,ut),ut}}var st,b,ht,ct,h="object",l="function",k="array",s="string",y="boolean",d="number",it="null",u={c:"class",s:"style",i:"id",l:"length",p:"prototype",ti:"tabindex",oH:"offsetHeight",cH:"clientHeight",sH:"scrollHeight",oW:"offsetWidth",cW:"clientWidth",sW:"scrollWidth",hOP:"hasOwnProperty",bCR:"getBoundingClientRect"},c=(st={},b={},{e:ht=["-webkit-","-moz-","-o-","-ms-"],o:ct=["WebKit","Moz","O","MS"],u:function(n){var o=b[n];if(b[u.hOP](n))return o;for(var f,r,s,h=at(n),c=t.createElement("div")[u.s],e=0;e<ht.length;e++)for(s=ht[e].replace(/-/g,""),f=[n,ht[e]+n,s+h,at(s)+h],r=0;r<f[u.l];r++)if(c[f[r]]!==i){o=f[r];break}return b[n]=o},v:function(n,i,r){var o=n+" "+i,s=b[o];if(b[u.hOP](o))return s;for(var h,a=t.createElement("div")[u.s],l=i.split(" "),v=r||"",f=0,e=-1;f<l[u.l];f++)for(;e<c.e[u.l];e++)if(h=e<0?l[f]:c.e[e]+l[f],a.cssText=n+":"+h+v,a[u.l]){s=h;break}return b[o]=s},d:function(t,i,r){var e=0,f=st[t];if(!st[u.hOP](t)){for(f=n[t];e<ct[u.l];e++)f=f||n[(i?ct[e]:ct[e].toLowerCase())+at(t)];st[t]=f}return f||r}}),f={wW:g(wt,0,!0),wH:g(wt,0),mO:g(c.d,0,"MutationObserver",!0),rO:g(c.d,0,"ResizeObserver",!0),rAF:g(c.d,0,"requestAnimationFrame",!1,function(t){return n.setTimeout(t,1e3/60)}),cAF:g(c.d,0,"cancelAnimationFrame",!1,function(t){return n.clearTimeout(t)}),now:function(){return Date.now&&Date.now()||(new Date).getTime()},stpP:function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},prvD:function(n){n.preventDefault&&n.cancelable?n.preventDefault():n.returnValue=!1},page:function(n){var e=((n=n.originalEvent||n).target||n.srcElement||t).ownerDocument||t,r=e.documentElement,u=e.body,f;return n.touches===i?!n.pageX&&n.clientX&&null!=n.clientX?{x:n.clientX+(r&&r.scrollLeft||u&&u.scrollLeft||0)-(r&&r.clientLeft||u&&u.clientLeft||0),y:n.clientY+(r&&r.scrollTop||u&&u.scrollTop||0)-(r&&r.clientTop||u&&u.clientTop||0)}:{x:n.pageX,y:n.pageY}:(f=n.touches[0],{x:f.pageX,y:f.pageY})},mBtn:function(n){var t=n.button;return n.which||t===i?n.which:1&t?1:2&t?3:4&t?2:0},inA:function(n,t){for(var i=0;i<t[u.l];i++)try{if(t[i]===n)return i}catch(r){}return-1},isA:function(n){var t=Array.isArray;return t?t(n):this.type(n)==k},type:function(n){return n===i||null===n?n+"":Object[u.p].toString.call(n).replace(/^\[object (.+)\]$/,"$1").toLowerCase()},bind:g},rt,lt,v,nt,vt,ot,bt,ut,ft,a,kt,dt,gt,w,et,o=Math,tt=r,e=(r.easing,r),p=(rt=[],lt="__overlayScrollbars__",function(n,t){var r=arguments[u.l],i;if(r<1)return rt;if(t)n[lt]=t,rt.push(n);else if(i=f.inA(n,rt),-1<i){if(!(1<r))return rt[i][lt];delete n[lt];rt.splice(i,1)}}),yt=(w=[],ot=f.type,dt={className:["os-theme-dark",[it,s]],resize:["none","n:none b:both h:horizontal v:vertical"],sizeAutoCapable:ut=[!0,y],clipAlways:ut,normalizeRTL:ut,paddingAbsolute:ft=[!(bt=[y,d,s,k,h,l,it]),y],autoUpdate:[null,[it,y]],autoUpdateInterval:[33,d],updateOnLoad:[["img"],[s,k,it]],nativeScrollbarsOverlaid:{showNativeScrollbars:ft,initialize:ut},overflowBehavior:{x:["scroll",kt="v-h:visible-hidden v-s:visible-scroll s:scroll h:hidden"],y:["scroll",kt]},scrollbars:{visibility:["auto","v:visible h:hidden a:auto"],autoHide:["never","n:never s:scroll l:leave m:move"],autoHideDelay:[800,d],dragScrolling:ut,clickScrolling:ft,touchSupport:ut,snapHandle:ft},textarea:{dynWidth:ft,dynHeight:ft,inheritedAttrs:[["style","class"],[s,k,it]]},callbacks:{onInitialized:a=[null,[it,l]],onInitializationWithdrawn:a,onDestroyed:a,onScrollStart:a,onScroll:a,onScrollStop:a,onOverflowChanged:a,onOverflowAmountChanged:a,onDirectionChanged:a,onContentSizeChanged:a,onHostSizeChanged:a,onUpdated:a}},et={m:(gt=function(n){var t=function(i){var r,f,e;for(r in i)i[u.hOP](r)&&(f=i[r],(e=ot(f))==k?i[r]=f[n?1:0]:e==h&&(i[r]=t(f)));return i};return t(e.extend(!0,{},dt))})(),g:gt(!0),_:function(t,r,o,c){var a={},v={},l=e.extend(!0,{},t),y=e.inArray,p=e.isEmptyObject,w=function(n,t,r,c,l,a){for(var v in t)if(t[u.hOP](v)&&n[u.hOP](v)){var nt,tt,st,lt,k,it,rt,ut,ft=!1,at=!1,g=t[v],vt=ot(g),yt=vt==h,pt=f.isA(g)?g:[g],d=r[v],b=n[v],ht=ot(b),wt=a?a+".":"",kt='The option "'+wt+v+"\" wasn't set, because",ct=[],et=[];if(d=d===i?{}:d,yt&&ht==h)c[v]={},l[v]={},w(b,g,d,c[v],l[v],wt+v),e.each([n,c,l],function(n,t){p(t[v])&&delete t[v]});else if(!yt){for(it=0;it<pt[u.l];it++)if(k=pt[it],st=(vt=ot(k))==s&&-1===y(k,bt))for(ct.push(s),nt=k.split(" "),et=et.concat(nt),rt=0;rt<nt[u.l];rt++){for(lt=(tt=nt[rt].split(":"))[0],ut=0;ut<tt[u.l];ut++)if(b===tt[ut]){ft=!0;break}if(ft)break}else if(ct.push(k),ht===k){ft=!0;break}ft?((at=b!==d)&&(c[v]=b),(st?y(d,tt)<0:at)&&(l[v]=st?lt:b)):o&&console.warn(kt+" it doesn't accept the type [ "+ht.toUpperCase()+' ] with the value of "'+b+'".\r\nAccepted types are: [ '+ct.join(", ").toUpperCase()+" ]."+(0<et[length]?"\r\nValid strings are: [ "+et.join(", ").split(":").join(", ")+" ].":""));delete n[v]}}};return w(l,r,c||{},a,v),!p(l)&&o&&console.warn("The following options are discarded due to invalidity:\r\n"+n.JSON.stringify(l,null,2)),{S:a,z:v}}},(v=n.OverlayScrollbars=function(n,t,r){if(0===arguments[u.l])return this;var o,h,s=[],c=e.isPlainObject(t);return n?(n=n[u.l]!=i?n:[n[0]||n],pt(),0<n[u.l]&&(c?e.each(n,function(n,u){(o=u)!==i&&s.push(ii(o,t,r,nt,vt))}):e.each(n,function(n,r){o=p(r);("!"===t&&v.valid(o)||f.type(t)==l&&t(r,o)||t===i)&&s.push(o)}),h=1===s[u.l]?s[0]:s),h):c||!t?h:s}).globals=function(){pt();var n=e.extend(!0,{},nt);return delete n.msie,n},v.defaultOptions=function(n){pt();var t=nt.defaultOptions;if(n===i)return e.extend(!0,{},t);nt.defaultOptions=e.extend(!0,{},t,et._(n,et.g,!0,t).S)},v.valid=function(n){return n instanceof v&&!n.getState().destroyed},v.extension=function(n,t,i){var o=f.type(n)==s,h=arguments[u.l],r=0;if(h<1||!o)return e.extend(!0,{length:w[u.l]},w);if(o)if(f.type(t)==l)w.push({name:n,extensionFactory:t,defaultOptions:i});else for(;r<w[u.l];r++)if(w[r].name===n){if(!(1<h))return e.extend(!0,{},w[r]);w.splice(r,1)}},v);return tt&&tt.fn&&(tt.fn.overlayScrollbars=function(n,t){return tt.isPlainObject(n)?(tt.each(this,function(){yt(this,n,t)}),this):yt(this,n)}),yt});